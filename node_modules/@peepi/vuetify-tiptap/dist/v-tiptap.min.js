var VTiptap=function(e,t,n){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=o(e),i=o(t);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var r=t&&t.prototype instanceof h?t:h,i=Object.create(r.prototype),s=new _(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return C()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var a=k(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=u(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function p(){}function f(){}var m={};a(m,r,(function(){return this}));var g=Object.getPrototypeOf,w=g&&g(g(S([])));w&&w!==t&&n.call(w,r)&&(m=w);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){function o(r,i,s,a){var l=u(e[r],e,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,s,a)}),(function(e){o("throw",e,s,a)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,a)}))}a(l.arg)}var r;this._invoke=function(e,n){function i(){return new t((function(t,r){o(e,n,t,r)}))}return r=r?r.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function S(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=f,a(y,"constructor",f),a(f,"constructor",p),p.displayName=a(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(v.prototype),a(v.prototype,i,(function(){return this})),e.AsyncIterator=v,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var s=new v(c(t,n,o,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(y),a(y,s,"Generator"),a(y,r,(function(){return this})),a(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,n,o,r,i,s){try{var a=e[i](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function s(e){c(i,o,r,s,a,"next",e)}function a(e){c(i,o,r,s,a,"throw",e)}s(void 0)}))}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return b(this,n)}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return i}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function S(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function C(e,t,n,o,r){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var A=a({},{uploadImage:null,mentionItems:null});function E(e){Object.assign(A,e)}function F(e){return A[e]}
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function N(e,t){j(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(n){j(e.prototype,t.prototype,n)})),Object.getOwnPropertyNames(t).forEach((function(n){j(e,t,n)}))}function j(e,t,n){(n?Reflect.getOwnMetadataKeys(t,n):Reflect.getOwnMetadataKeys(t)).forEach((function(o){var r=n?Reflect.getOwnMetadata(o,t,n):Reflect.getOwnMetadata(o,t);n?Reflect.defineMetadata(o,r,e,n):Reflect.defineMetadata(o,r,e)}))}var B={__proto__:[]}instanceof Array;function L(e){return function(t,n,o){var r="function"==typeof t?t:t.constructor;r.__decorators__||(r.__decorators__=[]),"number"!=typeof o&&(o=void 0),r.__decorators__.push((function(t){return e(t,n,o)}))}}function z(e,t){var n=t.prototype._init;t.prototype._init=function(){var t=this,n=Object.getOwnPropertyNames(e);if(e.$options.props)for(var o in e.$options.props)e.hasOwnProperty(o)||n.push(o);n.forEach((function(n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0})}))};var o=new t;t.prototype._init=n;var r={};return Object.keys(o).forEach((function(e){void 0!==o[e]&&(r[e]=o[e])})),r}var I=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(e){if("constructor"!==e)if(I.indexOf(e)>-1)t[e]=n[e];else{var o=Object.getOwnPropertyDescriptor(n,e);void 0!==o.value?"function"==typeof o.value?(t.methods||(t.methods={}))[e]=o.value:(t.mixins||(t.mixins=[])).push({data:function(){return M({},e,o.value)}}):(o.get||o.set)&&((t.computed||(t.computed={}))[e]={get:o.get,set:o.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return z(this,e)}});var o=e.__decorators__;o&&(o.forEach((function(e){return e(t)})),delete e.__decorators__);var i=Object.getPrototypeOf(e.prototype),s=i instanceof r.default?i.constructor:r.default,a=s.extend(t);return V(a,e,s),T()&&N(a,e),a}var $={prototype:!0,arguments:!0,callee:!0,caller:!0};function V(e,t,n){Object.getOwnPropertyNames(t).forEach((function(o){if(!$[o]){var r=Object.getOwnPropertyDescriptor(e,o);if(!r||r.configurable){var i,s,a=Object.getOwnPropertyDescriptor(t,o);if(!B){if("cid"===o)return;var l=Object.getOwnPropertyDescriptor(n,o);if(i=a.value,s=O(i),null!=i&&("object"===s||"function"===s)&&l&&l.value===a.value)return}Object.defineProperty(e,o,a)}}}))}function H(e){return"function"==typeof e?R(e):function(t){return R(t,e)}}H.registerHooks=function(e){I.push.apply(I,P(e))};var q=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,r++)o[r]=i[s];return o},K=/\B([A-Z])/g;function W(e){return function(t,n,o){var r=n.replace(K,"-$1").toLowerCase(),i=o.value;o.value=function(){for(var t=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var s=function(o){var i=e||r;void 0===o?0===n.length?t.$emit(i):1===n.length?t.$emit(i,n[0]):t.$emit.apply(t,q([i],n)):(n.unshift(o),t.$emit.apply(t,q([i],n)))},a=i.apply(this,n);return J(a)?a.then(s):s(a),a}}}function J(e){return e instanceof Promise||e&&"function"==typeof e.then}var U="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function G(e){return void 0===e&&(e={}),function(t,n){!function(e,t,n){if(U&&!Array.isArray(e)&&"function"!=typeof e&&!e.hasOwnProperty("type")&&void 0===e.type){var o=Reflect.getMetadata("design:type",t,n);o!==Object&&(e.type=o)}}(e,t,n),L((function(t,n){(t.props||(t.props={}))[n]=e}))(t,n)}}function X(e,t){void 0===t&&(t={});var n=t.deep,o=void 0!==n&&n,r=t.immediate,i=void 0!==r&&r;return L((function(t,n){"object"!=typeof t.watch&&(t.watch=Object.create(null));var r=t.watch;"object"!=typeof r[e]||Array.isArray(r[e])?void 0===r[e]&&(r[e]=[]):r[e]=[r[e]],r[e].push({handler:n,deep:o,immediate:i})}))}function Y(e){this.content=e}function Q(e,t,n){for(let o=0;;o++){if(o==e.childCount||o==t.childCount)return e.childCount==t.childCount?null:n;let r=e.child(o),i=t.child(o);if(r!=i){if(!r.sameMarkup(i))return n;if(r.isText&&r.text!=i.text){for(let e=0;r.text[e]==i.text[e];e++)n++;return n}if(r.content.size||i.content.size){let e=Q(r.content,i.content,n+1);if(null!=e)return e}n+=r.nodeSize}else n+=r.nodeSize}}function Z(e,t,n,o){for(let r=e.childCount,i=t.childCount;;){if(0==r||0==i)return r==i?null:{a:n,b:o};let s=e.child(--r),a=t.child(--i),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:o};if(s.isText&&s.text!=a.text){let e=0,t=Math.min(s.text.length,a.text.length);for(;e<t&&s.text[s.text.length-e-1]==a.text[a.text.length-e-1];)e++,n--,o--;return{a:n,b:o}}if(s.content.size||a.content.size){let e=Z(s.content,a.content,n-1,o-1);if(e)return e}n-=l,o-=l}else n-=l,o-=l}}Y.prototype={constructor:Y,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var o=n&&n!=e?this.remove(n):this,r=o.find(e),i=o.content.slice();return-1==r?i.push(n||e,t):(i[r+1]=t,n&&(i[r]=n)),new Y(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new Y(n)},addToStart:function(e,t){return new Y([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Y(n)},addBefore:function(e,t,n){var o=this.remove(t),r=o.content.slice(),i=o.find(e);return r.splice(-1==i?r.length:i,0,t,n),new Y(r)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=Y.from(e)).size?new Y(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=Y.from(e)).size?new Y(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Y.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},Y.from=function(e){if(e instanceof Y)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Y(t)};class ee{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,o=0,r){for(let i=0,s=0;s<t;i++){let a=this.content[i],l=s+a.nodeSize;if(l>e&&!1!==n(a,o+s,r||null,i)&&a.content.size){let r=s+1;a.nodesBetween(Math.max(0,e-r),Math.min(a.content.size,t-r),n,o+r)}s=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,o){let r="",i=!0;return this.nodesBetween(e,t,((s,a)=>{s.isText?(r+=s.text.slice(Math.max(e,a)-a,t-a),i=!n):s.isLeaf?(o?r+="function"==typeof o?o(s):o:s.type.spec.leafText&&(r+=s.type.spec.leafText(s)),i=!n):!i&&s.isBlock&&(r+=n,i=!0)}),0),r}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,o=this.content.slice(),r=0;for(t.isText&&t.sameMarkup(n)&&(o[o.length-1]=t.withText(t.text+n.text),r=1);r<e.content.length;r++)o.push(e.content[r]);return new ee(o,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],o=0;if(t>e)for(let r=0,i=0;i<t;r++){let s=this.content[r],a=i+s.nodeSize;a>e&&((i<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-i),Math.min(s.text.length,t-i)):s.cut(Math.max(0,e-i-1),Math.min(s.content.size,t-i-1))),n.push(s),o+=s.nodeSize),i=a}return new ee(n,o)}cutByIndex(e,t){return e==t?ee.empty:0==e&&t==this.content.length?this:new ee(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let o=this.content.slice(),r=this.size+t.nodeSize-n.nodeSize;return o[e]=t,new ee(o,r)}addToStart(e){return new ee([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ee(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let o=this.content[t];e(o,n,t),n+=o.nodeSize}}findDiffStart(e,t=0){return Q(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return Z(this,e,t,n)}findIndex(e,t=-1){if(0==e)return ne(0,e);if(e==this.size)return ne(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,o=0;;n++){let r=o+this.child(n).nodeSize;if(r>=e)return r==e||t>0?ne(n+1,r):ne(n,o);o=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return ee.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ee(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ee.empty;let t,n=0;for(let o=0;o<e.length;o++){let r=e[o];n+=r.nodeSize,o&&r.isText&&e[o-1].sameMarkup(r)?(t||(t=e.slice(0,o)),t[t.length-1]=r.withText(t[t.length-1].text+r.text)):t&&t.push(r)}return new ee(t||e,n)}static from(e){if(!e)return ee.empty;if(e instanceof ee)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ee([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ee.empty=new ee([],0);const te={index:0,offset:0};function ne(e,t){return te.index=e,te.offset=t,te}function oe(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!oe(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!oe(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class re{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let o=0;o<e.length;o++){let r=e[o];if(this.eq(r))return e;if(this.type.excludes(r.type))t||(t=e.slice(0,o));else{if(r.type.excludes(this.type))return e;!n&&r.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),n=!0),t&&t.push(r)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&oe(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return re.none;if(e instanceof re)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}re.none=[];class ie extends Error{}class se{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=le(this.content,e+this.openStart,t);return n&&new se(n,this.openStart,this.openEnd)}removeBetween(e,t){return new se(ae(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return se.empty;let n=t.openStart||0,o=t.openEnd||0;if("number"!=typeof n||"number"!=typeof o)throw new RangeError("Invalid input for Slice.fromJSON");return new se(ee.fromJSON(e,t.content),n,o)}static maxOpen(e,t=!0){let n=0,o=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)o++;return new se(e,n,o)}}function ae(e,t,n){let{index:o,offset:r}=e.findIndex(t),i=e.maybeChild(o),{index:s,offset:a}=e.findIndex(n);if(r==t||i.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(o!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(o,i.copy(ae(i.content,t-r-1,n-r-1)))}function le(e,t,n,o){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r);if(i==t||s.isText)return o&&!o.canReplace(r,r,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=le(s.content,t-i-1,n);return a&&e.replaceChild(r,s.copy(a))}function ce(e,t,n){if(n.openStart>e.depth)throw new ie("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new ie("Inconsistent open depths");return ue(e,t,n,0)}function ue(e,t,n,o){let r=e.index(o),i=e.node(o);if(r==t.index(o)&&o<e.depth-n.openStart){let s=ue(e,t,n,o+1);return i.copy(i.content.replaceChild(r,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=o||t.depth!=o){let{start:r,end:s}=function(e,t){let n=t.depth-e.openStart,o=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)o=t.node(e).copy(ee.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}(n,e);return me(i,ge(e,r,s,t,o))}{let o=e.parent,r=o.content;return me(o,r.cut(0,e.parentOffset).append(n.content).append(r.cut(t.parentOffset)))}}return me(i,we(e,t,o))}function de(e,t){if(!t.type.compatibleContent(e.type))throw new ie("Cannot join "+t.type.name+" onto "+e.type.name)}function he(e,t,n){let o=e.node(n);return de(o,t.node(n)),o}function pe(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function fe(e,t,n,o){let r=(t||e).node(n),i=0,s=t?t.index(n):r.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(pe(e.nodeAfter,o),i++));for(let e=i;e<s;e++)pe(r.child(e),o);t&&t.depth==n&&t.textOffset&&pe(t.nodeBefore,o)}function me(e,t){if(!e.type.validContent(t))throw new ie("Invalid content for node "+e.type.name);return e.copy(t)}function ge(e,t,n,o,r){let i=e.depth>r&&he(e,t,r+1),s=o.depth>r&&he(n,o,r+1),a=[];return fe(null,e,r,a),i&&s&&t.index(r)==n.index(r)?(de(i,s),pe(me(i,ge(e,t,n,o,r+1)),a)):(i&&pe(me(i,we(e,t,r+1)),a),fe(t,n,r,a),s&&pe(me(s,we(n,o,r+1)),a)),fe(o,null,r,a),new ee(a)}function we(e,t,n){let o=[];if(fe(null,e,n,o),e.depth>n){pe(me(he(e,t,n+1),we(e,t,n+1)),o)}return fe(t,null,n,o),new ee(o)}se.empty=new se(ee.empty,0,0);class ye{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],o=e.child(t);return n?e.child(t).cut(n):o}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],o=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)o+=n.child(t).nodeSize;return o}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return re.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),o=e.maybeChild(t);if(!n){let e=n;n=o,o=e}let r=n.marks;for(var i=0;i<r.length;i++)!1!==r[i].type.spec.inclusive||o&&r[i].isInSet(o.marks)||(r=r[i--].removeFromSet(r));return r}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,o=e.parent.maybeChild(e.index());for(var r=0;r<n.length;r++)!1!==n[r].type.spec.inclusive||o&&n[r].isInSet(o.marks)||(n=n[r--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new De(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],o=0,r=t;for(let t=e;;){let{index:e,offset:i}=t.content.findIndex(r),s=r-i;if(n.push(t,e,o+i),!s)break;if(t=t.child(e),t.isText)break;r=s-1,o+=i+1}return new ye(t,n,r)}static resolveCached(e,t){for(let n=0;n<be.length;n++){let o=be[n];if(o.pos==t&&o.doc==e)return o}let n=be[ve]=ye.resolve(e,t);return ve=(ve+1)%ke,n}}let be=[],ve=0,ke=12;class De{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const xe=Object.create(null);class _e{constructor(e,t,n,o=re.none){this.type=e,this.attrs=t,this.marks=o,this.content=n||ee.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,o=0){this.content.nodesBetween(e,t,n,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,o){return this.content.textBetween(e,t,n,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&oe(this.attrs,t||e.defaultAttrs||xe)&&re.sameSet(this.marks,n||re.none)}copy(e=null){return e==this.content?this:new _e(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new _e(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return se.empty;let o=this.resolve(e),r=this.resolve(t),i=n?0:o.sharedDepth(t),s=o.start(i),a=o.node(i).content.cut(o.pos-s,r.pos-s);return new se(a,o.depth-i,r.depth-i)}replace(e,t,n){return ce(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:o}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(o==e||t.isText)return t;e-=o+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let o=this.content.child(t-1);return{node:o,index:t-1,offset:n-o.nodeSize}}resolve(e){return ye.resolveCached(this,e)}resolveNoCache(e){return ye.resolve(this,e)}rangeHasMark(e,t,n){let o=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(o=!0),!o))),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Ce(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=ee.empty,o=0,r=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,o,r),s=i&&i.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let e=o;e<r;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,o){if(o&&!this.type.allowsMarks(o))return!1;let r=this.contentMatchAt(e).matchType(n),i=r&&r.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=re.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!re.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((e=>e.type.name))}`);this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let o=ee.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,o,n)}}_e.prototype.text=void 0;class Se extends _e{constructor(e,t,n,o){if(super(e,t,null,o),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Ce(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Se(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Se(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Ce(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Ae{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new Ee(e,t);if(null==n.next)return Ae.empty;let o=Fe(n);n.next&&n.err("Unexpected trailing text");let r=function(e){let t=Object.create(null);return n(je(e,0));function n(o){let r=[];o.forEach((t=>{e[t].forEach((({term:t,to:n})=>{if(!t)return;let o;for(let e=0;e<r.length;e++)r[e][0]==t&&(o=r[e][1]);je(e,n).forEach((e=>{o||r.push([t,o=[]]),-1==o.indexOf(e)&&o.push(e)}))}))}));let i=t[o.join(",")]=new Ae(o.indexOf(e.length-1)>-1);for(let e=0;e<r.length;e++){let o=r[e][1].sort(Ne);i.next.push({type:r[e][0],next:t[o.join(",")]||n(o)})}return i}}(function(e){let t=[[]];return r(i(e,0),n()),t;function n(){return t.push([])-1}function o(e,n,o){let r={term:o,to:n};return t[e].push(r),r}function r(e,t){e.forEach((e=>e.to=t))}function i(e,t){if("choice"==e.type)return e.exprs.reduce(((e,n)=>e.concat(i(n,t))),[]);if("seq"!=e.type){if("star"==e.type){let s=n();return o(t,s),r(i(e.expr,s),s),[o(s)]}if("plus"==e.type){let s=n();return r(i(e.expr,t),s),r(i(e.expr,s),s),[o(s)]}if("opt"==e.type)return[o(t)].concat(i(e.expr,t));if("range"==e.type){let s=t;for(let t=0;t<e.min;t++){let t=n();r(i(e.expr,s),t),s=t}if(-1==e.max)r(i(e.expr,s),s);else for(let t=e.min;t<e.max;t++){let t=n();o(s,t),r(i(e.expr,s),t),s=t}return[o(s)]}if("name"==e.type)return[o(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let o=0;;o++){let s=i(e.exprs[o],t);if(o==e.exprs.length-1)return s;r(s,t=n())}}}(o));return function(e,t){for(let n=0,o=[e];n<o.length;n++){let e=o[n],r=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];i.push(n.name),!r||n.isText||n.hasRequiredAttrs()||(r=!1),-1==o.indexOf(s)&&o.push(s)}r&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(r,n),r}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let o=this;for(let r=t;o&&r<n;r++)o=o.matchType(e.child(r).type);return o}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let o=[this];return function r(i,s){let a=i.matchFragment(e,n);if(a&&(!t||a.validEnd))return ee.from(s.map((e=>e.createAndFill())));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==o.indexOf(n)){o.push(n);let e=r(n,s.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let o=n.shift(),r=o.match;if(r.matchType(e)){let e=[];for(let t=o;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<r.next.length;e++){let{type:i,next:s}=r.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||o.type&&!s.validEnd||(n.push({match:i.contentMatch,type:i,via:o}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let o=0;o<n.next.length;o++)-1==e.indexOf(n.next[o].next)&&t(n.next[o].next)}(this),e.map(((t,n)=>{let o=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)o+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return o})).join("\n")}}Ae.empty=new Ae(!0);class Ee{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Fe(e){let t=[];do{t.push(Oe(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function Oe(e){let t=[];do{t.push(Me(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function Me(e){let t=function(e){if(e.eat("(")){let t=Fe(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,o=n[t];if(o)return[o];let r=[];for(let e in n){let o=n[e];o.groups.indexOf(t)>-1&&r.push(o)}0==r.length&&e.err("No node type or group '"+t+"' found");return r}(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=Te(e,t)}return t}function Pe(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Te(e,t){let n=Pe(e),o=n;return e.eat(",")&&(o="}"!=e.next?Pe(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:o,expr:t}}function Ne(e,t){return t-e}function je(e,t){let n=[];return function t(o){let r=e[o];if(1==r.length&&!r[0].term)return t(r[0].to);n.push(o);for(let e=0;e<r.length;e++){let{term:o,to:i}=r[e];o||-1!=n.indexOf(i)||t(i)}}(t),n.sort(Ne)}function Be(e){let t=Object.create(null);for(let n in e){let o=e[n];if(!o.hasDefault)return null;t[n]=o.default}return t}function Le(e,t){let n=Object.create(null);for(let o in e){let r=t&&t[o];if(void 0===r){let t=e[o];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+o);r=t.default}n[o]=r}return n}function ze(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new Re(e[n]);return t}class Ie{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=ze(n.attrs),this.defaultAttrs=Be(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ae.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Le(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new _e(this,this.computeAttrs(e),ee.from(t),re.setFrom(n))}createChecked(e=null,t,n){if(t=ee.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new _e(this,this.computeAttrs(e),t,re.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=ee.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let o=this.contentMatch.matchFragment(t),r=o&&o.fillBefore(ee.empty,!0);return r?new _e(this,e,t.append(r),re.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:re.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,o)=>n[e]=new Ie(e,t,o)));let o=t.spec.topNode||"doc";if(!n[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class Re{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class $e{constructor(e,t,n,o){this.name=e,this.rank=t,this.schema=n,this.spec=o,this.attrs=ze(o.attrs),this.excluded=null;let r=Be(this.attrs);this.instance=r?new re(this,r):null}create(e=null){return!e&&this.instance?this.instance:new re(this,Le(this.attrs,e))}static compile(e,t){let n=Object.create(null),o=0;return e.forEach(((e,r)=>n[e]=new $e(e,o++,t,r))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class Ve{constructor(e){this.cached=Object.create(null),this.spec={nodes:Y.from(e.nodes),marks:Y.from(e.marks||{}),topNode:e.topNode},this.nodes=Ie.compile(this.spec.nodes,this),this.marks=$e.compile(this.spec.marks,this);let t=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw new RangeError(e+" can not be both a node and a mark");let n=this.nodes[e],o=n.spec.content||"",r=n.spec.marks;n.contentMatch=t[o]||(t[o]=Ae.parse(o,this.nodes)),n.inlineContent=n.contentMatch.inlineContent,n.markSet="_"==r?null:r?He(this,r.split(" ")):""!=r&&n.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:He(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,o){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof Ie))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,o)}text(e,t){let n=this.nodes.text;return new Se(n,n.defaultAttrs,e,re.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return _e.fromJSON(this,e)}markFromJSON(e){return re.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function He(e,t){let n=[];for(let o=0;o<t.length;o++){let r=t[o],i=e.marks[r],s=i;if(i)n.push(i);else for(let t in e.marks){let o=e.marks[t];("_"==r||o.spec.group&&o.spec.group.split(" ").indexOf(r)>-1)&&n.push(s=o)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[o]+"'")}return n}class qe{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e,t={}){let n=new Xe(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new Xe(this,t,!0);return n.addAll(e,t.from,t.to),se.maxOpen(n.finish())}matchTag(e,t,n){for(let o=n?this.tags.indexOf(n)+1:0;o<this.tags.length;o++){let n=this.tags[o];if(Ye(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,o){for(let r=o?this.styles.indexOf(o)+1:0;r<this.styles.length;r++){let o=this.styles[r],i=o.style;if(!(0!=i.indexOf(e)||o.context&&!n.matchesContext(o.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(o.getAttrs){let e=o.getAttrs(t);if(!1===e)continue;o.attrs=e||void 0}return o}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,o=0;for(;o<t.length;o++){let e=t[o];if((null==e.priority?50:e.priority)<n)break}t.splice(o,0,e)}for(let t in e.marks){let o=e.marks[t].spec.parseDOM;o&&o.forEach((e=>{n(e=Qe(e)),e.mark=t}))}for(let t in e.nodes){let o=e.nodes[t].spec.parseDOM;o&&o.forEach((e=>{n(e=Qe(e)),e.node=t}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new qe(e,qe.schemaRules(e)))}}const Ke={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},We={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Je={ol:!0,ul:!0};function Ue(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class Ge{constructor(e,t,n,o,r,i,s){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=o,this.solid=r,this.options=s,this.content=[],this.activeMarks=re.none,this.stashMarks=[],this.match=i||(4&s?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ee.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=ee.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ee.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let o=n[t];(this.type?this.type.allowsMarkType(o.type):Ze(o.type,e))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Ke.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Xe{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let o,r=t.topNode,i=Ue(null,t.preserveWhitespace,0)|(n?4:0);o=r?new Ge(r.type,r.attrs,re.none,re.none,!0,t.topMatch||r.type.contentMatch,i):new Ge(n?null:e.schema.topNodeType,null,re.none,re.none,!0,null,i),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){let t=e.getAttribute("style"),n=t?this.readStyles(function(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,o=[];for(;t=n.exec(e);)o.push(t[1],t[2].trim());return o}(t)):null,o=this.top;if(null!=n)for(let e=0;e<n.length;e++)this.addPendingMark(n[e]);if(this.addElement(e),null!=n)for(let e=0;e<n.length;e++)this.removePendingMark(n[e],o)}}addTextNode(e){let t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let o=n.content[n.content.length-1],r=e.previousSibling;(!o||r&&"BR"==r.nodeName||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,o=e.nodeName.toLowerCase();Je.hasOwnProperty(o)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&Je.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let r=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(r?r.ignore:We.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e);else if(!r||r.skip||r.closeParent){r&&r.closeParent?this.open=Math.max(0,this.open-1):r&&r.skip.nodeType&&(e=r.skip);let t,n=this.top,i=this.needsBlock;if(Ke.hasOwnProperty(o))t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),t&&this.sync(n),this.needsBlock=i}else this.addElementByRule(e,r,!1===r.consuming?n:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=re.none;e:for(let n=0;n<e.length;n+=2)for(let o;;){let r=this.parser.matchStyle(e[n],e[n+1],this,o);if(!r)continue e;if(r.ignore)return null;if(t=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(t),!1!==r.consuming)break;o=r}return t}addElementByRule(e,t,n){let o,r,i;if(t.node)r=this.parser.schema.nodes[t.node],r.isLeaf?this.insertNode(r.create(t.attrs))||this.leafFallback(e):o=this.enter(r,t.attrs||null,t.preserveWhitespace);else{i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i)}let s=this.top;if(r&&r.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e)));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}o&&this.sync(s)&&this.open--,i&&this.removePendingMark(i,s)}addAll(e,t,n){let o=t||0;for(let r=t?e.childNodes[t]:e.firstChild,i=null==n?null:e.childNodes[n];r!=i;r=r.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(r);this.findAtPoint(e,o)}findPlace(e){let t,n;for(let o=this.open;o>=0;o--){let r=this.nodes[o],i=r.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=r,!i.length))break;if(r.solid)break}if(!t)return!1;this.sync(n);for(let e=0;e<t.length;e++)this.enterInner(t[e],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let o=0;o<e.marks.length;o++)t.type&&!t.type.allowsMarkType(e.marks[o].type)||(n=e.marks[o].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let o=this.findPlace(e.create(t));return o&&this.enterInner(e,t,!0,n),o}enterInner(e,t=null,n=!1,o){this.closeExtra();let r=this.top;r.applyPending(e),r.match=r.match&&r.match.matchType(e);let i=Ue(e,o,r.options);4&r.options&&0==r.content.length&&(i|=4),this.nodes.push(new Ge(e,t,r.activeMarks,r.pendingMarks,n,null,i)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let o=0;o<this.find.length;o++)if(null==this.find[o].pos&&1==e.nodeType&&e.contains(this.find[o].node)){t.compareDocumentPosition(this.find[o].node)&(n?2:4)&&(this.find[o].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,o=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),r=-(n?n.depth+1:0)+(o?0:1),i=(e,s)=>{for(;e>=0;e--){let a=t[e];if(""==a){if(e==t.length-1||0==e)continue;for(;s>=r;s--)if(i(e-1,s))return!0;return!1}{let e=s>0||0==s&&o?this.nodes[s].type:n&&s>=r?n.node(s-r).type:null;if(!e||e.name!=a&&-1==e.groups.indexOf(a))return!1;s--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(e){let t=function(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let o=this.nodes[n];if(o.pendingMarks.lastIndexOf(e)>-1)o.pendingMarks=e.removeFromSet(o.pendingMarks);else{o.activeMarks=e.removeFromSet(o.activeMarks);let t=o.popFromStashMark(e);t&&o.type&&o.type.allowsMarkType(t.type)&&(o.activeMarks=t.addToSet(o.activeMarks))}if(o==t)break}}}function Ye(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Qe(e){let t={};for(let n in e)t[n]=e[n];return t}function Ze(e,t){let n=t.schema.nodes;for(let o in n){let r=n[o];if(!r.allowsMarkType(e))continue;let i=[],s=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:o,next:r}=e.edge(n);if(o==t)return!0;if(i.indexOf(r)<0&&s(r))return!0}};if(s(r.contentMatch))return!0}}class et{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=nt(t).createDocumentFragment());let o=n,r=[];return e.forEach((e=>{if(r.length||e.marks.length){let n=0,i=0;for(;n<r.length&&i<e.marks.length;){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(r[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}for(;n<r.length;)o=r.pop()[1];for(;i<e.marks.length;){let n=e.marks[i++],s=this.serializeMark(n,e.isInline,t);s&&(r.push([n,o]),o.appendChild(s.dom),o=s.contentDOM||s.dom)}}o.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:o}=et.renderSpec(nt(t),this.nodes[e.type.name](e));if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,o)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let o=e.marks.length-1;o>=0;o--){let r=this.serializeMark(e.marks[o],e.isInline,t);r&&((r.contentDOM||r.dom).appendChild(n),n=r.dom)}return n}serializeMark(e,t,n={}){let o=this.marks[e.type.name];return o&&et.renderSpec(nt(n),o(e,t))}static renderSpec(e,t,n=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let o,r=t[0],i=r.indexOf(" ");i>0&&(n=r.slice(0,i),r=r.slice(i+1));let s=n?e.createElementNS(n,r):e.createElement(r),a=t[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){l=2;for(let e in a)if(null!=a[e]){let t=e.indexOf(" ");t>0?s.setAttributeNS(e.slice(0,t),e.slice(t+1),a[e]):s.setAttribute(e,a[e])}}for(let r=l;r<t.length;r++){let i=t[r];if(0===i){if(r<t.length-1||r>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}{let{dom:t,contentDOM:r}=et.renderSpec(e,i,n);if(s.appendChild(t),r){if(o)throw new RangeError("Multiple content holes");o=r}}}return{dom:s,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new et(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=tt(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return tt(e.marks)}}function tt(e){let t={};for(let n in e){let o=e[n].spec.toDOM;o&&(t[n]=o)}return t}function nt(e){return e.document||window.document}const ot=Math.pow(2,16);function rt(e){return 65535&e}class it{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class st{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&st.empty)return st.empty}recover(e){let t=0,n=rt(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/ot}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let o=0,r=this.inverted?2:1,i=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?o:0);if(a>e)break;let l=this.ranges[s+r],c=this.ranges[s+i],u=a+l;if(e<=u){let r=a+o+((l?e==a?-1:e==u?1:t:t)<0?0:c);if(n)return r;let i=e==(t<0?a:u)?null:s/3+(e-a)*ot,d=e==a?2:e==u?1:4;return(t<0?e!=a:e!=u)&&(d|=8),new it(r,d,i)}o+=c-l}return n?e+o:new it(e+o,0,null)}touches(e,t){let n=0,o=rt(t),r=this.inverted?2:1,i=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let s=this.ranges[t]-(this.inverted?n:0);if(s>e)break;let a=this.ranges[t+r];if(e<=s+a&&t==3*o)return!0;n+=this.ranges[t+i]-a}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let o=0,r=0;o<this.ranges.length;o+=3){let i=this.ranges[o],s=i-(this.inverted?r:0),a=i+(this.inverted?0:r),l=this.ranges[o+t],c=this.ranges[o+n];e(s,s+l,a,a+c),r+=c-l}}invert(){return new st(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?st.empty:new st(e<0?[0,-e,0]:[0,0,e])}}st.empty=new st([]);class at{constructor(e=[],t,n=0,o=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=o}slice(e=0,t=this.maps.length){return new at(this.maps,this.mirror,e,t)}copy(){return new at(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let o=e.getMirror(t);this.appendMap(e.maps[t],null!=o&&o<t?n+o:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let o=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=o&&o>t?n-o-1:void 0)}}invert(){let e=new at;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let o=0;for(let n=this.from;n<this.to;n++){let r=this.maps[n].mapResult(e,t);if(null!=r.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this.maps[t].recover(r.recover);continue}}o|=r.delInfo,e=r.pos}return n?e:new it(e,o,null)}}const lt=Object.create(null);class ct{getMap(){return st.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=lt[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in lt)throw new RangeError("Duplicate use of step JSON ID "+e);return lt[e]=t,t.prototype.jsonID=e,t}}class ut{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new ut(e,null)}static fail(e){return new ut(null,e)}static fromReplace(e,t,n,o){try{return ut.ok(e.replace(t,n,o))}catch(e){if(e instanceof ie)return ut.fail(e.message);throw e}}}function dt(e,t,n){let o=[];for(let r=0;r<e.childCount;r++){let i=e.child(r);i.content.size&&(i=i.copy(dt(i.content,t,i))),i.isInline&&(i=t(i,n,r)),o.push(i)}return ee.fromArray(o)}class ht extends ct{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),o=n.node(n.sharedDepth(this.to)),r=new se(dt(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),o),t.openStart,t.openEnd);return ut.fromReplace(e,this.from,this.to,r)}invert(){return new pt(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new ht(t.pos,n.pos,this.mark)}merge(e){return e instanceof ht&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ht(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ht(t.from,t.to,e.markFromJSON(t.mark))}}ct.jsonID("addMark",ht);class pt extends ct{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new se(dt(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return ut.fromReplace(e,this.from,this.to,n)}invert(){return new ht(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new pt(t.pos,n.pos,this.mark)}merge(e){return e instanceof pt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new pt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new pt(t.from,t.to,e.markFromJSON(t.mark))}}ct.jsonID("removeMark",pt);class ft extends ct{constructor(e,t,n,o=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=o}apply(e){return this.structure&&gt(e,this.from,this.to)?ut.fail("Structure replace would overwrite content"):ut.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new st([this.from,this.to-this.from,this.slice.size])}invert(e){return new ft(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new ft(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof ft)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?se.empty:new se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ft(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?se.empty:new se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ft(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ft(t.from,t.to,se.fromJSON(e,t.slice),!!t.structure)}}ct.jsonID("replace",ft);class mt extends ct{constructor(e,t,n,o,r,i,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=o,this.slice=r,this.insert=i,this.structure=s}apply(e){if(this.structure&&(gt(e,this.from,this.gapFrom)||gt(e,this.gapTo,this.to)))return ut.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return ut.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?ut.fromReplace(e,this.from,this.to,n):ut.fail("Content does not fit in gap")}getMap(){return new st([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new mt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),r=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||o<t.pos||r>n.pos?null:new mt(t.pos,n.pos,o,r,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new mt(t.from,t.to,t.gapFrom,t.gapTo,se.fromJSON(e,t.slice),t.insert,!!t.structure)}}function gt(e,t,n){let o=e.resolve(t),r=n-t,i=o.depth;for(;r>0&&i>0&&o.indexAfter(i)==o.node(i).childCount;)i--,r--;if(r>0){let e=o.node(i).maybeChild(o.indexAfter(i));for(;r>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,r--}}return!1}function wt(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function yt(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let o=e.$from.node(n),r=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&o.canReplace(r,i,t))return n;if(0==n||o.type.spec.isolating||!wt(o,r,i))break}return null}function bt(e,t,n=null,o=e){let r=function(e,t){let{parent:n,startIndex:o,endIndex:r}=e,i=n.contentMatchAt(o).findWrapping(t);if(!i)return null;let s=i.length?i[0]:t;return n.canReplaceWith(o,r,s)?i:null}(e,t),i=r&&function(e,t){let{parent:n,startIndex:o,endIndex:r}=e,i=n.child(o),s=t.contentMatch.findWrapping(i.type);if(!s)return null;let a=(s.length?s[s.length-1]:t).contentMatch;for(let e=o;a&&e<r;e++)a=a.matchType(n.child(e).type);return a&&a.validEnd?s:null}(o,t);return i?r.map(vt).concat({type:t,attrs:n}).concat(i.map(vt)):null}function vt(e){return{type:e,attrs:null}}function kt(e,t,n=1,o){let r=e.resolve(t),i=r.depth-n,s=o&&o[o.length-1]||r.parent;if(i<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let e=r.depth-1,t=n-2;e>i;e--,t--){let n=r.node(e),i=r.index(e);if(n.type.spec.isolating)return!1;let s=n.content.cutByIndex(i,n.childCount),a=o&&o[t]||n;if(a!=n&&(s=s.replaceChild(0,a.type.create(a.attrs))),!n.canReplace(i+1,n.childCount)||!a.type.validContent(s))return!1}let a=r.indexAfter(i),l=o&&o[0];return r.node(i).canReplaceWith(a,a,l?l.type:r.node(i+1).type)}function Dt(e,t){let n=e.resolve(t),o=n.index();return r=n.nodeBefore,i=n.nodeAfter,!(!r||!i||r.isLeaf||!r.canAppend(i))&&n.parent.canReplace(o,o+1);var r,i}function xt(e,t,n){let o=e.resolve(t);if(!n.content.size)return t;let r=n.content;for(let e=0;e<n.openStart;e++)r=r.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=o.depth;t>=0;t--){let n=t==o.depth?0:o.pos<=(o.start(t+1)+o.end(t+1))/2?-1:1,i=o.index(t)+(n>0?1:0),s=o.node(t),a=!1;if(1==e)a=s.canReplace(i,i,r);else{let e=s.contentMatchAt(i).findWrapping(r.firstChild.type);a=e&&s.canReplaceWith(i,i,e[0])}if(a)return 0==n?o.pos:n<0?o.before(t+1):o.after(t+1)}return null}function _t(e,t,n=t,o=se.empty){if(t==n&&!o.size)return null;let r=e.resolve(t),i=e.resolve(n);return St(r,i,o)?new ft(t,n,o):new Ct(r,i,o).fit()}function St(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}ct.jsonID("replaceAround",mt);class Ct{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=ee.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=ee.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,o=this.close(e<0?this.$to:n.doc.resolve(e));if(!o)return null;let r=this.placed,i=n.depth,s=o.depth;for(;i&&s&&1==r.childCount;)r=r.firstChild.content,i--,s--;let a=new se(r,i,s);return e>-1?new mt(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new ft(n.pos,o.pos,a):null}findFittable(){for(let e=1;e<=2;e++)for(let t=this.unplaced.openStart;t>=0;t--){let n,o=null;t?(o=Ft(this.unplaced.content,t-1).firstChild,n=o.content):n=this.unplaced.content;let r=n.firstChild;for(let n=this.depth;n>=0;n--){let i,{type:s,match:a}=this.frontier[n],l=null;if(1==e&&(r?a.matchType(r.type)||(l=a.fillBefore(ee.from(r),!1)):o&&s.compatibleContent(o.type)))return{sliceDepth:t,frontierDepth:n,parent:o,inject:l};if(2==e&&r&&(i=a.findWrapping(r.type)))return{sliceDepth:t,frontierDepth:n,parent:o,wrap:i};if(o&&a.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,o=Ft(e,t);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new se(e,t+1,Math.max(n,o.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,o=Ft(e,t);if(o.childCount<=1&&t>0){let r=e.size-t<=t+o.size;this.unplaced=new se(At(e,t-1,1),t-1,r?t-1:n)}else this.unplaced=new se(At(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:o,wrap:r}){for(;this.depth>t;)this.closeFrontierNode();if(r)for(let e=0;e<r.length;e++)this.openFrontierNode(r[e]);let i=this.unplaced,s=n?n.content:i.content,a=i.openStart-e,l=0,c=[],{match:u,type:d}=this.frontier[t];if(o){for(let e=0;e<o.childCount;e++)c.push(o.child(e));u=u.matchFragment(o)}let h=s.size+e-(i.content.size-i.openEnd);for(;l<s.childCount;){let e=s.child(l),t=u.matchType(e.type);if(!t)break;l++,(l>1||0==a||e.content.size)&&(u=t,c.push(Ot(e.mark(d.allowedMarks(e.marks)),1==l?a:0,l==s.childCount?h:-1)))}let p=l==s.childCount;p||(h=-1),this.placed=Et(this.placed,t,ee.from(c)),this.frontier[t].match=u,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=s;e<h;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=p?0==e?se.empty:new se(At(i.content,e-1,1),e-1,h<0?i.openEnd:e-1):new se(At(i.content,e,l),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!Mt(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,o=this.$to.after(n);for(;n>1&&o==this.$to.end(--n);)++o;return o}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:o}=this.frontier[t],r=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=Mt(e,t,o,n,r);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:o}=this.frontier[n],r=Mt(e,n,o,t,!0);if(!r||r.childCount)continue e}return{depth:t,fit:i,move:r?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Et(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),o=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,o)}return e}openFrontierNode(e,t=null,n){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=Et(this.placed,this.depth,ee.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(ee.empty,!0);e.childCount&&(this.placed=Et(this.placed,this.frontier.length,e))}}function At(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(At(e.firstChild.content,t-1,n)))}function Et(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Et(e.lastChild.content,t-1,n)))}function Ft(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Ot(e,t,n){if(t<=0)return e;let o=e.content;return t>1&&(o=o.replaceChild(0,Ot(o.firstChild,t-1,1==o.childCount?n-1:0))),t>0&&(o=e.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(e.type.contentMatch.matchFragment(o).fillBefore(ee.empty,!0)))),e.copy(o)}function Mt(e,t,n,o,r){let i=e.node(t),s=r?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=o.fillBefore(i.content,!0,s);return a&&!function(e,t,n){for(let o=n;o<t.childCount;o++)if(!e.allowsMarks(t.child(o).marks))return!0;return!1}(n,i.content,s)?a:null}function Pt(e){return e.spec.defining||e.spec.definingForContent}function Tt(e,t,n,o,r){if(t<n){let r=e.firstChild;e=e.replaceChild(0,r.copy(Tt(r.content,t+1,n,o,r)))}if(t>o){let t=r.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(ee.empty,!0))}return e}function Nt(e,t){let n=[];for(let o=Math.min(e.depth,t.depth);o>=0;o--){let r=e.start(o);if(r<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(r==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==r-1)&&n.push(o)}return n}let jt=class extends Error{};jt=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(jt.prototype=Object.create(Error.prototype)).constructor=jt,jt.prototype.name="TransformError";class Bt{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new at}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new jt(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=se.empty){let o=_t(this.doc,e,t,n);return o&&this.step(o),this}replaceWith(e,t,n){return this.replace(e,t,new se(ee.from(n),0,0))}delete(e,t){return this.replace(e,t,se.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,o){if(!o.size)return e.deleteRange(t,n);let r=e.doc.resolve(t),i=e.doc.resolve(n);if(St(r,i,o))return e.step(new ft(t,n,o));let s=Nt(r,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let a=-(r.depth+1);s.unshift(a);for(let e=r.depth,t=r.pos-1;e>0;e--,t--){let n=r.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;s.indexOf(e)>-1?a=e:r.before(e)==t&&s.splice(1,0,-e)}let l=s.indexOf(a),c=[],u=o.openStart;for(let e=o.content,t=0;;t++){let n=e.firstChild;if(c.push(n),t==o.openStart)break;e=n.content}for(let e=u-1;e>=0;e--){let t=c[e].type,n=Pt(t);if(n&&r.node(l).type!=t)u=e;else if(n||!t.isTextblock)break}for(let t=o.openStart;t>=0;t--){let a=(t+u+1)%(o.openStart+1),d=c[a];if(d)for(let t=0;t<s.length;t++){let c=s[(t+l)%s.length],u=!0;c<0&&(u=!1,c=-c);let h=r.node(c-1),p=r.index(c-1);if(h.canReplaceWith(p,p,d.type,d.marks))return e.replace(r.before(c),u?i.after(c):n,new se(Tt(o.content,0,o.openStart,a),a,o.openEnd))}}let d=e.steps.length;for(let a=s.length-1;a>=0&&(e.replace(t,n,o),!(e.steps.length>d));a--){let e=s[a];e<0||(t=r.before(e),n=i.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,o){if(!o.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let r=function(e,t,n){let o=e.resolve(t);if(o.parent.canReplaceWith(o.index(),o.index(),n))return t;if(0==o.parentOffset)for(let e=o.depth-1;e>=0;e--){let t=o.index(e);if(o.node(e).canReplaceWith(t,t,n))return o.before(e+1);if(t>0)return null}if(o.parentOffset==o.parent.content.size)for(let e=o.depth-1;e>=0;e--){let t=o.indexAfter(e);if(o.node(e).canReplaceWith(t,t,n))return o.after(e+1);if(t<o.node(e).childCount)return null}return null}(e.doc,t,o.type);null!=r&&(t=n=r)}e.replaceRange(t,n,new se(ee.from(o),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let o=e.doc.resolve(t),r=e.doc.resolve(n),i=Nt(o,r);for(let t=0;t<i.length;t++){let n=i[t],s=t==i.length-1;if(s&&0==n||o.node(n).type.contentMatch.validEnd)return e.delete(o.start(n),r.end(n));if(n>0&&(s||o.node(n-1).canReplace(o.index(n-1),r.indexAfter(n-1))))return e.delete(o.before(n),r.after(n))}for(let i=1;i<=o.depth&&i<=r.depth;i++)if(t-o.start(i)==o.depth-i&&n>o.end(i)&&r.end(i)-n!=r.depth-i)return e.delete(o.before(i),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:o,$to:r,depth:i}=t,s=o.before(i+1),a=r.after(i+1),l=s,c=a,u=ee.empty,d=0;for(let e=i,t=!1;e>n;e--)t||o.index(e)>0?(t=!0,u=ee.from(o.node(e).copy(u)),d++):l--;let h=ee.empty,p=0;for(let e=i,t=!1;e>n;e--)t||r.after(e+1)<r.end(e)?(t=!0,h=ee.from(r.node(e).copy(h)),p++):c++;e.step(new mt(l,c,s,a,new se(u.append(h),d,p),u.size-d,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let o=new ft(t-n,t+n,se.empty,!0);e.step(o)}(this,e,t),this}wrap(e,t){return function(e,t,n){let o=ee.empty;for(let e=n.length-1;e>=0;e--){if(o.size){let t=n[e].type.contentMatch.matchFragment(o);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=ee.from(n[e].type.create(n[e].attrs,o))}let r=t.start,i=t.end;e.step(new mt(r,i,r,i,new se(o,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,o=null){return function(e,t,n,o,r){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{if(t.isTextblock&&!t.hasMarkup(o,r)&&function(e,t,n){let o=e.resolve(t),r=o.index();return o.parent.canReplaceWith(r,r+1,n)}(e.doc,e.mapping.slice(i).map(n),o)){e.clearIncompatible(e.mapping.slice(i).map(n,1),o);let s=e.mapping.slice(i),a=s.map(n,1),l=s.map(n+t.nodeSize,1);return e.step(new mt(a,l,a+1,l-1,new se(ee.from(o.create(r,null,t.marks)),0,0),1,!0)),!1}}))}(this,e,t,n,o),this}setNodeMarkup(e,t,n=null,o=[]){return function(e,t,n,o,r){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(o,null,r||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new mt(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new se(ee.from(s),0,0),1,!0))}(this,e,t,n,o),this}split(e,t=1,n){return function(e,t,n=1,o){let r=e.doc.resolve(t),i=ee.empty,s=ee.empty;for(let e=r.depth,t=r.depth-n,a=n-1;e>t;e--,a--){i=ee.from(r.node(e).copy(i));let t=o&&o[a];s=ee.from(t?t.type.create(t.attrs,s):r.node(e).copy(s))}e.step(new ft(t,t,new se(i.append(s),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,o){let r,i,s=[],a=[];e.doc.nodesBetween(t,n,((e,l,c)=>{if(!e.isInline)return;let u=e.marks;if(!o.isInSet(u)&&c.type.allowsMarkType(o.type)){let c=Math.max(l,t),d=Math.min(l+e.nodeSize,n),h=o.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(h)||(r&&r.to==c&&r.mark.eq(u[e])?r.to=d:s.push(r=new pt(c,d,u[e])));i&&i.to==c?i.to=d:a.push(i=new ht(c,d,o))}})),s.forEach((t=>e.step(t))),a.forEach((t=>e.step(t)))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,o){let r=[],i=0;e.doc.nodesBetween(t,n,((e,s)=>{if(!e.isInline)return;i++;let a=null;if(o instanceof $e){let t,n=e.marks;for(;t=o.isInSet(n);)(a||(a=[])).push(t),n=t.removeFromSet(n)}else o?o.isInSet(e.marks)&&(a=[o]):a=e.marks;if(a&&a.length){let o=Math.min(s+e.nodeSize,n);for(let e=0;e<a.length;e++){let n,l=a[e];for(let e=0;e<r.length;e++){let t=r[e];t.step==i-1&&l.eq(r[e].style)&&(n=t)}n?(n.to=o,n.step=i):r.push({style:l,from:Math.max(s,t),to:o,step:i})}}})),r.forEach((t=>e.step(new pt(t.from,t.to,t.style))))}(this,e,t,n),this}clearIncompatible(e,t,n){return function(e,t,n,o=n.contentMatch){let r=e.doc.nodeAt(t),i=[],s=t+1;for(let t=0;t<r.childCount;t++){let a=r.child(t),l=s+a.nodeSize,c=o.matchType(a.type);if(c){o=c;for(let t=0;t<a.marks.length;t++)n.allowsMarkType(a.marks[t].type)||e.step(new pt(s,l,a.marks[t]))}else i.push(new ft(s,l,se.empty));s=l}if(!o.validEnd){let t=o.fillBefore(ee.empty,!0);e.replace(s,s,new se(t,0,0))}for(let t=i.length-1;t>=0;t--)e.step(i[t])}(this,e,t,n),this}}const Lt=Object.create(null);class zt{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new It(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=se.empty){let n=t.content.lastChild,o=null;for(let e=0;e<t.openEnd;e++)o=n,n=n.lastChild;let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:l}=i[s],c=e.mapping.slice(r);e.replaceRange(c.map(a.pos),c.map(l.pos),s?se.empty:t),0==s&&Gt(e,r,(n?n.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,o=this.ranges;for(let r=0;r<o.length;r++){let{$from:i,$to:s}=o[r],a=e.mapping.slice(n),l=a.map(i.pos),c=a.map(s.pos);r?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),Gt(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let o=e.parent.inlineContent?new Vt(e):Ut(e.node(0),e.parent,e.pos,e.index(),t,n);if(o)return o;for(let o=e.depth-1;o>=0;o--){let r=t<0?Ut(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):Ut(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(r)return r}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Wt(e.node(0))}static atStart(e){return Ut(e,e,0,0,1)||new Wt(e)}static atEnd(e){return Ut(e,e,e.content.size,e.childCount,-1)||new Wt(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Lt[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Lt)throw new RangeError("Duplicate use of selection JSON ID "+e);return Lt[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Vt.between(this.$anchor,this.$head).getBookmark()}}zt.prototype.visible=!0;class It{constructor(e,t){this.$from=e,this.$to=t}}let Rt=!1;function $t(e){Rt||e.parent.inlineContent||(Rt=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Vt extends zt{constructor(e,t=e){$t(e),$t(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return zt.near(n);let o=e.resolve(t.map(this.anchor));return new Vt(o.parent.inlineContent?o:n,n)}replace(e,t=se.empty){if(super.replace(e,t),t==se.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof Vt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ht(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Vt(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let o=e.resolve(t);return new this(o,n==t?o:e.resolve(n))}static between(e,t,n){let o=e.pos-t.pos;if(n&&!o||(n=o>=0?1:-1),!t.parent.inlineContent){let e=zt.findFrom(t,n,!0)||zt.findFrom(t,-n,!0);if(!e)return zt.near(t,n);t=e.$head}return e.parent.inlineContent||(0==o||(e=(zt.findFrom(e,-n,!0)||zt.findFrom(e,n,!0)).$anchor).pos<t.pos!=o<0)&&(e=t),new Vt(e,t)}}zt.jsonID("text",Vt);class Ht{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Ht(e.map(this.anchor),e.map(this.head))}resolve(e){return Vt.between(e.resolve(this.anchor),e.resolve(this.head))}}class qt extends zt{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:o}=t.mapResult(this.anchor),r=e.resolve(o);return n?zt.near(r):new qt(r)}content(){return new se(ee.from(this.node),0,0)}eq(e){return e instanceof qt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Kt(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new qt(e.resolve(t.anchor))}static create(e,t){return new qt(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}qt.prototype.visible=!1,zt.jsonID("node",qt);class Kt{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Ht(n,n):new Kt(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&qt.isSelectable(n)?new qt(t):zt.near(t)}}class Wt extends zt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=se.empty){if(t==se.empty){e.delete(0,e.doc.content.size);let t=zt.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Wt(e)}map(e){return new Wt(e)}eq(e){return e instanceof Wt}getBookmark(){return Jt}}zt.jsonID("all",Wt);const Jt={map(){return this},resolve:e=>new Wt(e)};function Ut(e,t,n,o,r,i=!1){if(t.inlineContent)return Vt.create(e,n);for(let s=o-(r>0?0:1);r>0?s<t.childCount:s>=0;s+=r){let o=t.child(s);if(o.isAtom){if(!i&&qt.isSelectable(o))return qt.create(e,n-(r<0?o.nodeSize:0))}else{let t=Ut(e,o,n+r,r<0?o.childCount:0,r,i);if(t)return t}n+=o.nodeSize*r}return null}function Gt(e,t,n){let o=e.steps.length-1;if(o<t)return;let r,i=e.steps[o];(i instanceof ft||i instanceof mt)&&(e.mapping.maps[o].forEach(((e,t,n,o)=>{null==r&&(r=o)})),e.setSelection(zt.near(e.doc.resolve(r),n)))}class Xt extends Bt{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return re.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||re.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let o=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let r=this.storedMarks;if(!r){let e=this.doc.resolve(t);r=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,o.text(e,r)),this.selection.empty||this.setSelection(zt.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function Yt(e,t){return t&&e?e.bind(t):e}class Qt{constructor(e,t,n){this.name=e,this.init=Yt(t.init,n),this.apply=Yt(t.apply,n)}}const Zt=[new Qt("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new Qt("selection",{init:(e,t)=>e.selection||zt.atStart(t.doc),apply:e=>e.selection}),new Qt("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,o)=>o.selection.$cursor?e.storedMarks:null}),new Qt("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class en{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Zt.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new Qt(e.key,e.spec.state,e))}))}}class tn{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),o=null;for(;;){let r=!1;for(let i=0;i<this.config.plugins.length;i++){let s=this.config.plugins[i];if(s.spec.appendTransaction){let a=o?o[i].n:0,l=o?o[i].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!o){o=[];for(let e=0;e<this.config.plugins.length;e++)o.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),r=!0}o&&(o[i]={state:n,n:t.length})}}if(!r)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new tn(this.config),n=this.config.fields;for(let o=0;o<n.length;o++){let r=n[o];t[r.name]=r.apply(e,this[r.name],this,t)}return t}get tr(){return new Xt(this)}static create(e){let t=new en(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new tn(t);for(let o=0;o<t.fields.length;o++)n[t.fields[o].name]=t.fields[o].init(e,n);return n}reconfigure(e){let t=new en(this.schema,e.plugins),n=t.fields,o=new tn(t);for(let t=0;t<n.length;t++){let r=n[t].name;o[r]=this.hasOwnProperty(r)?this[r]:n[t].init(e,o)}return o}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[n],r=o.spec.state;r&&r.toJSON&&(t[n]=r.toJSON.call(o,this[o.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new en(e.schema,e.plugins),r=new tn(o);return o.fields.forEach((o=>{if("doc"==o.name)r.doc=_e.fromJSON(e.schema,t.doc);else if("selection"==o.name)r.selection=zt.fromJSON(r.doc,t.selection);else if("storedMarks"==o.name)t.storedMarks&&(r.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let i in n){let s=n[i],a=s.spec.state;if(s.key==o.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(r[o.name]=a.fromJSON.call(s,e,t[i],r))}r[o.name]=o.init(e,r)}})),r}}function nn(e,t,n){for(let o in e){let r=e[o];r instanceof Function?r=r.bind(t):"handleDOMEvents"==o&&(r=nn(r,t,{})),n[o]=r}return n}class on{constructor(e){this.spec=e,this.props={},e.props&&nn(e.props,this,this.props),this.key=e.key?e.key.key:sn("plugin")}getState(e){return e[this.key]}}const rn=Object.create(null);function sn(e){return e in rn?e+"$"+ ++rn[e]:(rn[e]=0,e+"$")}class an{constructor(e="key"){this.key=sn(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ln="undefined"!=typeof navigator?navigator:null,cn="undefined"!=typeof document?document:null,un=ln&&ln.userAgent||"",dn=/Edge\/(\d+)/.exec(un),hn=/MSIE \d/.exec(un),pn=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(un),fn=!!(hn||pn||dn),mn=hn?document.documentMode:pn?+pn[1]:dn?+dn[1]:0,gn=!fn&&/gecko\/(\d+)/i.test(un);gn&&(/Firefox\/(\d+)/.exec(un)||[0,0])[1];const wn=!fn&&/Chrome\/(\d+)/.exec(un),yn=!!wn,bn=wn?+wn[1]:0,vn=!fn&&!!ln&&/Apple Computer/.test(ln.vendor),kn=vn&&(/Mobile\/\w+/.test(un)||!!ln&&ln.maxTouchPoints>2),Dn=kn||!!ln&&/Mac/.test(ln.platform),xn=/Android \d/.test(un),_n=!!cn&&"webkitFontSmoothing"in cn.documentElement.style,Sn=_n?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,Cn=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},An=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let En=null;const Fn=function(e,t,n){let o=En||(En=document.createRange());return o.setEnd(e,null==n?e.nodeValue.length:n),o.setStart(e,t||0),o},On=function(e,t,n,o){return n&&(Pn(e,t,n,o,-1)||Pn(e,t,n,o,1))},Mn=/^(img|br|input|textarea|hr)$/i;function Pn(e,t,n,o,r){for(;;){if(e==n&&t==o)return!0;if(t==(r<0?0:Tn(e))){let n=e.parentNode;if(!n||1!=n.nodeType||Nn(e)||Mn.test(e.nodeName)||"false"==e.contentEditable)return!1;t=Cn(e)+(r<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(r<0?-1:0)]).contentEditable)return!1;t=r<0?Tn(e):0}}}function Tn(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Nn(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const jn=function(e){let t=e.isCollapsed;return t&&yn&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function Bn(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Ln(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function zn(e,t){return"number"==typeof e?e:e[t]}function In(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,o=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*o}}function Rn(e,t,n){let o=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;s;s=An(s)){if(1!=s.nodeType)continue;let e=s,n=e==i.body,a=n?Ln(i):In(e),l=0,c=0;if(t.top<a.top+zn(o,"top")?c=-(a.top-t.top+zn(r,"top")):t.bottom>a.bottom-zn(o,"bottom")&&(c=t.bottom-a.bottom+zn(r,"bottom")),t.left<a.left+zn(o,"left")?l=-(a.left-t.left+zn(r,"left")):t.right>a.right-zn(o,"right")&&(l=t.right-a.right+zn(r,"right")),l||c)if(n)i.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,o=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let r=e.scrollLeft-n,i=e.scrollTop-o;t={left:t.left-r,top:t.top-i,right:t.right-r,bottom:t.bottom-i}}if(n)break}}function $n(e){let t=[],n=e.ownerDocument;for(let o=e;o&&(t.push({dom:o,top:o.scrollTop,left:o.scrollLeft}),e!=n);o=An(o));return t}function Vn(e,t){for(let n=0;n<e.length;n++){let{dom:o,top:r,left:i}=e[n];o.scrollTop!=r+t&&(o.scrollTop=r+t),o.scrollLeft!=i&&(o.scrollLeft=i)}}let Hn=null;function qn(e,t){let n,o,r=2e8,i=0,s=t.top,a=t.top;for(let l=e.firstChild,c=0;l;l=l.nextSibling,c++){let e;if(1==l.nodeType)e=l.getClientRects();else{if(3!=l.nodeType)continue;e=Fn(l).getClientRects()}for(let u=0;u<e.length;u++){let d=e[u];if(d.top<=s&&d.bottom>=a){s=Math.max(d.bottom,s),a=Math.min(d.top,a);let e=d.left>t.left?d.left-t.left:d.right<t.left?t.left-d.right:0;if(e<r){n=l,r=e,o=e&&3==n.nodeType?{left:d.right<t.left?d.right:d.left,top:t.top}:t,1==l.nodeType&&e&&(i=c+(t.left>=(d.left+d.right)/2?1:0));continue}}!n&&(t.left>=d.right&&t.top>=d.top||t.left>=d.left&&t.top>=d.bottom)&&(i=c+1)}}return n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,o=document.createRange();for(let r=0;r<n;r++){o.setEnd(e,r+1),o.setStart(e,r);let n=Un(o,1);if(n.top!=n.bottom&&Kn(t,n))return{node:e,offset:r+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,o):!n||r&&1==n.nodeType?{node:e,offset:i}:qn(n,o)}function Kn(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Wn(e,t,n){let o=e.childNodes.length;if(o&&n.top<n.bottom)for(let r=Math.max(0,Math.min(o-1,Math.floor(o*(t.top-n.top)/(n.bottom-n.top))-2)),i=r;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let o=0;o<e.length;o++){let r=e[o];if(Kn(t,r))return Wn(n,t,r)}}if((i=(i+1)%o)==r)break}return e}function Jn(e,t){let n,o=e.dom.ownerDocument,r=0;if(o.caretPositionFromPoint)try{let e=o.caretPositionFromPoint(t.left,t.top);e&&({offsetNode:n,offset:r}=e)}catch(e){}if(!n&&o.caretRangeFromPoint){let e=o.caretRangeFromPoint(t.left,t.top);e&&({startContainer:n,startOffset:r}=e)}let i,s=(e.root.elementFromPoint?e.root:o).elementFromPoint(t.left,t.top+1);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){let n=e.dom.getBoundingClientRect();if(!Kn(t,n))return null;if(s=Wn(e.dom,t,n),!s)return null}if(vn)for(let e=s;n&&e;e=An(e))e.draggable&&(n=void 0);if(s=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(s,t),n){if(gn&&1==n.nodeType&&(r=Math.min(r,n.childNodes.length),r<n.childNodes.length)){let e,o=n.childNodes[r];"IMG"==o.nodeName&&(e=o.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&r++}n==e.dom&&r==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?i=e.state.doc.content.size:0!=r&&1==n.nodeType&&"BR"==n.childNodes[r-1].nodeName||(i=function(e,t,n,o){let r=-1;for(let n=t;n!=e.dom;){let t=e.docView.nearestDesc(n,!0);if(!t)return null;if(t.node.isBlock&&t.parent){let e=t.dom.getBoundingClientRect();if(e.left>o.left||e.top>o.top)r=t.posBefore;else{if(!(e.right<o.left||e.bottom<o.top))break;r=t.posAfter}}n=t.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n,1)}(e,n,r,t))}null==i&&(i=function(e,t,n){let{node:o,offset:r}=qn(t,n),i=-1;if(1==o.nodeType&&!o.firstChild){let e=o.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(o,r,i)}(e,s,t));let a=e.docView.nearestDesc(s,!0);return{pos:i,inside:a?a.posAtStart-a.border:-1}}function Un(e,t){let n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const Gn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Xn(e,t,n){let{node:o,offset:r}=e.docView.domFromPos(t,n<0?-1:1),i=_n||gn;if(3==o.nodeType){if(!i||!Gn.test(o.nodeValue)&&(n<0?r:r!=o.nodeValue.length)){let e=r,t=r,i=n<0?1:-1;return n<0&&!r?(t++,i=-1):n>=0&&r==o.nodeValue.length?(e--,i=1):n<0?e--:t++,Yn(Un(Fn(o,e,t),i),i<0)}{let e=Un(Fn(o,r,r),n);if(gn&&r&&/\s/.test(o.nodeValue[r-1])&&r<o.nodeValue.length){let t=Un(Fn(o,r-1,r-1),-1);if(t.top==e.top){let n=Un(Fn(o,r,r+1),-1);if(n.top!=e.top)return Yn(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t).parent.inlineContent){if(r&&(n<0||r==Tn(o))){let e=o.childNodes[r-1];if(1==e.nodeType)return Qn(e.getBoundingClientRect(),!1)}if(r<Tn(o)){let e=o.childNodes[r];if(1==e.nodeType)return Qn(e.getBoundingClientRect(),!0)}return Qn(o.getBoundingClientRect(),n>=0)}if(r&&(n<0||r==Tn(o))){let e=o.childNodes[r-1],t=3==e.nodeType?Fn(e,Tn(e)-(i?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return Yn(Un(t,1),!1)}if(r<Tn(o)){let e=o.childNodes[r];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?Fn(e,0,i?0:1):1==e.nodeType?e:null:null;if(t)return Yn(Un(t,-1),!0)}return Yn(Un(3==o.nodeType?Fn(o):o,-n),n>=0)}function Yn(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Qn(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Zn(e,t,n){let o=e.state,r=e.root.activeElement;o!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{o!=t&&e.updateState(o),r!=e.dom&&r&&r.focus()}}const eo=/[\u0590-\u08ac]/;let to=null,no=null,oo=!1;function ro(e,t,n){return to==t&&no==n?oo:(to=t,no=n,oo="up"==n||"down"==n?function(e,t,n){let o=t.selection,r="up"==n?o.$from:o.$to;return Zn(e,t,(()=>{let{node:t}=e.docView.domFromPos(r.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.dom;break}t=n.dom.parentNode}let o=Xn(e,r.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=Fn(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let r=t[e];if(r.bottom>r.top+1&&("up"==n?o.top-r.top>2*(r.bottom-o.top):r.bottom-o.bottom>2*(o.bottom-r.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){let{$head:o}=t.selection;if(!o.parent.isTextblock)return!1;let r=o.parentOffset,i=!r,s=r==o.parent.content.size,a=e.domSelection();return eo.test(o.parent.textContent)&&a.modify?Zn(e,t,(()=>{let t=a.getRangeAt(0),r=a.focusNode,i=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");let l=!(o.depth?e.docView.domAfterPos(o.before()):e.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||r==a.focusNode&&i==a.focusOffset;return a.removeAllRanges(),a.addRange(t),null!=s&&(a.caretBidiLevel=s),l})):"left"==n||"backward"==n?i:s}(e,t,n))}class io{constructor(e,t,n,o){this.parent=e,this.children=t,this.dom=n,this.contentDOM=o,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let o=this.children[t];if(o==e)return n;n+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,o;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(o=n.pmViewDesc)||o.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(o)+o.size:this.posAtStart}{let n,o;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(o=n.pmViewDesc)||o.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(o):this.posAtEnd}}let o;if(e==this.dom&&this.contentDOM)o=t>Cn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){o=!1;break}if(t.previousSibling)break}if(null==o&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){o=!0;break}if(t.nextSibling)break}}return(null==o?n>0:o)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,o=e;o;o=o.parentNode){let r,i=this.getDesc(o);if(i&&(!t||i.node)){if(!n||!(r=i.nodeDOM)||(1==r.nodeType?r.contains(1==e.nodeType?e:e.parentNode):r==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let o=e;o;o=o.parentNode){let r=this.getDesc(o);if(r)return r.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let o=this.children[t],r=n+o.size;if(n==e&&r!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<r)return o.descAt(e-n-o.border);n=r}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};let n,o=0,r=0;for(let t=0;o<this.children.length;o++){let n=this.children[o],i=t+n.size;if(i>e||n instanceof po){r=e-t;break}t=i}if(r)return this.children[o].domFromPos(r-this.children[o].border,t);for(;o&&!(n=this.children[o-1]).size&&n instanceof so&&n.side>=0;o--);if(t<=0){let e,n=!0;for(;e=o?this.children[o-1]:null,e&&e.dom.parentNode!=this.contentDOM;o--,n=!1);return e&&t&&n&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?Cn(e.dom)+1:0}}{let e,n=!0;for(;e=o<this.children.length?this.children[o]:null,e&&e.dom.parentNode!=this.contentDOM;o++,n=!1);return e&&n&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?Cn(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,r=-1;for(let i=n,s=0;;s++){let n=this.children[s],a=i+n.size;if(-1==o&&e<=a){let r=i+n.border;if(e>=r&&t<=a-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,r);e=i;for(let t=s;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){o=Cn(n.dom)+1;break}e-=n.size}-1==o&&(o=0)}if(o>-1&&(a>t||s==this.children.length-1)){t=a;for(let e=s+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){r=Cn(n.dom);break}t+=n.size}-1==r&&(r=this.contentDOM.childNodes.length);break}i=a}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:r}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,o=!1){let r=Math.min(e,t),i=Math.max(e,t);for(let s=0,a=0;s<this.children.length;s++){let l=this.children[s],c=a+l.size;if(r>a&&i<c)return l.setSelection(e-a-l.border,t-a-l.border,n,o);a=c}let s=this.domFromPos(e,e?-1:1),a=t==e?s:this.domFromPos(t,t?-1:1),l=n.getSelection(),c=!1;if((gn||vn)&&e==t){let{node:e,offset:t}=s;if(3==e.nodeType){if(c=!(!t||"\n"!=e.nodeValue[t-1]),c&&t==e.nodeValue.length)for(let t,n=e;n;n=n.parentNode){if(t=n.nextSibling){"BR"==t.nodeName&&(s=a={node:t.parentNode,offset:Cn(t)+1});break}let e=n.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(gn&&l.focusNode&&l.focusNode!=a.node&&1==l.focusNode.nodeType){let e=l.focusNode.childNodes[l.focusOffset];e&&"false"==e.contentEditable&&(o=!0)}if(!(o||c&&vn)&&On(s.node,s.offset,l.anchorNode,l.anchorOffset)&&On(a.node,a.offset,l.focusNode,l.focusOffset))return;let u=!1;if((l.extend||e==t)&&!c){l.collapse(s.node,s.offset);try{e!=t&&l.extend(a.node,a.offset),u=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!u){if(e>t){let e=s;s=a,a=e}let n=document.createRange();n.setEnd(a.node,a.offset),n.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,o=0;o<this.children.length;o++){let r=this.children[o],i=n+r.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let o=n+r.border,s=i-r.border;if(e>=o&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=o||t!=s||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(e-o,t-o):r.dirty=3);r.dirty=r.dom!=r.contentDOM||r.dom.parentNode!=this.contentDOM||r.children.length?3:2}n=i}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class so extends io{constructor(e,t,n,o){let r,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,(()=>r?r.parent?r.parent.posBeforeChild(r):void 0:o))),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,r=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class ao extends io{constructor(e,t,n,o){super(e,[],t,null),this.textDOM=n,this.text=o}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class lo extends io{constructor(e,t,n,o){super(e,[],n,o),this.mark=t}static create(e,t,n,o){let r=o.nodeViews[t.type.name],i=r&&r(t,o,n);return i&&i.dom||(i=et.renderSpec(document,t.type.spec.toDOM(t,n))),new lo(e,t,i.dom,i.contentDOM||i.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let o=lo.create(this.parent,this.mark,!0,n),r=this.children,i=this.size;t<i&&(r=Co(r,t,i,n)),e>0&&(r=Co(r,0,e,n));for(let e=0;e<r.length;e++)r[e].parent=o;return o.children=r,o}}class co extends io{constructor(e,t,n,o,r,i,s,a,l){super(e,[],r,i),this.node=t,this.outerDeco=n,this.innerDeco=o,this.nodeDOM=s,i&&this.updateChildren(a,l)}static create(e,t,n,o,r,i){let s,a=r.nodeViews[t.type.name],l=a&&a(t,r,(()=>s?s.parent?s.parent.posBeforeChild(s):void 0:i),n,o),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else c||({dom:c,contentDOM:u}=et.renderSpec(document,t.type.spec.toDOM(t)));u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=ko(c,n,t),l?s=new fo(e,t,n,o,c,u||null,d,l,r,i+1):t.isText?new ho(e,t,n,o,c,d,r):new co(e,t,n,o,c,u||null,d,r,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ee.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Do(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,o=t,r=e.composing?this.localCompositionInfo(e,t):null,i=r&&r.pos>-1?r:null,s=r&&r.pos<0,a=new _o(this,i&&i.node);!function(e,t,n,o){let r=t.locals(e),i=0;if(0==r.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);o(s,r,t.forChild(i,s),n),i+=s.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){if(s<r.length&&r[s].to==i){let e,t=r[s++];for(;s<r.length&&r[s].to==i;)(e||(e=[t])).push(r[s++]);if(e){e.sort(So);for(let t=0;t<e.length;t++)n(e[t],c,!!l)}else n(t,c,!!l)}let u,d;if(l)d=-1,u=l,l=null;else{if(!(c<e.childCount))break;d=c,u=e.child(c++)}for(let e=0;e<a.length;e++)a[e].to<=i&&a.splice(e--,1);for(;s<r.length&&r[s].from<=i&&r[s].to>i;)a.push(r[s++]);let h=i+u.nodeSize;if(u.isText){let e=h;s<r.length&&r[s].from<e&&(e=r[s].from);for(let t=0;t<a.length;t++)a[t].to<e&&(e=a[t].to);e<h&&(l=u.cut(e-i),u=u.cut(0,e-i),h=e,d=-1)}o(u,u.isInline&&!u.isLeaf?a.filter((e=>!e.inline)):a.slice(),t.forChild(i,u),d),i=h}}(this.node,this.innerDeco,((t,r,i)=>{t.spec.marks?a.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!i&&a.syncToMarks(r==this.node.childCount?re.none:this.node.child(r).marks,n,e),a.placeWidget(t,e,o)}),((t,i,l,c)=>{let u;a.syncToMarks(t.marks,n,e),a.findNodeMatch(t,i,l,c)||s&&e.state.selection.from>o&&e.state.selection.to<o+t.nodeSize&&(u=a.findIndexWithChild(r.node))>-1&&a.updateNodeAt(t,i,l,u,e)||a.updateNextNode(t,i,l,e,c)||a.addNode(t,i,l,e,o),o+=t.nodeSize})),a.syncToMarks([],n,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||2==this.dirty)&&(i&&this.protectLocalComposition(e,i),mo(this.contentDOM,this.children,e),kn&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:o}=e.state.selection;if(!(e.state.selection instanceof Vt)||n<t||o>t+this.node.content.size)return null;let r=e.domSelection(),i=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=Tn(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(r.focusNode,r.focusOffset);if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let e=i.nodeValue,r=function(e,t,n,o){for(let r=0,i=0;r<e.childCount&&i<=o;){let s=e.child(r++),a=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;r<e.childCount;){let t=e.child(r++);if(i+=t.nodeSize,!t.isText)break;l+=t.text}if(i>=n){let e=a<o?l.lastIndexOf(t,o-a-1):-1;if(e>=0&&e+t.length+a>=n)return a+e;if(n==o&&l.length>=o+t.length-a&&l.slice(o-a,o-a+t.length)==t)return o}}return-1}(this.node.content,e,n-t,o-t);return r<0?null:{node:i,pos:r,text:e}}return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:o}){if(this.getDesc(t))return;let r=t;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let i=new ao(this,r,t,o);e.input.compositionNodes.push(i),this.children=Co(this.children,n,n+o.length,e,i)}update(e,t,n,o){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,o),!0)}updateInner(e,t,n,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(Do(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=bo(this.dom,this.nodeDOM,yo(this.outerDeco,this.node,t),yo(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function uo(e,t,n,o,r){return ko(o,t,e),new co(void 0,e,t,n,o,o,o,r,0)}class ho extends co{constructor(e,t,n,o,r,i,s){super(e,t,n,o,r,null,i,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,o){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let o=this.node.cut(e,t),r=document.createTextNode(o.text);return new ho(this.parent,o,this.outerDeco,this.innerDeco,r,r,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}}class po extends io{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class fo extends co{constructor(e,t,n,o,r,i,s,a,l,c){super(e,t,n,o,r,i,s,l,c),this.spec=a}update(e,t,n,o){if(3==this.dirty)return!1;if(this.spec.update){let r=this.spec.update(e,t,n);return r&&this.updateInner(e,t,n,o),r}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,o){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function mo(e,t,n){let o=e.firstChild,r=!1;for(let i=0;i<t.length;i++){let s=t[i],a=s.dom;if(a.parentNode==e){for(;a!=o;)o=xo(o),r=!0;o=o.nextSibling}else r=!0,e.insertBefore(a,o);if(s instanceof lo){let t=o?o.previousSibling:e.lastChild;mo(s.contentDOM,s.children,n),o=t?t.nextSibling:e.firstChild}}for(;o;)o=xo(o),r=!0;r&&n.trackWrites==e&&(n.trackWrites=null)}const go=function(e){e&&(this.nodeName=e)};go.prototype=Object.create(null);const wo=[new go];function yo(e,t,n){if(0==e.length)return wo;let o=n?wo[0]:new go,r=[o];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&r.push(o=new go(s.nodeName));for(let e in s){let i=s[e];null!=i&&(n&&1==r.length&&r.push(o=new go(t.isInline?"span":"div")),"class"==e?o.class=(o.class?o.class+" ":"")+i:"style"==e?o.style=(o.style?o.style+";":"")+i:"nodeName"!=e&&(o[e]=i))}}}return r}function bo(e,t,n,o){if(n==wo&&o==wo)return t;let r=t;for(let t=0;t<o.length;t++){let i=o[t],s=n[t];if(t){let t;s&&s.nodeName==i.nodeName&&r!=e&&(t=r.parentNode)&&t.nodeName.toLowerCase()==i.nodeName||(t=document.createElement(i.nodeName),t.pmIsDeco=!0,t.appendChild(r),s=wo[0]),r=t}vo(r,s||wo[0],i)}return r}function vo(e,t,n){for(let o in t)"class"==o||"style"==o||"nodeName"==o||o in n||e.removeAttribute(o);for(let o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){let o=t.class?t.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.remove(o[t]);for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.add(r[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,o=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=o.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function ko(e,t,n){return bo(e,e,wo,yo(t,n,1!=e.nodeType))}function Do(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function xo(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class _o{constructor(e,t){this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,o=n.children.length,r=e.childCount,i=new Map,s=[];e:for(;r>0;){let a;for(;;)if(o){let e=n.children[o-1];if(!(e instanceof lo)){a=e,o--;break}n=e,o=e.children.length}else{if(n==t)break e;o=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(r-1))break;--r,i.set(a,r),s.push(a)}}return{index:r,matched:i,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let o=0,r=this.stack.length>>1,i=Math.min(r,e.length);for(;o<i&&(o==r-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&!1!==e[o].type.spec.spanning;)o++;for(;o<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++)if(this.top.children[t].matchesMark(e[r])){o=t;break}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let o=lo.create(this.top,e[r],t,n);this.top.children.splice(this.index,0,o),this.top=o,this.changed=!0}this.index=0,r++}}findNodeMatch(e,t,n,o){let r,i=-1;if(o>=this.preMatch.index&&(r=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&r.matchesNode(e,t,n))i=this.top.children.indexOf(r,this.index);else for(let o=this.index,r=Math.min(this.top.children.length,o+5);o<r;o++){let r=this.top.children[o];if(r.matchesNode(e,t,n)&&!this.preMatch.matched.has(r)){i=o;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,o,r){let i=this.top.children[o];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,r)&&(this.destroyBetween(this.index,o),this.index=o+1,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,o,r){for(let i=this.index;i<this.top.children.length;i++){let s=this.top.children[i];if(s instanceof co){let a=this.preMatch.matched.get(s);if(null!=a&&a!=r)return!1;let l=s.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&Do(t,s.outerDeco)))&&s.update(e,t,n,o))return this.destroyBetween(this.index,i),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,o,r){this.top.children.splice(this.index++,0,co.create(this.top,e,t,n,o,r)),this.changed=!0}placeWidget(e,t,n){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(!o||!o.matchesWidget(e)||e!=o.widget&&o.widget.type.toDOM.parentNode){let o=new so(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof lo;)t=e,e=t.children[t.children.length-1];e&&e instanceof ho&&!/\n$/.test(e.node.text)||((vn||yn)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let o=new po(this.top,[],n,null);t!=this.top?t.children.push(o):t.children.splice(this.index++,0,o),this.changed=!0}}}function So(e,t){return e.type.side-t.type.side}function Co(e,t,n,o,r){let i=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,u=a+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,o)),r&&(i.push(r),r=void 0),u>n&&i.push(l.slice(n-c,l.size,o)))}return i}function Ao(e,t=null){let n=e.domSelection(),o=e.state.doc;if(!n.focusNode)return null;let r=e.docView.nearestDesc(n.focusNode),i=r&&0==r.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a,l,c=o.resolve(s);if(jn(n)){for(a=c;r&&!r.node;)r=r.parent;let e=r.node;if(r&&e.isAtom&&qt.isSelectable(e)&&r.parent&&(!e.isInline||!function(e,t,n){for(let o=0==t,r=t==Tn(e);o||r;){if(e==n)return!0;let t=Cn(e);if(!(e=e.parentNode))return!1;o=o&&0==t,r=r&&t==Tn(e)}}(n.focusNode,n.focusOffset,r.dom))){let e=r.posBefore;l=new qt(s==e?c:o.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;a=o.resolve(t)}if(!l){l=Bo(e,a,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)}return l}function Eo(e){return e.editable?e.hasFocus():zo(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Fo(e,t=!1){let n=e.state.selection;if(No(e,n),Eo(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&yn){let t=e.domSelection(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&On(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange(),o=e.cursorWrapper.dom,r="IMG"==o.nodeName;r?n.setEnd(o.parentNode,Cn(o)+1):n.setEnd(o,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!r&&!e.state.selection.visible&&fn&&mn<=11&&(o.disabled=!0,o.disabled=!1)}(e);else{let o,r,{anchor:i,head:s}=n;!Oo||n instanceof Vt||(n.$from.parent.inlineContent||(o=Mo(e,n.from)),n.empty||n.$from.parent.inlineContent||(r=Mo(e,n.to))),e.docView.setSelection(i,s,e.root,t),Oo&&(o&&To(o),r&&To(r)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelection(),o=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==o&&n.anchorOffset==r||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{Eo(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Oo=vn||yn&&bn<63;function Mo(e,t){let{node:n,offset:o}=e.docView.domFromPos(t,0),r=o<n.childNodes.length?n.childNodes[o]:null,i=o?n.childNodes[o-1]:null;if(vn&&r&&"false"==r.contentEditable)return Po(r);if(!(r&&"false"!=r.contentEditable||i&&"false"!=i.contentEditable)){if(r)return Po(r);if(i)return Po(i)}}function Po(e){return e.contentEditable="true",vn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function To(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function No(e,t){if(t instanceof qt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(jo(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else jo(e)}function jo(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Bo(e,t,n,o){return e.someProp("createSelectionBetween",(o=>o(e,t,n)))||Vt.between(t,n,o)}function Lo(e){return(!e.editable||e.root.activeElement==e.dom)&&zo(e)}function zo(e){let t=e.domSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Io(e,t){let{$anchor:n,$head:o}=e.selection,r=t>0?n.max(o):n.min(o),i=r.parent.inlineContent?r.depth?e.doc.resolve(t>0?r.after():r.before()):null:r;return i&&zt.findFrom(i,t)}function Ro(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function $o(e,t,n){let o=e.state.selection;if(!(o instanceof Vt)){if(o instanceof qt&&o.node.isInline)return Ro(e,new Vt(t>0?o.$to:o.$from));{let n=Io(e.state,t);return!!n&&Ro(e,n)}}if(!o.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let n=Io(e.state,t);return!!(n&&n instanceof qt)&&Ro(e,n)}if(!(Dn&&n.indexOf("m")>-1)){let n,r=o.$head,i=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!i||i.isText)return!1;let s=t<0?r.pos-i.nodeSize:r.pos;return!!(i.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(qt.isSelectable(i)?Ro(e,new qt(t<0?e.state.doc.resolve(r.pos-i.nodeSize):r)):!!_n&&Ro(e,new Vt(e.state.doc.resolve(t<0?s:s+i.nodeSize))))}}function Vo(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Ho(e){let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function qo(e){let t=e.domSelection(),n=t.focusNode,o=t.focusOffset;if(!n)return;let r,i,s=!1;for(gn&&1==n.nodeType&&o<Vo(n)&&Ho(n.childNodes[o])&&(s=!0);;)if(o>0){if(1!=n.nodeType)break;{let e=n.childNodes[o-1];if(Ho(e))r=n,i=--o;else{if(3!=e.nodeType)break;n=e,o=n.nodeValue.length}}}else{if(Wo(n))break;{let t=n.previousSibling;for(;t&&Ho(t);)r=n.parentNode,i=Cn(t),t=t.previousSibling;if(t)n=t,o=Vo(n);else{if(n=n.parentNode,n==e.dom)break;o=0}}}s?Jo(e,t,n,o):r&&Jo(e,t,r,i)}function Ko(e){let t=e.domSelection(),n=t.focusNode,o=t.focusOffset;if(!n)return;let r,i,s=Vo(n);for(;;)if(o<s){if(1!=n.nodeType)break;if(!Ho(n.childNodes[o]))break;r=n,i=++o}else{if(Wo(n))break;{let t=n.nextSibling;for(;t&&Ho(t);)r=t.parentNode,i=Cn(t)+1,t=t.nextSibling;if(t)n=t,o=0,s=Vo(n);else{if(n=n.parentNode,n==e.dom)break;o=s=0}}}r&&Jo(e,t,r,i)}function Wo(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Jo(e,t,n,o){if(jn(t)){let e=document.createRange();e.setEnd(n,o),e.setStart(n,o),t.removeAllRanges(),t.addRange(e)}else t.extend&&t.extend(n,o);e.domObserver.setCurSelection();let{state:r}=e;setTimeout((()=>{e.state==r&&Fo(e)}),50)}function Uo(e,t,n){let o=e.state.selection;if(o instanceof Vt&&!o.empty||n.indexOf("s")>-1)return!1;if(Dn&&n.indexOf("m")>-1)return!1;let{$from:r,$to:i}=o;if(!r.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=Io(e.state,t);if(n&&n instanceof qt)return Ro(e,n)}if(!r.parent.inlineContent){let n=t<0?r:i,s=o instanceof Wt?zt.near(n,t):zt.findFrom(n,t);return!!s&&Ro(e,s)}return!1}function Go(e,t){if(!(e.state.selection instanceof Vt))return!0;let{$head:n,$anchor:o,empty:r}=e.state.selection;if(!n.sameParent(o))return!0;if(!r)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=e.state.tr;return t<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),e.dispatch(o),!0}return!1}function Xo(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Yo(e,t){let n=t.keyCode,o=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||Dn&&72==n&&"c"==o?Go(e,-1)||qo(e):46==n||Dn&&68==n&&"c"==o?Go(e,1)||Ko(e):13==n||27==n||(37==n||Dn&&66==n&&"c"==o?$o(e,-1,o)||qo(e):39==n||Dn&&70==n&&"c"==o?$o(e,1,o)||Ko(e):38==n||Dn&&80==n&&"c"==o?Uo(e,-1,o)||qo(e):40==n||Dn&&78==n&&"c"==o?function(e){if(!vn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelection();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;Xo(e,n,"true"),setTimeout((()=>Xo(e,n,"false")),20)}return!1}(e)||Uo(e,1,o)||Ko(e):o==(Dn?"m":"c")&&(66==n||73==n||89==n||90==n))}function Qo(e,t){let n=[],{content:o,openStart:r,openEnd:i}=t;for(;r>1&&i>1&&1==o.childCount&&1==o.firstChild.childCount;){r--,i--;let e=o.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),o=e.content}let s=e.someProp("clipboardSerializer")||et.fromSchema(e.state.schema),a=lr(),l=a.createElement("div");l.appendChild(s.serializeFragment(o,{document:a}));let c,u=l.firstChild,d=0;for(;u&&1==u.nodeType&&(c=sr[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=a.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),d++}u=l.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${r} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`),{dom:l,text:e.someProp("clipboardTextSerializer",(e=>e(t)))||t.content.textBetween(0,t.content.size,"\n\n")}}function Zo(e,t,n,o,r){let i,s,a=r.parent.type.spec.code;if(!n&&!t)return null;let l=t&&(o||a||!n);if(l){if(e.someProp("transformPastedText",(e=>{t=e(t,a||o)})),a)return t?new se(ee.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):se.empty;let n=e.someProp("clipboardTextParser",(e=>e(t,r,o)));if(n)s=n;else{let n=r.marks(),{schema:o}=e.state,s=et.fromSchema(o);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(o.text(e,n)))}))}}else e.someProp("transformPastedHTML",(e=>{n=e(n)})),i=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,o=lr().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e);(n=r&&sr[r[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join(""));if(o.innerHTML=e,n)for(let e=0;e<n.length;e++)o=o.querySelector(n[e])||o;return o}(n),_n&&function(e){let t=e.querySelectorAll(yn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let o=t[n];1==o.childNodes.length&&""==o.textContent&&o.parentNode&&o.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),o)}}(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let e=+u[3];e>0&&i.firstChild;e--)i=i.firstChild;if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||qe.fromSchema(e.state.schema);s=t.parseSlice(i,{preserveWhitespace:!(!l&&!u),context:r,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||er.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(u)s=function(e,t){if(!e.size)return e;let n,o=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:r,openStart:i,openEnd:s}=e;for(let e=n.length-2;e>=0;e-=2){let t=o.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;r=ee.from(t.create(n[e+1],r)),i++,s++}return new se(r,i,s)}(ir(s,+u[1],+u[2]),u[4]);else if(s=se.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let o,r=t.node(n).contentMatchAt(t.index(n)),i=[];if(e.forEach((e=>{if(!i)return;let t,n=r.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&o.length&&nr(n,o,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=or(i[i.length-1],o.length));let t=tr(e,n);i.push(t),r=r.matchType(t.type),o=n}})),i)return ee.from(i)}return e}(s.content,r),!0),s.openStart||s.openEnd){let e=0,t=0;for(let t=s.content.firstChild;e<s.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=s.content.lastChild;t<s.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);s=ir(s,e,t)}return e.someProp("transformPasted",(e=>{s=e(s)})),s}const er=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function tr(e,t,n=0){for(let o=t.length-1;o>=n;o--)e=t[o].create(null,ee.from(e));return e}function nr(e,t,n,o,r){if(r<e.length&&r<t.length&&e[r]==t[r]){let i=nr(e,t,n,o.lastChild,r+1);if(i)return o.copy(o.content.replaceChild(o.childCount-1,i));if(o.contentMatchAt(o.childCount).matchType(r==e.length-1?n.type:e[r+1]))return o.copy(o.content.append(ee.from(tr(n,e,r+1))))}}function or(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,or(e.lastChild,t-1)),o=e.contentMatchAt(e.childCount).fillBefore(ee.empty,!0);return e.copy(n.append(o))}function rr(e,t,n,o,r,i){let s=t<0?e.firstChild:e.lastChild,a=s.content;return r<o-1&&(a=rr(a,t,n,o,r+1,i)),r>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,e.childCount>1||i<=r).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(ee.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function ir(e,t,n){return t<e.openStart&&(e=new se(rr(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new se(rr(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const sr={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ar=null;function lr(){return ar||(ar=document.implementation.createHTMLDocument("title"))}const cr={};let ur={};class dr{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function hr(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function pr(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>fr(e,t))}))}function fr(e,t){return e.someProp("handleDOMEvents",(n=>{let o=n[t.type];return!!o&&(o(e,t)||t.defaultPrevented)}))}function mr(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function gr(e){return{left:e.clientX,top:e.clientY}}function wr(e,t,n,o,r){if(-1==o)return!1;let i=e.state.doc.resolve(o);for(let o=i.depth+1;o>0;o--)if(e.someProp(t,(t=>o>i.depth?t(e,n,i.nodeAfter,i.before(o),r,!0):t(e,n,i.node(o),i.before(o),r,!1))))return!0;return!1}function yr(e,t,n){e.focused||e.focus();let o=e.state.tr.setSelection(t);"pointer"==n&&o.setMeta("pointer",!0),e.dispatch(o)}function br(e,t,n,o,r){return wr(e,"handleClickOn",t,n,o)||e.someProp("handleClick",(n=>n(e,t,o)))||(r?function(e,t){if(-1==t)return!1;let n,o,r=e.state.selection;r instanceof qt&&(n=r.node);let i=e.state.doc.resolve(t);for(let e=i.depth+1;e>0;e--){let t=e>i.depth?i.nodeAfter:i.node(e);if(qt.isSelectable(t)){o=n&&r.$from.depth>0&&e>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?i.before(r.$from.depth):i.before(e);break}}return null!=o&&(yr(e,qt.create(e.state.doc,o),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),o=n.nodeAfter;return!!(o&&o.isAtom&&qt.isSelectable(o))&&(yr(e,new qt(n),"pointer"),!0)}(e,n))}function vr(e,t,n,o){return wr(e,"handleDoubleClickOn",t,n,o)||e.someProp("handleDoubleClick",(n=>n(e,t,o)))}function kr(e,t,n,o){return wr(e,"handleTripleClickOn",t,n,o)||e.someProp("handleTripleClick",(n=>n(e,t,o)))||function(e,t,n){if(0!=n.button)return!1;let o=e.state.doc;if(-1==t)return!!o.inlineContent&&(yr(e,Vt.create(o,0,o.content.size),"pointer"),!0);let r=o.resolve(t);for(let t=r.depth+1;t>0;t--){let n=t>r.depth?r.nodeAfter:r.node(t),i=r.before(t);if(n.inlineContent)yr(e,Vt.create(o,i+1,i+1+n.content.size),"pointer");else{if(!qt.isSelectable(n))continue;yr(e,qt.create(o,i),"pointer")}return!0}}(e,n,o)}function Dr(e){return Fr(e)}ur.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!Sr(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!xn||!yn||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!kn||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||Yo(e,n)?n.preventDefault():hr(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,Bn(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},ur.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},ur.keypress=(e,t)=>{let n=t;if(Sr(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Dn&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let o=e.state.selection;if(!(o instanceof Vt&&o.$from.sameParent(o.$to))){let t=String.fromCharCode(n.charCode);e.someProp("handleTextInput",(n=>n(e,o.$from.pos,o.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const xr=Dn?"metaKey":"ctrlKey";cr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let o=Dr(e),r=Date.now(),i="singleClick";r-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,o=t.y-e.clientY;return n*n+o*o<100}(n,e.input.lastClick)&&!n[xr]&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:i};let s=e.posAtCoords(gr(n));s&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new _r(e,s,n,!!o)):("doubleClick"==i?vr:kr)(e,s.pos,s.inside,n)?n.preventDefault():hr(e,"pointer"))};class _r{constructor(e,t,n,o){let r,i;if(this.view=e,this.pos=t,this.event=n,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[xr],this.allowDefault=n.shiftKey,t.inside>-1)r=e.state.doc.nodeAt(t.inside),i=t.inside;else{let n=e.state.doc.resolve(t.pos);r=n.parent,i=n.depth?n.before():0}const s=o?null:n.target,a=s?e.docView.nearestDesc(s,!0):null;this.target=a?a.dom:null;let{selection:l}=e.state;(0==n.button&&r.type.spec.draggable&&!1!==r.type.spec.selectable||l instanceof qt&&l.from<=i&&l.to>i)&&(this.mightDrag={node:r,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!gn||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),hr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Fo(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(gr(e))),this.allowDefault||!t?hr(this.view,"pointer"):br(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||vn&&this.mightDrag&&!this.mightDrag.node.isAtom||yn&&!(this.view.state.selection instanceof Vt)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(yr(this.view,zt.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):hr(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),hr(this.view,"pointer"),0==e.buttons&&this.done()}}function Sr(e,t){return!!e.composing||!!(vn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}cr.touchdown=e=>{Dr(e),hr(e,"pointer")},cr.contextmenu=e=>Dr(e);const Cr=xn?5e3:-1;function Ar(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>Fr(e)),t))}function Er(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Fr(e,t=!1){if(!(xn&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Er(e),t||e.docView&&e.docView.dirty){let t=Ao(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}ur.compositionstart=ur.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),Fr(e,!0),e.markCursor=null;else if(Fr(e),gn&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelection();for(let e=t.focusNode,n=t.focusOffset;e&&1==e.nodeType&&0!=n;){let o=n<0?e.lastChild:e.childNodes[n-1];if(!o)break;if(3==o.nodeType){t.collapse(o,o.nodeValue.length);break}e=o,n=-1}}e.input.composing=!0}Ar(e,Cr)},ur.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,Ar(e,20))};const Or=fn&&mn<15||kn&&Sn<604;function Mr(e,t,n,o){let r=Zo(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,o,r||se.empty))))return!0;if(!r)return!1;let i=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(r),s=i?e.state.tr.replaceSelectionWith(i,e.input.shiftKey):e.state.tr.replaceSelection(r);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}cr.copy=ur.cut=(e,t)=>{let n=t,o=e.state.selection,r="cut"==n.type;if(o.empty)return;let i=Or?null:n.clipboardData,s=o.content(),{dom:a,text:l}=Qo(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let o=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},ur.paste=(e,t)=>{let n=t;if(e.composing&&!xn)return;let o=Or?null:n.clipboardData;o&&Mr(e,o.getData("text/plain"),o.getData("text/html"),n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,o=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout((()=>{e.focus(),o.parentNode&&o.parentNode.removeChild(o),n?Mr(e,o.value,null,t):Mr(e,o.textContent,o.innerHTML,t)}),50)}(e,n)};class Pr{constructor(e,t){this.slice=e,this.move=t}}const Tr=Dn?"altKey":"ctrlKey";cr.dragstart=(e,t)=>{let n=t,o=e.input.mouseDown;if(o&&o.done(),!n.dataTransfer)return;let r=e.state.selection,i=r.empty?null:e.posAtCoords(gr(n));if(i&&i.pos>=r.from&&i.pos<=(r instanceof qt?r.to-1:r.to));else if(o&&o.mightDrag)e.dispatch(e.state.tr.setSelection(qt.create(e.state.doc,o.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(qt.create(e.state.doc,t.posBefore)))}let s=e.state.selection.content(),{dom:a,text:l}=Qo(e,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Or?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Or||n.dataTransfer.setData("text/plain",l),e.dragging=new Pr(s,!n[Tr])},cr.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},ur.dragover=ur.dragenter=(e,t)=>t.preventDefault(),ur.drop=(e,t)=>{let n=t,o=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let r=e.posAtCoords(gr(n));if(!r)return;let i=e.state.doc.resolve(r.pos);if(!i)return;let s=o&&o.slice;s?e.someProp("transformPasted",(e=>{s=e(s)})):s=Zo(e,n.dataTransfer.getData(Or?"Text":"text/plain"),Or?null:n.dataTransfer.getData("text/html"),!1,i);let a=!(!o||n[Tr]);if(e.someProp("handleDrop",(t=>t(e,n,s||se.empty,a))))return void n.preventDefault();if(!s)return;n.preventDefault();let l=s?xt(e.state.doc,i.pos,s):i.pos;null==l&&(l=i.pos);let c=e.state.tr;a&&c.deleteSelection();let u=c.mapping.map(l),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,h=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(h))return;let p=c.doc.resolve(u);if(d&&qt.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new qt(p));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach(((e,n,o,r)=>t=r)),c.setSelection(Bo(e,p,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},cr.focus=e=>{e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelection())&&Fo(e)}),20))},cr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},cr.beforeinput=(e,t)=>{if(yn&&xn&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,Bn(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let e in ur)cr[e]=ur[e];function Nr(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class jr{constructor(e,t){this.toDOM=e,this.spec=t||Rr,this.side=this.spec.side||0}map(e,t,n,o){let{pos:r,deleted:i}=e.mapResult(t.from+o,this.side<0?-1:1);return i?null:new zr(r-n,r-n,this)}valid(){return!0}eq(e){return this==e||e instanceof jr&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Nr(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Br{constructor(e,t){this.attrs=e,this.spec=t||Rr}map(e,t,n,o){let r=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-n;return r>=i?null:new zr(r,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Br&&Nr(this.attrs,e.attrs)&&Nr(this.spec,e.spec)}static is(e){return e.type instanceof Br}destroy(){}}class Lr{constructor(e,t){this.attrs=e,this.spec=t||Rr}map(e,t,n,o){let r=e.mapResult(t.from+o,1);if(r.deleted)return null;let i=e.mapResult(t.to+o,-1);return i.deleted||i.pos<=r.pos?null:new zr(r.pos-n,i.pos-n,this)}valid(e,t){let n,{index:o,offset:r}=e.content.findIndex(t.from);return r==t.from&&!(n=e.child(o)).isText&&r+n.nodeSize==t.to}eq(e){return this==e||e instanceof Lr&&Nr(this.attrs,e.attrs)&&Nr(this.spec,e.spec)}destroy(){}}class zr{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new zr(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new zr(e,e,new jr(t,n))}static inline(e,t,n,o){return new zr(e,t,new Br(n,o))}static node(e,t,n,o){return new zr(e,t,new Lr(n,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Br}}const Ir=[],Rr={};class $r{constructor(e,t){this.local=e.length?e:Ir,this.children=t.length?t:Ir}static create(e,t){return t.length?Jr(t,e,0,Rr):Vr}find(e,t,n){let o=[];return this.findInner(null==e?0:e,null==t?1e9:t,o,0,n),o}findInner(e,t,n,o,r){for(let i=0;i<this.local.length;i++){let s=this.local[i];s.from<=t&&s.to>=e&&(!r||r(s.spec))&&n.push(s.copy(s.from+o,s.to+o))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let s=this.children[i]+1;this.children[i+2].findInner(e-s,t-s,n,o+s,r)}}map(e,t,n){return this==Vr||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Rr)}mapInner(e,t,n,o,r){let i;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(e,n,o);a&&a.type.valid(t,a)?(i||(i=[])).push(a):r.onRemove&&r.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,o,r,i,s){let a=e.slice(),l=(e,t,n,o)=>{for(let s=0;s<a.length;s+=3){let l,c=a[s+1];if(c<0||e>c+i)continue;let u=a[s]+i;t>=u?a[s+1]=e<=u?-2:-1:n>=r&&(l=o-n-(t-e))&&(a[s]+=l,a[s+1]+=l)}};for(let e=0;e<n.maps.length;e++)n.maps[e].forEach(l);let c=!1;for(let t=0;t<a.length;t+=3)if(a[t+1]<0){if(-2==a[t+1]){c=!0,a[t+1]=-1;continue}let l=n.map(e[t]+i),u=l-r;if(u<0||u>=o.content.size){c=!0;continue}let d=n.map(e[t+1]+i,-1)-r,{index:h,offset:p}=o.content.findIndex(u),f=o.maybeChild(h);if(f&&p==u&&p+f.nodeSize==d){let o=a[t+2].mapInner(n,f,l+1,e[t]+i+1,s);o!=Vr?(a[t]=u,a[t+1]=d,a[t+2]=o):(a[t+1]=-2,c=!0)}else c=!0}if(c){let l=function(e,t,n,o,r,i,s){function a(e,t){for(let i=0;i<e.local.length;i++){let a=e.local[i].map(o,r,t);a?n.push(a):s.onRemove&&s.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)a(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&a(e[n+2],t[n]+i+1);return n}(a,e,t,n,r,i,s),c=Jr(l,o,0,s);t=c.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<a.length&&a[t]<n;)t+=3;a.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new $r(t.sort(Ur),a)}(this.children,i||[],e,t,n,o,r):i?new $r(i.sort(Ur),Ir):Vr}add(e,t){return t.length?this==Vr?$r.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let o,r=0;e.forEach(((e,i)=>{let s,a=i+n;if(s=Kr(t,e,a)){for(o||(o=this.children.slice());r<o.length&&o[r]<i;)r+=3;o[r]==i?o[r+2]=o[r+2].addInner(e,s,a+1):o.splice(r,0,i,i+e.nodeSize,Jr(s,e,a+1,Rr)),r+=3}}));let i=qr(r?Wr(t):t,-n);for(let t=0;t<i.length;t++)i[t].type.valid(e,i[t])||i.splice(t--,1);return new $r(i.length?this.local.concat(i).sort(Ur):this.local,o||this.children)}remove(e){return 0==e.length||this==Vr?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,o=this.local;for(let o=0;o<n.length;o+=3){let r,i=n[o]+t,s=n[o+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<s&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let a=n[o+2].removeInner(r,i+1);a!=Vr?n[o+2]=a:(n.splice(o,3),o-=3)}if(o.length)for(let n,r=0;r<e.length;r++)if(n=e[r])for(let e=0;e<o.length;e++)o[e].eq(n,t)&&(o==this.local&&(o=this.local.slice()),o.splice(e--,1));return n==this.children&&o==this.local?this:o.length||n.length?new $r(o,n):Vr}forChild(e,t){if(this==Vr)return this;if(t.isLeaf)return $r.empty;let n,o;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let r=e+1,i=r+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<i&&t.to>r&&t.type instanceof Br){let e=Math.max(r,t.from)-r,n=Math.min(i,t.to)-r;e<n&&(o||(o=[])).push(t.copy(e,n))}}if(o){let e=new $r(o.sort(Ur),Ir);return n?new Hr([e,n]):e}return n||Vr}eq(e){if(this==e)return!0;if(!(e instanceof $r)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Gr(this.localsInner(e))}localsInner(e){if(this==Vr)return Ir;if(e.inlineContent||!this.local.some(Br.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof Br||t.push(this.local[e]);return t}}$r.empty=new $r([],[]),$r.removeOverlap=Gr;const Vr=$r.empty;class Hr{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,Rr)));return Hr.from(n)}forChild(e,t){if(t.isLeaf)return $r.empty;let n=[];for(let o=0;o<this.members.length;o++){let r=this.members[o].forChild(e,t);r!=Vr&&(r instanceof Hr?n=n.concat(r.members):n.push(r))}return Hr.from(n)}eq(e){if(!(e instanceof Hr)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let o=0;o<this.members.length;o++){let r=this.members[o].localsInner(e);if(r.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<r.length;e++)t.push(r[e])}else t=r}return t?Gr(n?t:t.sort(Ur)):Ir}static from(e){switch(e.length){case 0:return Vr;case 1:return e[0];default:return new Hr(e)}}}function qr(e,t){if(!t||!e.length)return e;let n=[];for(let o=0;o<e.length;o++){let r=e[o];n.push(new zr(r.from+t,r.to+t,r.type))}return n}function Kr(e,t,n){if(t.isLeaf)return null;let o=n+t.nodeSize,r=null;for(let t,i=0;i<e.length;i++)(t=e[i])&&t.from>n&&t.to<o&&((r||(r=[])).push(t),e[i]=null);return r}function Wr(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Jr(e,t,n,o){let r=[],i=!1;t.forEach(((t,s)=>{let a=Kr(e,t,s+n);if(a){i=!0;let e=Jr(a,t,n+s+1,o);e!=Vr&&r.push(s,s+t.nodeSize,e)}}));let s=qr(i?Wr(e):e,-n).sort(Ur);for(let e=0;e<s.length;e++)s[e].type.valid(t,s[e])||(o.onRemove&&o.onRemove(s[e].spec),s.splice(e--,1));return s.length||r.length?new $r(s,r):Vr}function Ur(e,t){return e.from-t.from||e.to-t.to}function Gr(e){let t=e;for(let n=0;n<t.length-1;n++){let o=t[n];if(o.from!=o.to)for(let r=n+1;r<t.length;r++){let i=t[r];if(i.from!=o.from){i.from<o.to&&(t==e&&(t=e.slice()),t[n]=o.copy(o.from,i.from),Xr(t,r,o.copy(i.from,o.to)));break}i.to!=o.to&&(t==e&&(t=e.slice()),t[r]=i.copy(i.from,o.to),Xr(t,r+1,i.copy(o.to,i.to)))}}return t}function Xr(e,t,n){for(;t<e.length&&Ur(n,e[t])>0;)t++;e.splice(t,0,n)}function Yr(e){let t=[];return e.someProp("decorations",(n=>{let o=n(e.state);o&&o!=Vr&&t.push(o)})),e.cursorWrapper&&t.push($r.create(e.state.doc,[e.cursorWrapper.deco])),Hr.from(t)}const Qr={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Zr=fn&&mn<=11;class ei{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class ti{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ei,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);fn&&mn<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),Zr&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,Qr),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(Lo(this.view)){if(this.suppressingSelectionUpdates)return Fo(this.view);if(fn&&mn<=11&&!this.view.state.selection.empty){let e=this.view.domSelection();if(e.focusNode&&On(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(e){if(0==e.rangeCount)return!0;let t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let t=this.view.domSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Lo(this.view)&&!this.ignoreSelectionChange(t),o=-1,r=-1,i=!1,s=[];if(this.view.editable)for(let t=0;t<e.length;t++){let n=this.registerMutation(e[t],s);n&&(o=o<0?n.from:Math.min(n.from,o),r=r<0?n.to:Math.max(n.to,r),n.typeOver&&(i=!0))}if(gn&&s.length>1){let e=s.filter((e=>"BR"==e.nodeName));if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}(o>-1||n)&&(o>-1&&(this.view.docView.markDirty(o,r),function(e){if(ni)return;ni=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(o,r,i,s),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||Fo(this.view),this.currentSelection.set(t))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let o=e.previousSibling,r=e.nextSibling;if(fn&&mn<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(o=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(r=i)}let i=o&&o.parentNode==e.target?Cn(o)+1:0,s=n.localPosFromDOM(e.target,i,-1),a=r&&r.parentNode==e.target?Cn(r):e.target.childNodes.length;return{from:s,to:n.localPosFromDOM(e.target,a,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let ni=!1;function oi(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(vn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||vn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function ri(e,t,n,o,r){if(t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=Ao(e,t);if(n&&!e.state.selection.eq(n)){let o=e.state.tr.setSelection(n);"pointer"==t?o.setMeta("pointer",!0):"key"==t&&o.scrollIntoView(),e.dispatch(o)}return}let i=e.state.doc.resolve(t),s=i.sharedDepth(n);t=i.before(s+1),n=e.state.doc.resolve(n).after(s+1);let a=e.state.selection,l=function(e,t,n){let o,{node:r,fromOffset:i,toOffset:s,from:a,to:l}=e.docView.parseRange(t,n),c=e.domSelection(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(o=[{node:u,offset:c.anchorOffset}],jn(c)||o.push({node:c.focusNode,offset:c.focusOffset})),yn&&8===e.input.lastKeyCode)for(let e=s;e>i;e--){let t=r.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){s=e;break}if(!n||n.size)break}let d=e.state.doc,h=e.someProp("domParser")||qe.fromSchema(e.state.schema),p=d.resolve(a),f=null,m=h.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:o,ruleFromNode:oi,context:p});if(o&&null!=o[0].pos){let e=o[0].pos,t=o[1]&&o[1].pos;null==t&&(t=e),f={anchor:e+a,head:t+a}}return{doc:m,sel:f,from:a,to:l}}(e,t,n);if(yn&&e.cursorWrapper&&l.sel&&l.sel.anchor==e.cursorWrapper.deco.from){let t=e.cursorWrapper.deco.type.toDOM.nextSibling,n=t&&t.nodeValue?t.nodeValue.length:1;l.sel={anchor:l.sel.anchor+n,head:l.sel.anchor+n}}let c,u,d=e.state.doc,h=d.slice(l.from,l.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(c=e.state.selection.to,u="end"):(c=e.state.selection.from,u="start"),e.input.lastKeyCode=null;let p=function(e,t,n,o,r){let i=e.findDiffStart(t,n);if(null==i)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==r){o-=s+Math.max(0,i-Math.min(s,a))-i}if(s<i&&e.size<t.size){i-=o<=i&&o>=s?i-o:0,a=i+(a-s),s=i}else if(a<i){i-=o<=i&&o>=a?i-o:0,s=i+(s-a),a=i}return{start:i,endA:s,endB:a}}(h.content,l.doc.content,l.from,c,u);if((kn&&e.input.lastIOSEnter>Date.now()-225||xn)&&r.some((e=>"DIV"==e.nodeName||"P"==e.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",(t=>t(e,Bn(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!p){if(!(o&&a instanceof Vt&&!a.empty&&a.$head.sameParent(a.$anchor))||e.composing||l.sel&&l.sel.anchor!=l.sel.head){if(l.sel){let t=ii(e,e.state.doc,l.sel);t&&!t.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(t))}return}p={start:a.from,endA:a.to,endB:a.to}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof Vt&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=l.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=l.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),fn&&mn<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>l.from&&" "==l.doc.textBetween(p.start-l.from-1,p.start-l.from+1)&&(p.start--,p.endA--,p.endB--);let f,m=l.doc.resolveNoCache(p.start-l.from),g=l.doc.resolveNoCache(p.endB-l.from),w=d.resolve(p.start),y=m.sameParent(g)&&m.parent.inlineContent&&w.end()>=p.endA;if((kn&&e.input.lastIOSEnter>Date.now()-225&&(!y||r.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!y&&m.pos<l.doc.content.size&&(f=zt.findFrom(l.doc.resolve(m.pos+1),1,!0))&&f.head==g.pos)&&e.someProp("handleKeyDown",(t=>t(e,Bn(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>p.start&&function(e,t,n,o,r){if(!o.parent.isTextblock||n-t<=r.pos-o.pos||si(o,!0,!1)<r.pos)return!1;let i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(si(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||si(s,!0,!1)<n)&&o.parent.content.cut(o.parentOffset).eq(s.parent.content)}(d,p.start,p.endA,m,g)&&e.someProp("handleKeyDown",(t=>t(e,Bn(8,"Backspace")))))return void(xn&&yn&&e.domObserver.suppressSelectionUpdates());yn&&xn&&p.endB==p.start&&(e.input.lastAndroidDelete=Date.now()),xn&&!y&&m.start()!=g.start()&&0==g.parentOffset&&m.depth==g.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==p.endA&&(p.endB-=2,g=l.doc.resolveNoCache(p.endB-l.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,Bn(13,"Enter"))}))}),20));let b,v,k,D=p.start,x=p.endA;if(y)if(m.pos==g.pos)fn&&mn<=11&&0==m.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>Fo(e)),20)),b=e.state.tr.delete(D,x),v=d.resolve(p.start).marksAcross(d.resolve(p.endA));else if(p.endA==p.endB&&(k=function(e,t){let n,o,r,i=e.firstChild.marks,s=t.firstChild.marks,a=i,l=s;for(let e=0;e<s.length;e++)a=s[e].removeFromSet(a);for(let e=0;e<i.length;e++)l=i[e].removeFromSet(l);if(1==a.length&&0==l.length)o=a[0],n="add",r=e=>e.mark(o.addToSet(e.marks));else{if(0!=a.length||1!=l.length)return null;o=l[0],n="remove",r=e=>e.mark(o.removeFromSet(e.marks))}let c=[];for(let e=0;e<t.childCount;e++)c.push(r(t.child(e)));if(ee.from(c).eq(e))return{mark:o,type:n}}(m.parent.content.cut(m.parentOffset,g.parentOffset),w.parent.content.cut(w.parentOffset,p.endA-w.start()))))b=e.state.tr,"add"==k.type?b.addMark(D,x,k.mark):b.removeMark(D,x,k.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let t=m.parent.textBetween(m.parentOffset,g.parentOffset);if(e.someProp("handleTextInput",(n=>n(e,D,x,t))))return;b=e.state.tr.insertText(t,D,x)}if(b||(b=e.state.tr.replace(D,x,l.doc.slice(p.start-l.from,p.endB-l.from))),l.sel){let t=ii(e,b.doc,l.sel);t&&!(yn&&xn&&e.composing&&t.empty&&(p.start!=p.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==D||t.head==b.mapping.map(x)-1)||fn&&t.empty&&t.head==D)&&b.setSelection(t)}v&&b.ensureMarks(v),e.dispatch(b.scrollIntoView())}function ii(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Bo(e,t.resolve(n.anchor),t.resolve(n.head))}function si(e,t,n){let o=e.depth,r=t?e.end():e.pos;for(;o>0&&(t||e.indexAfter(o)==e.node(o).childCount);)o--,r++,t=!1;if(n){let t=e.node(o).maybeChild(e.indexAfter(o));for(;t&&!t.isLeaf;)t=t.firstChild,r++}return r}class ai{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new dr,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(hi),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ui(this),ci(this),this.nodeViews=di(this),this.docView=uo(this.state.doc,li(this),Yr(this),this.dom,this),this.domObserver=new ti(this,((e,t,n,o)=>ri(this,e,t,n,o))),this.domObserver.start(),function(e){for(let t in cr){let n=cr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!mr(e,t)||fr(e,t)||!e.editable&&t.type in ur||n(e,t)})}vn&&e.dom.addEventListener("input",(()=>null)),pr(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&pr(this),this._props=e,e.plugins&&(e.plugins.forEach(hi),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this.state.plugins!=e.plugins)}updateStateInner(e,t){let n=this.state,o=!1,r=!1;if(e.storedMarks&&this.composing&&(Er(this),r=!0),this.state=e,t){let e=di(this);(function(e,t){let n=0,o=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let e in t)o++;return n!=o})(e,this.nodeViews)&&(this.nodeViews=e,o=!0),pr(this)}this.editable=ui(this),ci(this);let i=Yr(this),s=li(this),a=t?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",l=o||!this.docView.matchesNode(e.doc,s,i);!l&&e.selection.eq(n.selection)||(r=!0);let c="preserve"==a&&r&&null==this.dom.style.overflowAnchor&&function(e){let t,n,o=e.dom.getBoundingClientRect(),r=Math.max(0,o.top);for(let i=(o.left+o.right)/2,s=r+1;s<Math.min(innerHeight,o.bottom);s+=5){let o=e.root.elementFromPoint(i,s);if(!o||o==e.dom||!e.dom.contains(o))continue;let a=o.getBoundingClientRect();if(a.top>=r-20){t=o,n=a.top;break}}return{refDOM:t,refTop:n,stack:$n(e.dom)}}(this);if(r){this.domObserver.stop();let t=l&&(fn||yn)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(n.selection,e.selection);if(l){let n=yn?this.trackWrites=this.domSelection().focusNode:null;!o&&this.docView.update(e.doc,s,i,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=uo(e.doc,s,i,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelection();return On(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?Fo(this,t):(No(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(n),"reset"==a)this.dom.scrollTop=0;else if("to selection"==a){let t=this.domSelection().focusNode;if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(e.selection instanceof qt){let n=this.docView.domAfterPos(e.selection.from);1==n.nodeType&&Rn(this,n.getBoundingClientRect(),t)}else Rn(this,this.coordsAtPos(e.selection.head,1),t)}else c&&function({refDOM:e,refTop:t,stack:n}){let o=e?e.getBoundingClientRect().top:0;Vn(n,0==o?0:o-t)}(c)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}someProp(e,t){let n,o=this._props&&this._props[e];if(null!=o&&(n=t?t(o):o))return n;for(let o=0;o<this.directPlugins.length;o++){let r=this.directPlugins[o].props[e];if(null!=r&&(n=t?t(r):r))return n}let r=this.state.plugins;if(r)for(let o=0;o<r.length;o++){let i=r[o].props[e];if(null!=i&&(n=t?t(i):i))return n}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(Hn)return e.focus(Hn);let t=$n(e);e.focus(null==Hn?{get preventScroll(){return Hn={preventScroll:!0},!0}}:void 0),Hn||(Hn=!1,Vn(t,0))}(this.dom),Fo(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}posAtCoords(e){return Jn(this,e)}coordsAtPos(e,t=1){return Xn(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let o=this.docView.posFromDOM(e,t,n);if(null==o)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,t){return ro(this,t||this.state,e)}destroy(){this.docView&&(!function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Yr(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){fr(e,t)||!cr[t.type]||!e.editable&&t.type in ur||cr[t.type](e,t)}(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelection(){return this.root.getSelection()}}function li(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e&&(t.class+=" "+n[e]),"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),[zr.node(0,e.state.doc.content.size,t)]}function ci(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:zr.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function ui(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function di(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function hi(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var pi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},fi={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mi="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent);"undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent);for(var gi="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),wi="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),yi=gi||mi&&+mi[1]<57,bi=0;bi<10;bi++)pi[48+bi]=pi[96+bi]=String(bi);for(bi=1;bi<=24;bi++)pi[bi+111]="F"+bi;for(bi=65;bi<=90;bi++)pi[bi]=String.fromCharCode(bi+32),fi[bi]=String.fromCharCode(bi);for(var vi in pi)fi.hasOwnProperty(vi)||(fi[vi]=pi[vi]);const ki="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Di(e){let t,n,o,r,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(let e=0;e<i.length-1;e++){let s=i[e];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else if(/^s(hift)?$/i.test(s))o=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);ki?r=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),r&&(s="Meta-"+s),o&&(s="Shift-"+s),s}function xi(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function _i(e){let t=function(e){let t=Object.create(null);for(let n in e)t[Di(n)]=e[n];return t}(e);return function(e,n){let o,r=function(e){var t=!(yi&&(e.ctrlKey||e.altKey||e.metaKey)||wi&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?fi:pi)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),i=1==r.length&&" "!=r,s=t[xi(r,n,!i)];if(s&&s(e.state,e.dispatch,e))return!0;if(i&&(n.shiftKey||n.altKey||n.metaKey||r.charCodeAt(0)>127)&&(o=pi[n.keyCode])&&o!=r){let r=t[xi(o,n,!0)];if(r&&r(e.state,e.dispatch,e))return!0}else if(i&&n.shiftKey){let o=t[xi(r,n,!0)];if(o&&o(e.state,e.dispatch,e))return!0}return!1}}function Si(e,t,n=!1){for(let o=e;o;o="start"==t?o.firstChild:o.lastChild){if(o.isTextblock)return!0;if(n&&1!=o.childCount)return!1}return!1}function Ci(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Ai(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function Ei(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Fi(e,t,n){let o,r,i=t.nodeBefore,s=t.nodeAfter;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(function(e,t,n){let o=t.nodeBefore,r=t.nodeAfter,i=t.index();return!(!(o&&r&&o.type.compatibleContent(r.type))||(!o.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(i,i+1)||!r.isTextblock&&!Dt(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,o.type,o.contentMatchAt(o.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(o=(r=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&r.matchType(o[0]||s.type).validEnd){if(n){let r=t.pos+s.nodeSize,a=ee.empty;for(let e=o.length-1;e>=0;e--)a=ee.from(o[e].create(null,a));a=ee.from(i.copy(a));let l=e.tr.step(new mt(t.pos-1,r,t.pos,r,new se(a,1,0),o.length,!0)),c=r+2*o.length;Dt(l.doc,c)&&l.join(c),n(l.scrollIntoView())}return!0}let l=zt.findFrom(t,1),c=l&&l.$from.blockRange(l.$to),u=c&&yt(c);if(null!=u&&u>=t.depth)return n&&n(e.tr.lift(c,u).scrollIntoView()),!0;if(a&&Si(s,"start",!0)&&Si(i,"end")){let o=i,r=[];for(;r.push(o),!o.isTextblock;)o=o.lastChild;let a=s,l=1;for(;!a.isTextblock;a=a.firstChild)l++;if(o.canReplace(o.childCount,o.childCount,a.content)){if(n){let o=ee.empty;for(let e=r.length-1;e>=0;e--)o=ee.from(r[e].copy(o));n(e.tr.step(new mt(t.pos-r.length,t.pos+s.nodeSize,t.pos+l,t.pos+s.nodeSize-l,new se(o,r.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function Oi(e){return function(t,n){let o=t.selection,r=e<0?o.$from:o.$to,i=r.depth;for(;r.node(i).isInline;){if(!i)return!1;i--}return!!r.node(i).isTextblock&&(n&&n(t.tr.setSelection(Vt.create(t.doc,e<0?r.start(i):r.end(i)))),!0)}}const Mi=Oi(-1),Pi=Oi(1);function Ti(e,t=null){return function(n,o){let{from:r,to:i}=n.selection,s=!1;return n.doc.nodesBetween(r,i,((o,r)=>{if(s)return!1;if(o.isTextblock&&!o.hasMarkup(e,t))if(o.type==e)s=!0;else{let t=n.doc.resolve(r),o=t.index();s=t.parent.canReplaceWith(o,o+1,e)}})),!!s&&(o&&o(n.tr.setBlockType(r,i,e,t).scrollIntoView()),!0)}}function Ni(e,t=null){return function(n,o){let{$from:r,$to:i}=n.selection,s=r.blockRange(i),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&r.node(s.depth-1).type.compatibleContent(e)&&0==s.startIndex){if(0==r.index(s.depth-1))return!1;let e=n.doc.resolve(s.start-2);l=new De(e,e,s.depth),s.endIndex<s.parent.childCount&&(s=new De(r,n.doc.resolve(i.end(s.depth)),s.depth)),a=!0}let c=bt(l,e,t,s);return!!c&&(o&&o(function(e,t,n,o,r){let i=ee.empty;for(let e=n.length-1;e>=0;e--)i=ee.from(n[e].type.create(n[e].attrs,i));e.step(new mt(t.start-(o?2:0),t.end,t.start,t.end,new se(i,0,0),n.length,!0));let s=0;for(let e=0;e<n.length;e++)n[e].type==r&&(s=e+1);let a=n.length-s,l=t.start+n.length-(o?2:0),c=t.parent;for(let n=t.startIndex,o=t.endIndex,r=!0;n<o;n++,r=!1)!r&&kt(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(n).nodeSize;return e}(n.tr,s,c,a,e).scrollIntoView()),!0)}}function ji(e){return function(t,n){let{$from:o,$to:r}=t.selection,i=o.blockRange(r,(t=>t.childCount>0&&t.firstChild.type==e));return!!i&&(!n||(o.node(i.depth-1).type==e?function(e,t,n,o){let r=e.tr,i=o.end,s=o.$to.end(o.depth);i<s&&(r.step(new mt(i-1,s,i,s,new se(ee.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new De(r.doc.resolve(o.$from.pos),r.doc.resolve(s),o.depth));return t(r.lift(o,yt(o)).scrollIntoView()),!0}(t,n,e,i):function(e,t,n){let o=e.tr,r=n.parent;for(let e=n.end,t=n.endIndex-1,i=n.startIndex;t>i;t--)e-=r.child(t).nodeSize,o.delete(e-1,e+1);let i=o.doc.resolve(n.start),s=i.nodeAfter;if(o.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,l=n.endIndex==r.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?ee.empty:ee.from(r))))return!1;let d=i.pos,h=d+s.nodeSize;return o.step(new mt(d-(a?1:0),h+(l?1:0),d+1,h-1,new se((a?ee.empty:ee.from(r.copy(ee.empty))).append(l?ee.empty:ee.from(r.copy(ee.empty))),a?0:1,l?0:1),a?0:1)),t(o.scrollIntoView()),!0}(t,n,i)))}}function Bi(e){const{state:t,transaction:n}=e;let{selection:o}=n,{doc:r}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return o},get doc(){return r},get tr(){return o=n.selection,r=n.doc,i=n.storedMarks,n}}}"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform();class Li{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:o}=t,{tr:r}=n,i=this.buildProps(r);return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,(...e)=>{const n=t(...e)(i);return r.getMeta("preventDispatch")||this.hasCustomState||o.dispatch(r),n}])))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:o,state:r}=this,{view:i}=o,s=[],a=!!e,l=e||r.tr,c={...Object.fromEntries(Object.entries(n).map((([e,n])=>[e,(...e)=>{const o=this.buildProps(l,t),r=n(...e)(o);return s.push(r),c}]))),run:()=>(a||!t||l.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(l),s.every((e=>!0===e)))};return c}createCan(e){const{rawCommands:t,state:n}=this,o=e||n.tr,r=this.buildProps(o,false),i=Object.fromEntries(Object.entries(t).map((([e,t])=>[e,(...e)=>t(...e)({...r,dispatch:void 0})])));return{...i,chain:()=>this.createChain(o,false)}}buildProps(e,t=!0){const{rawCommands:n,editor:o,state:r}=this,{view:i}=o;r.storedMarks&&e.setStoredMarks(r.storedMarks);const s={tr:e,editor:o,view:i,state:Bi({state:r,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map((([e,t])=>[e,(...e)=>t(...e)(s)])))}};return s}}function zi(e,t,n){if(void 0===e.config[t]&&e.parent)return zi(e.parent,t,n);if("function"==typeof e.config[t]){return e.config[t].bind({...n,parent:e.parent?zi(e.parent,t,n):null})}return e.config[t]}function Ii(e){return{baseExtensions:e.filter((e=>"extension"===e.type)),nodeExtensions:e.filter((e=>"node"===e.type)),markExtensions:e.filter((e=>"mark"===e.type))}}function Ri(e){const t=[],{nodeExtensions:n,markExtensions:o}=Ii(e),r=[...n,...o],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach((e=>{const n=zi(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage});if(!n)return;n().forEach((e=>{e.types.forEach((n=>{Object.entries(e.attributes).forEach((([e,o])=>{t.push({type:n,name:e,attribute:{...i,...o}})}))}))}))})),r.forEach((e=>{const n={name:e.name,options:e.options,storage:e.storage},o=zi(e,"addAttributes",n);if(!o)return;const r=o();Object.entries(r).forEach((([n,o])=>{const r={...i,...o};o.isRequired&&void 0===o.default&&delete r.default,t.push({type:e.name,name:n,attribute:r})}))})),t}function $i(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function Vi(...e){return e.filter((e=>!!e)).reduce(((e,t)=>{const n={...e};return Object.entries(t).forEach((([e,t])=>{n[e]?n[e]="class"===e?[n[e],t].join(" "):"style"===e?[n[e],t].join("; "):t:n[e]=t})),n}),{})}function Hi(e,t){return t.filter((e=>e.attribute.rendered)).map((t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]})).reduce(((e,t)=>Vi(e,t)),{})}function qi(e){return"function"==typeof e}function Ki(e,t,...n){return qi(e)?t?e.bind(t)(...n):e(...n):e}function Wi(e,t){return e.style?e:{...e,getAttrs:n=>{const o=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===o)return!1;const r=t.reduce(((e,t)=>{const o=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null==o?e:{...e,[t.name]:o}}),{});return{...o,...r}}}}function Ji(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>("attrs"!==e||!function(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t)))}function Ui(e,t){return t.nodes[e]||t.marks[e]||null}function Gi(e,t){return Array.isArray(t)?t.some((t=>("string"==typeof t?t:t.name)===e.name)):t}function Xi(e){return"[object RegExp]"===Object.prototype.toString.call(e)}class Yi{constructor(e){this.find=e.find,this.handler=e.handler}}function Qi(e){var t;const{editor:n,from:o,to:r,text:i,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(o);if(c.parent.type.spec.code||(null===(t=c.nodeBefore||c.nodeAfter)||void 0===t?void 0:t.marks.find((e=>e.type.spec.code))))return!1;let u=!1;const d=((e,t=500)=>{let n="";return e.parent.nodesBetween(Math.max(0,e.parentOffset-t),e.parentOffset,((t,o,r,i)=>{var s,a,l;n+=(null===(a=(s=t.type.spec).toText)||void 0===a?void 0:a.call(s,{node:t,pos:o,parent:r,index:i}))||(null===(l=e.nodeBefore)||void 0===l?void 0:l.text)||"%leaf%"})),n})(c)+i;return s.forEach((e=>{if(u)return;const t=((e,t)=>{if(Xi(t))return t.exec(e);const n=t(e);if(!n)return null;const o=[];return o.push(n.text),o.index=n.index,o.input=e,o.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),o.push(n.replaceWith)),o})(d,e.find);if(!t)return;const s=l.state.tr,c=Bi({state:l.state,transaction:s}),h={from:o-(t[0].length-i.length),to:r},{commands:p,chain:f,can:m}=new Li({editor:n,state:c});null!==e.handler({state:c,range:h,match:t,commands:p,chain:f,can:m})&&s.steps.length&&(s.setMeta(a,{transform:s,from:o,to:r,text:i}),l.dispatch(s),u=!0)})),u}function Zi(e){const{editor:t,rules:n}=e,o=new on({state:{init:()=>null,apply(e,t){const n=e.getMeta(o);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(e,r,i,s)=>Qi({editor:t,from:r,to:i,text:s,rules:n,plugin:o}),handleDOMEvents:{compositionend:e=>(setTimeout((()=>{const{$cursor:r}=e.state.selection;r&&Qi({editor:t,from:r.pos,to:r.pos,text:"",rules:n,plugin:o})})),!1)},handleKeyDown(e,r){if("Enter"!==r.key)return!1;const{$cursor:i}=e.state.selection;return!!i&&Qi({editor:t,from:i.pos,to:i.pos,text:"\n",rules:n,plugin:o})}},isInputRules:!0});return o}class es{constructor(e){this.find=e.find,this.handler=e.handler}}function ts(e){const{editor:t,state:n,from:o,to:r,rule:i}=e,{commands:s,chain:a,can:l}=new Li({editor:t,state:n}),c=[];n.doc.nodesBetween(o,r,((e,t)=>{if(!e.isTextblock||e.type.spec.code)return;const u=Math.max(o,t),d=Math.min(r,t+e.content.size),h=((e,t)=>{if(Xi(t))return[...e.matchAll(t)];const n=t(e);return n?n.map((t=>{const n=[];return n.push(t.text),n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n})):[]})(e.textBetween(u-t,d-t,void 0,""),i.find);h.forEach((e=>{if(void 0===e.index)return;const t=u+e.index+1,o=t+e[0].length,r={from:n.tr.mapping.map(t),to:n.tr.mapping.map(o)},d=i.handler({state:n,range:r,match:e,commands:s,chain:a,can:l});c.push(d)}))}));return c.every((e=>null!==e))}function ns(e){const{editor:t,rules:n}=e;let o=null,r=!1,i=!1;return n.map((e=>new on({view(e){const t=t=>{var n;o=(null===(n=e.dom.parentElement)||void 0===n?void 0:n.contains(t.target))?e.dom.parentElement:null};return window.addEventListener("dragstart",t),{destroy(){window.removeEventListener("dragstart",t)}}},props:{handleDOMEvents:{drop:e=>(i=o===e.dom.parentElement,!1),paste:(e,t)=>{var n;const o=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/html");return r=!!(null==o?void 0:o.includes("data-pm-slice")),!1}}},appendTransaction:(n,o,s)=>{const a=n[0],l="paste"===a.getMeta("uiEvent")&&!r,c="drop"===a.getMeta("uiEvent")&&!i;if(!l&&!c)return;const u=o.doc.content.findDiffStart(s.doc.content),d=o.doc.content.findDiffEnd(s.doc.content);if("number"!=typeof u||!d||u===d.b)return;const h=s.tr,p=Bi({state:s,transaction:h});return ts({editor:t,state:p,from:Math.max(u-1,0),to:d.b-1,rule:e})&&h.steps.length?h:void 0}})))}class rs{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=rs.resolve(e),this.schema=function(e){var t;const n=Ri(e),{nodeExtensions:o,markExtensions:r}=Ii(e),i=null===(t=o.find((e=>zi(e,"topNode"))))||void 0===t?void 0:t.name,s=Object.fromEntries(o.map((t=>{const o=n.filter((e=>e.type===t.name)),r={name:t.name,options:t.options,storage:t.storage},i=Ji({...e.reduce(((e,n)=>{const o=zi(n,"extendNodeSchema",r);return{...e,...o?o(t):{}}}),{}),content:Ki(zi(t,"content",r)),marks:Ki(zi(t,"marks",r)),group:Ki(zi(t,"group",r)),inline:Ki(zi(t,"inline",r)),atom:Ki(zi(t,"atom",r)),selectable:Ki(zi(t,"selectable",r)),draggable:Ki(zi(t,"draggable",r)),code:Ki(zi(t,"code",r)),defining:Ki(zi(t,"defining",r)),isolating:Ki(zi(t,"isolating",r)),attrs:Object.fromEntries(o.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))}),s=Ki(zi(t,"parseHTML",r));s&&(i.parseDOM=s.map((e=>Wi(e,o))));const a=zi(t,"renderHTML",r);a&&(i.toDOM=e=>a({node:e,HTMLAttributes:Hi(e,o)}));const l=zi(t,"renderText",r);return l&&(i.toText=l),[t.name,i]}))),a=Object.fromEntries(r.map((t=>{const o=n.filter((e=>e.type===t.name)),r={name:t.name,options:t.options,storage:t.storage},i=Ji({...e.reduce(((e,n)=>{const o=zi(n,"extendMarkSchema",r);return{...e,...o?o(t):{}}}),{}),inclusive:Ki(zi(t,"inclusive",r)),excludes:Ki(zi(t,"excludes",r)),group:Ki(zi(t,"group",r)),spanning:Ki(zi(t,"spanning",r)),code:Ki(zi(t,"code",r)),attrs:Object.fromEntries(o.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))}),s=Ki(zi(t,"parseHTML",r));s&&(i.parseDOM=s.map((e=>Wi(e,o))));const a=zi(t,"renderHTML",r);return a&&(i.toDOM=e=>a({mark:e,HTMLAttributes:Hi(e,o)})),[t.name,i]})));return new Ve({topNode:i,nodes:s,marks:a})}(this.extensions),this.extensions.forEach((e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Ui(e.name,this.schema)};if("mark"===e.type){(null===(t=Ki(zi(e,"keepOnSplit",n)))||void 0===t||t)&&this.splittableMarks.push(e.name)}const o=zi(e,"onBeforeCreate",n);o&&this.editor.on("beforeCreate",o);const r=zi(e,"onCreate",n);r&&this.editor.on("create",r);const i=zi(e,"onUpdate",n);i&&this.editor.on("update",i);const s=zi(e,"onSelectionUpdate",n);s&&this.editor.on("selectionUpdate",s);const a=zi(e,"onTransaction",n);a&&this.editor.on("transaction",a);const l=zi(e,"onFocus",n);l&&this.editor.on("focus",l);const c=zi(e,"onBlur",n);c&&this.editor.on("blur",c);const u=zi(e,"onDestroy",n);u&&this.editor.on("destroy",u)}))}static resolve(e){const t=rs.sort(rs.flatten(e)),n=function(e){const t=e.filter(((t,n)=>e.indexOf(t)!==n));return[...new Set(t)]}(t.map((e=>e.name)));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map((e=>`'${e}'`)).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map((e=>{const t=zi(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...this.flatten(t())]:e})).flat(10)}static sort(e){return e.sort(((e,t)=>{const n=zi(e,"priority")||100,o=zi(t,"priority")||100;return n>o?-1:n<o?1:0}))}get commands(){return this.extensions.reduce(((e,t)=>{const n=zi(t,"addCommands",{name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Ui(t.name,this.schema)});return n?{...e,...n()}:e}),{})}get plugins(){const{editor:e}=this,t=rs.sort([...this.extensions].reverse()),n=[],o=[],r=t.map((t=>{const r={name:t.name,options:t.options,storage:t.storage,editor:e,type:Ui(t.name,this.schema)},i=[],s=zi(t,"addKeyboardShortcuts",r);let a={};if("mark"===t.type&&t.config.exitable&&(a.ArrowRight=()=>Us.handleExit({editor:e,mark:t})),s){const t=Object.fromEntries(Object.entries(s()).map((([t,n])=>[t,()=>n({editor:e})])));a={...a,...t}}const l=new on({props:{handleKeyDown:_i(a)}});i.push(l);const c=zi(t,"addInputRules",r);Gi(t,e.options.enableInputRules)&&c&&n.push(...c());const u=zi(t,"addPasteRules",r);Gi(t,e.options.enablePasteRules)&&u&&o.push(...u());const d=zi(t,"addProseMirrorPlugins",r);if(d){const e=d();i.push(...e)}return i})).flat();return[Zi({editor:e,rules:n}),...ns({editor:e,rules:o}),...r]}get attributes(){return Ri(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Ii(this.extensions);return Object.fromEntries(t.filter((e=>!!zi(e,"addNodeView"))).map((t=>{const n=this.attributes.filter((e=>e.type===t.name)),o={name:t.name,options:t.options,storage:t.storage,editor:e,type:$i(t.name,this.schema)},r=zi(t,"addNodeView",o);if(!r)return[];return[t.name,(o,i,s,a)=>{const l=Hi(o,n);return r()({editor:e,node:o,getPos:s,decorations:a,HTMLAttributes:l,extension:t})}]})))}}function is(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function ss(e,t){const n={...e};return is(e)&&is(t)&&Object.keys(t).forEach((o=>{is(t[o])?o in e?n[o]=ss(e[o],t[o]):Object.assign(n,{[o]:t[o]}):Object.assign(n,{[o]:t[o]})})),n}class as{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ki(zi(this,"addOptions",{name:this.name}))),this.storage=Ki(zi(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new as(e)}configure(e={}){const t=this.extend();return t.options=ss(this.options,e),t.storage=Ki(zi(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new as(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ki(zi(t,"addOptions",{name:t.name})),t.storage=Ki(zi(t,"addStorage",{name:t.name,options:t.options})),t}}function ls(e,t,n){const{from:o,to:r}=t,{blockSeparator:i="\n\n",textSerializers:s={}}=n||{};let a="",l=!0;return e.nodesBetween(o,r,((e,n,c,u)=>{var d;const h=null==s?void 0:s[e.type.name];h?(e.isBlock&&!l&&(a+=i,l=!0),c&&(a+=h({node:e,pos:n,parent:c,index:u,range:t}))):e.isText?(a+=null===(d=null==e?void 0:e.text)||void 0===d?void 0:d.slice(Math.max(o,n)-n,r-n),l=!1):e.isBlock&&!l&&(a+=i,l=!0)})),a}function cs(e){return Object.fromEntries(Object.entries(e.nodes).filter((([,e])=>e.spec.toText)).map((([e,t])=>[e,t.spec.toText])))}const us=as.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new on({key:new an("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:o,selection:r}=t,{ranges:i}=r,s=Math.min(...i.map((e=>e.$from.pos))),a=Math.max(...i.map((e=>e.$to.pos)));return ls(o,{from:s,to:a},{textSerializers:cs(n)})}}})]}});function ds(e,t,n={strict:!0}){const o=Object.keys(t);return!o.length||o.every((o=>n.strict?t[o]===e[o]:Xi(t[o])?t[o].test(e[o]):t[o]===e[o]))}function hs(e,t,n={}){return e.find((e=>e.type===t&&ds(e.attrs,n)))}function ps(e,t,n={}){return!!hs(e,t,n)}function fs(e,t,n={}){if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if(e.parentOffset===o.offset&&0!==o.offset&&(o=e.parent.childBefore(e.parentOffset)),!o.node)return;const r=hs([...o.node.marks],t,n);if(!r)return;let i=o.index,s=e.start()+o.offset,a=i+1,l=s+o.node.nodeSize;for(hs([...o.node.marks],t,n);i>0&&r.isInSet(e.parent.child(i-1).marks);)i-=1,s-=e.parent.child(i).nodeSize;for(;a<e.parent.childCount&&ps([...e.parent.child(a).marks],t,n);)l+=e.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function ms(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function gs(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function ws(e,t=null){if(!t)return null;const n=zt.atStart(e),o=zt.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return o;const r=n.from,i=o.to;return"all"===t?Vt.create(e,gs(0,r,i),gs(e.content.size,r,i)):Vt.create(e,gs(t,r,i),gs(t,r,i))}function ys(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function bs(e){const t=`<body>${e}</body>`;return(new window.DOMParser).parseFromString(t,"text/html").body}function vs(e,t,n){if(n={slice:!0,parseOptions:{},...n},"object"==typeof e&&null!==e)try{return Array.isArray(e)?ee.fromArray(e.map((e=>t.nodeFromJSON(e)))):t.nodeFromJSON(e)}catch(o){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),vs("",t,n)}if("string"==typeof e){const o=qe.fromSchema(t);return n.slice?o.parseSlice(bs(e),n.parseOptions).content:o.parse(bs(e),n.parseOptions)}return vs("",t,n)}function ks(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function Ds(e,t,n={}){const{from:o,to:r,empty:i}=e.selection,s=t?$i(t,e.schema):null,a=[];e.doc.nodesBetween(o,r,((e,t)=>{if(e.isText)return;const n=Math.max(o,t),i=Math.min(r,t+e.nodeSize);a.push({node:e,from:n,to:i})}));const l=r-o,c=a.filter((e=>!s||s.name===e.node.type.name)).filter((e=>ds(e.node.attrs,n,{strict:!1})));if(i)return!!c.length;return c.reduce(((e,t)=>e+t.to-t.from),0)>=l}function xs(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function _s(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce(((t,o)=>(n.includes(o)||(t[o]=e[o]),t)),{})}function Ss(e,t,n={}){return vs(e,t,{slice:!1,parseOptions:n})}function Cs(e,t){const n=ms(t,e.schema),{from:o,to:r,empty:i}=e.selection,s=[];i?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(o,r,(e=>{s.push(...e.marks)}));const a=s.find((e=>e.type.name===n.name));return a?{...a.attrs}:{}}function As(e,t,n){return Object.fromEntries(Object.entries(n).filter((([n])=>{const o=e.find((e=>e.type===t&&e.name===n));return!!o&&o.attribute.keepOnSplit})))}function Es(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const o=n.filter((e=>null==t?void 0:t.includes(e.type.name)));e.tr.ensureMarks(o)}}function Fs(e){return t=>function(e,t){for(let n=e.depth;n>0;n-=1){const o=e.node(n);if(t(o))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:o}}}(t.$from,e)}function Os(e,t){const{nodeExtensions:n}=Ii(t),o=n.find((t=>t.name===e));if(!o)return!1;const r=Ki(zi(o,"group",{name:o.name,options:o.options,storage:o.storage}));return"string"==typeof r&&r.split(" ").includes("list")}const Ms=(e,t)=>{const n=Fs((e=>e.type===t))(e.selection);if(!n)return!0;const o=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===o)return!0;const r=e.doc.nodeAt(o);return n.node.type!==(null==r?void 0:r.type)||!Dt(e.doc,n.pos)||(e.join(n.pos),!0)},Ps=(e,t)=>{const n=Fs((e=>e.type===t))(e.selection);if(!n)return!0;const o=e.doc.resolve(n.start).after(n.depth);if(void 0===o)return!0;const r=e.doc.nodeAt(o);return n.node.type!==(null==r?void 0:r.type)||!Dt(e.doc,o)||(e.join(o),!0)};function Ts(e,t,n={}){const{empty:o,ranges:r}=e.selection,i=t?ms(t,e.schema):null;if(o)return!!(e.storedMarks||e.selection.$from.marks()).filter((e=>!i||i.name===e.type.name)).find((e=>ds(e.attrs,n,{strict:!1})));let s=0;const a=[];if(r.forEach((({$from:t,$to:n})=>{const o=t.pos,r=n.pos;e.doc.nodesBetween(o,r,((e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(o,t),i=Math.min(r,t+e.nodeSize);s+=i-n,a.push(...e.marks.map((e=>({mark:e,from:n,to:i}))))}))})),0===s)return!1;const l=a.filter((e=>!i||i.name===e.mark.type.name)).filter((e=>ds(e.mark.attrs,n,{strict:!1}))).reduce(((e,t)=>e+t.to-t.from),0),c=a.filter((e=>!i||e.mark.type!==i&&e.mark.type.excludes(i))).reduce(((e,t)=>e+t.to-t.from),0);return(l>0?l+c:l)>=s}var Ns=Object.freeze({__proto__:null,blur:()=>({editor:e,view:t})=>(requestAnimationFrame((()=>{var n;e.isDestroyed||(t.dom.blur(),null===(n=null===window||void 0===window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())})),!0),clearContent:(e=!1)=>({commands:t})=>t.setContent("",e),clearNodes:()=>({state:e,tr:t,dispatch:n})=>{const{selection:o}=t,{ranges:r}=o;return!n||(r.forEach((({$from:n,$to:o})=>{e.doc.nodesBetween(n.pos,o.pos,((e,n)=>{if(e.type.isText)return;const{doc:o,mapping:r}=t,i=o.resolve(r.map(n)),s=o.resolve(r.map(n+e.nodeSize)),a=i.blockRange(s);if(!a)return;const l=yt(a);if(e.type.isTextblock){const{defaultType:e}=i.parent.contentMatchAt(i.index());t.setNodeMarkup(a.start,e)}(l||0===l)&&t.lift(a,l)}))})),!0)},command:e=>t=>e(t),createParagraphNear:()=>({state:e,dispatch:t})=>((e,t)=>{let n=e.selection,{$from:o,$to:r}=n;if(n instanceof Wt||o.parent.inlineContent||r.parent.inlineContent)return!1;let i=Ei(r.parent.contentMatchAt(r.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!o.parentOffset&&r.index()<r.parent.childCount?o:r).pos,s=e.tr.insert(n,i.createAndFill());s.setSelection(Vt.create(s.doc,n+1)),t(s.scrollIntoView())}return!0})(e,t),deleteNode:e=>({tr:t,state:n,dispatch:o})=>{const r=$i(e,n.schema),i=t.selection.$anchor;for(let e=i.depth;e>0;e-=1){if(i.node(e).type===r){if(o){const n=i.before(e),o=i.after(e);t.delete(n,o).scrollIntoView()}return!0}}return!1},deleteRange:e=>({tr:t,dispatch:n})=>{const{from:o,to:r}=e;return n&&t.delete(o,r),!0},deleteSelection:()=>({state:e,dispatch:t})=>((e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0))(e,t),enter:()=>({commands:e})=>e.keyboardShortcut("Enter"),exitCode:()=>({state:e,dispatch:t})=>((e,t)=>{let{$head:n,$anchor:o}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(o))return!1;let r=n.node(-1),i=n.indexAfter(-1),s=Ei(r.contentMatchAt(i));if(!s||!r.canReplaceWith(i,i,s))return!1;if(t){let o=n.after(),r=e.tr.replaceWith(o,o,s.createAndFill());r.setSelection(zt.near(r.doc.resolve(o),1)),t(r.scrollIntoView())}return!0})(e,t),extendMarkRange:(e,t={})=>({tr:n,state:o,dispatch:r})=>{const i=ms(e,o.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(r){const e=fs(l,i,t);if(e&&e.from<=c&&e.to>=u){const t=Vt.create(s,e.from,e.to);n.setSelection(t)}}return!0},first:e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1},focus:(e=null,t={})=>({editor:n,view:o,tr:r,dispatch:i})=>{t={scrollIntoView:!0,...t};const s=()=>{ys()&&o.dom.focus(),requestAnimationFrame((()=>{n.isDestroyed||(o.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())}))};if(o.hasFocus()&&null===e||!1===e)return!0;if(i&&null===e&&!(n.state.selection instanceof Vt))return s(),!0;const a=ws(r.doc,e)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||r.setSelection(a),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),s()),!0},forEach:(e,t)=>n=>e.every(((e,o)=>t(e,{...n,index:o}))),insertContent:(e,t)=>({tr:n,commands:o})=>o.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),insertContentAt:(e,t,n)=>({tr:o,dispatch:r,editor:i})=>{if(r){n={parseOptions:{},updateSelection:!0,...n};const r=vs(t,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if("<>"===r.toString())return!0;let{from:s,to:a}="number"==typeof e?{from:e,to:e}:e,l=!0,c=!0;if((r.toString().startsWith("<")?r:[r]).forEach((e=>{e.check(),l=!!l&&(e.isText&&0===e.marks.length),c=!!c&&e.isBlock})),s===a&&c){const{parent:e}=o.doc.resolve(s);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(s-=1,a+=1)}l?o.insertText(t,s,a):o.replaceWith(s,a,r),n.updateSelection&&function(e,t,n){const o=e.steps.length-1;if(o<t)return;const r=e.steps[o];if(!(r instanceof ft||r instanceof mt))return;const i=e.mapping.maps[o];let s=0;i.forEach(((e,t,n,o)=>{0===s&&(s=o)})),e.setSelection(zt.near(e.doc.resolve(s),n))}(o,o.steps.length-1,-1)}return!0},joinBackward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let{$cursor:o}=e.selection;if(!o||(n?!n.endOfTextblock("backward",e):o.parentOffset>0))return!1;let r=Ci(o);if(!r){let n=o.blockRange(),r=n&&yt(n);return null!=r&&(t&&t(e.tr.lift(n,r).scrollIntoView()),!0)}let i=r.nodeBefore;if(!i.type.spec.isolating&&Fi(e,r,t))return!0;if(0==o.parent.content.size&&(Si(i,"end")||qt.isSelectable(i))){let n=_t(e.doc,o.before(),o.after(),se.empty);if(n&&n.slice.size<n.to-n.from){if(t){let o=e.tr.step(n);o.setSelection(Si(i,"end")?zt.findFrom(o.doc.resolve(o.mapping.map(r.pos,-1)),-1):qt.create(o.doc,r.pos-i.nodeSize)),t(o.scrollIntoView())}return!0}}return!(!i.isAtom||r.depth!=o.depth-1||(t&&t(e.tr.delete(r.pos-i.nodeSize,r.pos).scrollIntoView()),0))})(e,t),joinForward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let{$cursor:o}=e.selection;if(!o||(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size))return!1;let r=Ai(o);if(!r)return!1;let i=r.nodeAfter;if(Fi(e,r,t))return!0;if(0==o.parent.content.size&&(Si(i,"start")||qt.isSelectable(i))){let n=_t(e.doc,o.before(),o.after(),se.empty);if(n&&n.slice.size<n.to-n.from){if(t){let o=e.tr.step(n);o.setSelection(Si(i,"start")?zt.findFrom(o.doc.resolve(o.mapping.map(r.pos)),1):qt.create(o.doc,o.mapping.map(r.pos))),t(o.scrollIntoView())}return!0}}return!(!i.isAtom||r.depth!=o.depth-1||(t&&t(e.tr.delete(r.pos,r.pos+i.nodeSize).scrollIntoView()),0))})(e,t),keyboardShortcut:e=>({editor:t,view:n,tr:o,dispatch:r})=>{const i=function(e){const t=e.split(/-(?!$)/);let n,o,r,i,s=t[t.length-1];"Space"===s&&(s=" ");for(let e=0;e<t.length-1;e+=1){const s=t[e];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))o=!0;else if(/^s(hift)?$/i.test(s))r=!0;else{if(!/^mod$/i.test(s))throw new Error(`Unrecognized modifier name: ${s}`);ys()||ks()?i=!0:o=!0}}return n&&(s=`Alt-${s}`),o&&(s=`Ctrl-${s}`),i&&(s=`Meta-${s}`),r&&(s=`Shift-${s}`),s}(e).split(/-(?!$)/),s=i.find((e=>!["Alt","Ctrl","Meta","Shift"].includes(e))),a=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction((()=>{n.someProp("handleKeyDown",(e=>e(n,a)))}));return null==l||l.steps.forEach((e=>{const t=e.map(o.mapping);t&&r&&o.maybeStep(t)})),!0},lift:(e,t={})=>({state:n,dispatch:o})=>!!Ds(n,$i(e,n.schema),t)&&((e,t)=>{let{$from:n,$to:o}=e.selection,r=n.blockRange(o),i=r&&yt(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)})(n,o),liftEmptyBlock:()=>({state:e,dispatch:t})=>((e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(kt(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let o=n.blockRange(),r=o&&yt(o);return null!=r&&(t&&t(e.tr.lift(o,r).scrollIntoView()),!0)})(e,t),liftListItem:e=>({state:t,dispatch:n})=>ji($i(e,t.schema))(t,n),newlineInCode:()=>({state:e,dispatch:t})=>((e,t)=>{let{$head:n,$anchor:o}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(o)||(t&&t(e.tr.insertText("\n").scrollIntoView()),0))})(e,t),resetAttributes:(e,t)=>({tr:n,state:o,dispatch:r})=>{let i=null,s=null;const a=xs("string"==typeof e?e:e.name,o.schema);return!!a&&("node"===a&&(i=$i(e,o.schema)),"mark"===a&&(s=ms(e,o.schema)),r&&n.selection.ranges.forEach((e=>{o.doc.nodesBetween(e.$from.pos,e.$to.pos,((e,o)=>{i&&i===e.type&&n.setNodeMarkup(o,void 0,_s(e.attrs,t)),s&&e.marks.length&&e.marks.forEach((r=>{s===r.type&&n.addMark(o,o+e.nodeSize,s.create(_s(r.attrs,t)))}))}))})),!0)},scrollIntoView:()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),selectAll:()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),selectNodeBackward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let{$head:o,empty:r}=e.selection,i=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;i=Ci(o)}let s=i&&i.nodeBefore;return!(!s||!qt.isSelectable(s)||(t&&t(e.tr.setSelection(qt.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),0))})(e,t),selectNodeForward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let{$head:o,empty:r}=e.selection,i=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;i=Ai(o)}let s=i&&i.nodeAfter;return!(!s||!qt.isSelectable(s)||(t&&t(e.tr.setSelection(qt.create(e.doc,i.pos)).scrollIntoView()),0))})(e,t),selectParentNode:()=>({state:e,dispatch:t})=>((e,t)=>{let n,{$from:o,to:r}=e.selection,i=o.sharedDepth(r);return 0!=i&&(n=o.before(i),t&&t(e.tr.setSelection(qt.create(e.doc,n))),!0)})(e,t),selectTextblockEnd:()=>({state:e,dispatch:t})=>Pi(e,t),selectTextblockStart:()=>({state:e,dispatch:t})=>Mi(e,t),setContent:(e,t=!1,n={})=>({tr:o,editor:r,dispatch:i})=>{const{doc:s}=o,a=Ss(e,r.schema,n);return i&&o.replaceWith(0,s.content.size,a).setMeta("preventUpdate",!t),!0},setMark:(e,t={})=>({tr:n,state:o,dispatch:r})=>{const{selection:i}=n,{empty:s,ranges:a}=i,l=ms(e,o.schema);if(r)if(s){const e=Cs(o,l);n.addStoredMark(l.create({...e,...t}))}else a.forEach((e=>{const r=e.$from.pos,i=e.$to.pos;o.doc.nodesBetween(r,i,((e,o)=>{const s=Math.max(o,r),a=Math.min(o+e.nodeSize,i);e.marks.find((e=>e.type===l))?e.marks.forEach((e=>{l===e.type&&n.addMark(s,a,l.create({...e.attrs,...t}))})):n.addMark(s,a,l.create(t))}))}));return!0},setMeta:(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),setNode:(e,t={})=>({state:n,dispatch:o,chain:r})=>{const i=$i(e,n.schema);return i.isTextblock?r().command((({commands:e})=>!!Ti(i,t)(n)||e.clearNodes())).command((({state:e})=>Ti(i,t)(e,o))).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,o=gs(e,0,n.content.size),r=qt.create(n,o);t.setSelection(r)}return!0},setTextSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:o,to:r}="number"==typeof e?{from:e,to:e}:e,i=Vt.atStart(n).from,s=Vt.atEnd(n).to,a=gs(o,i,s),l=gs(r,i,s),c=Vt.create(n,a,l);t.setSelection(c)}return!0},sinkListItem:e=>({state:t,dispatch:n})=>{const o=$i(e,t.schema);return(r=o,function(e,t){let{$from:n,$to:o}=e.selection,i=n.blockRange(o,(e=>e.childCount>0&&e.firstChild.type==r));if(!i)return!1;let s=i.startIndex;if(0==s)return!1;let a=i.parent,l=a.child(s-1);if(l.type!=r)return!1;if(t){let n=l.lastChild&&l.lastChild.type==a.type,o=ee.from(n?r.create():null),s=new se(ee.from(r.create(null,ee.from(a.type.create(null,o)))),n?3:1,0),c=i.start,u=i.end;t(e.tr.step(new mt(c-(n?3:1),u,c,u,s,1,!0)).scrollIntoView())}return!0})(t,n);var r},splitBlock:({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:o,editor:r})=>{const{selection:i,doc:s}=t,{$from:a,$to:l}=i,c=As(r.extensionManager.attributes,a.node().type.name,a.node().attrs);if(i instanceof qt&&i.node.isBlock)return!(!a.parentOffset||!kt(s,a.pos))&&(o&&(e&&Es(n,r.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(o){const o=l.parentOffset===l.parent.content.size;i instanceof Vt&&t.deleteSelection();const s=0===a.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(a.node(-1).contentMatchAt(a.indexAfter(-1)));let u=o&&s?[{type:s,attrs:c}]:void 0,d=kt(t.doc,t.mapping.map(a.pos),1,u);if(u||d||!kt(t.doc,t.mapping.map(a.pos),1,s?[{type:s}]:void 0)||(d=!0,u=s?[{type:s,attrs:c}]:void 0),d&&(t.split(t.mapping.map(a.pos),1,u),s&&!o&&!a.parentOffset&&a.parent.type!==s)){const e=t.mapping.map(a.before()),n=t.doc.resolve(e);a.node(-1).canReplaceWith(n.index(),n.index()+1,s)&&t.setNodeMarkup(t.mapping.map(a.before()),s)}e&&Es(n,r.extensionManager.splittableMarks),t.scrollIntoView()}return!0},splitListItem:e=>({tr:t,state:n,dispatch:o,editor:r})=>{var i;const s=$i(e,n.schema),{$from:a,$to:l}=n.selection,c=n.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(l))return!1;const u=a.node(-1);if(u.type!==s)return!1;const d=r.extensionManager.attributes;if(0===a.parent.content.size&&a.node(-1).childCount===a.indexAfter(-1)){if(2===a.depth||a.node(-3).type!==s||a.index(-2)!==a.node(-2).childCount-1)return!1;if(o){let e=ee.empty;const n=a.index(-1)?1:a.index(-2)?2:3;for(let t=a.depth-n;t>=a.depth-3;t-=1)e=ee.from(a.node(t).copy(e));const o=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,r=As(d,a.node().type.name,a.node().attrs),l=(null===(i=s.contentMatch.defaultType)||void 0===i?void 0:i.createAndFill(r))||void 0;e=e.append(ee.from(s.createAndFill(null,l)||void 0));const c=a.before(a.depth-(n-1));t.replace(c,a.after(-o),new se(e,4-n,0));let u=-1;t.doc.nodesBetween(c,t.doc.content.size,((e,t)=>{if(u>-1)return!1;e.isTextblock&&0===e.content.size&&(u=t+1)})),u>-1&&t.setSelection(Vt.near(t.doc.resolve(u))),t.scrollIntoView()}return!0}const h=l.pos===a.end()?u.contentMatchAt(0).defaultType:null,p=As(d,u.type.name,u.attrs),f=As(d,a.node().type.name,a.node().attrs);t.delete(a.pos,l.pos);const m=h?[{type:s,attrs:p},{type:h,attrs:f}]:[{type:s,attrs:p}];return!!kt(t.doc,a.pos,2)&&(o&&t.split(a.pos,2,m).scrollIntoView(),!0)},toggleList:(e,t)=>({editor:n,tr:o,state:r,dispatch:i,chain:s,commands:a,can:l})=>{const{extensions:c}=n.extensionManager,u=$i(e,r.schema),d=$i(t,r.schema),{selection:h}=r,{$from:p,$to:f}=h,m=p.blockRange(f);if(!m)return!1;const g=Fs((e=>Os(e.type.name,c)))(h);if(m.depth>=1&&g&&m.depth-g.depth<=1){if(g.node.type===u)return a.liftListItem(d);if(Os(g.node.type.name,c)&&u.validContent(g.node.content)&&i)return s().command((()=>(o.setNodeMarkup(g.pos,u),!0))).command((()=>Ms(o,u))).command((()=>Ps(o,u))).run()}return s().command((()=>!!l().wrapInList(u)||a.clearNodes())).wrapInList(u).command((()=>Ms(o,u))).command((()=>Ps(o,u))).run()},toggleMark:(e,t={},n={})=>({state:o,commands:r})=>{const{extendEmptyMarkRange:i=!1}=n,s=ms(e,o.schema);return Ts(o,s,t)?r.unsetMark(s,{extendEmptyMarkRange:i}):r.setMark(s,t)},toggleNode:(e,t,n={})=>({state:o,commands:r})=>{const i=$i(e,o.schema),s=$i(t,o.schema);return Ds(o,i,n)?r.setNode(s):r.setNode(i,n)},toggleWrap:(e,t={})=>({state:n,commands:o})=>{const r=$i(e,n.schema);return Ds(n,r,t)?o.lift(r):o.wrapIn(r,t)},undoInputRule:()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let o=0;o<n.length;o+=1){const r=n[o];let i;if(r.spec.isInputRules&&(i=r.getState(e))){if(t){const t=e.tr,n=i.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(i.text){const n=t.doc.resolve(i.from).marks();t.replaceWith(i.from,i.to,e.schema.text(i.text,n))}else t.delete(i.from,i.to)}return!0}}return!1},unsetAllMarks:()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:o,ranges:r}=n;return o||t&&r.forEach((t=>{e.removeMark(t.$from.pos,t.$to.pos)})),!0},unsetMark:(e,t={})=>({tr:n,state:o,dispatch:r})=>{var i;const{extendEmptyMarkRange:s=!1}=t,{selection:a}=n,l=ms(e,o.schema),{$from:c,empty:u,ranges:d}=a;if(!r)return!0;if(u&&s){let{from:e,to:t}=a;const o=null===(i=c.marks().find((e=>e.type===l)))||void 0===i?void 0:i.attrs,r=fs(c,l,o);r&&(e=r.from,t=r.to),n.removeMark(e,t,l)}else d.forEach((e=>{n.removeMark(e.$from.pos,e.$to.pos,l)}));return n.removeStoredMark(l),!0},updateAttributes:(e,t={})=>({tr:n,state:o,dispatch:r})=>{let i=null,s=null;const a=xs("string"==typeof e?e:e.name,o.schema);return!!a&&("node"===a&&(i=$i(e,o.schema)),"mark"===a&&(s=ms(e,o.schema)),r&&n.selection.ranges.forEach((e=>{const r=e.$from.pos,a=e.$to.pos;o.doc.nodesBetween(r,a,((e,o)=>{i&&i===e.type&&n.setNodeMarkup(o,void 0,{...e.attrs,...t}),s&&e.marks.length&&e.marks.forEach((i=>{if(s===i.type){const l=Math.max(o,r),c=Math.min(o+e.nodeSize,a);n.addMark(l,c,s.create({...i.attrs,...t}))}}))}))})),!0)},wrapIn:(e,t={})=>({state:n,dispatch:o})=>function(e,t=null){return function(n,o){let{$from:r,$to:i}=n.selection,s=r.blockRange(i),a=s&&bt(s,e,t);return!!a&&(o&&o(n.tr.wrap(s,a).scrollIntoView()),!0)}}($i(e,n.schema),t)(n,o),wrapInList:(e,t={})=>({state:n,dispatch:o})=>Ni($i(e,n.schema),t)(n,o)});const js=as.create({name:"commands",addCommands:()=>({...Ns})}),Bs=as.create({name:"editable",addProseMirrorPlugins(){return[new on({key:new an("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Ls=as.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new on({key:new an("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const o=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(o),!1},blur:(t,n)=>{e.isFocused=!1;const o=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(o),!1}}}})]}}),zs=as.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first((({commands:e})=>[()=>e.undoInputRule(),()=>e.command((({tr:t})=>{const{selection:n,doc:o}=t,{empty:r,$anchor:i}=n,{pos:s,parent:a}=i,l=zt.atStart(o).from===s;return!(!(r&&l&&a.type.isTextblock)||a.textContent.length)&&e.clearNodes()})),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()])),t=()=>this.editor.commands.first((({commands:e})=>[()=>e.deleteSelection(),()=>e.joinForward(),()=>e.selectNodeForward()])),n={Enter:()=>this.editor.commands.first((({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()])),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...n},r={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ys()||ks()?r:o},addProseMirrorPlugins(){return[new on({key:new an("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some((e=>e.docChanged))&&!t.doc.eq(n.doc)))return;const{empty:o,from:r,to:i}=t.selection,s=zt.atStart(t.doc).from,a=zt.atEnd(t.doc).to,l=r===s&&i===a,c=0===n.doc.textBetween(0,n.doc.content.size," "," ").length;if(o||!l||!c)return;const u=n.tr,d=Bi({state:n,transaction:u}),{commands:h}=new Li({editor:this.editor,state:d});return h.clearNodes(),u.steps.length?u:void 0}})]}}),Is=as.create({name:"tabindex",addProseMirrorPlugins(){return[new on({key:new an("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Rs=Object.freeze({__proto__:null,ClipboardTextSerializer:us,Commands:js,Editable:Bs,FocusEvents:Ls,Keymap:zs,Tabindex:Is});function $s(e,t){const n=xs("string"==typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=$i(t,e.schema),{from:o,to:r}=e.selection,i=[];e.doc.nodesBetween(o,r,(e=>{i.push(e)}));const s=i.reverse().find((e=>e.type.name===n.name));return s?{...s.attrs}:{}}(e,t):"mark"===n?Cs(e,t):{}}function Vs(e){const t=function(e,t=JSON.stringify){const n={};return e.filter((e=>{const o=t(e);return!Object.prototype.hasOwnProperty.call(n,o)&&(n[o]=!0)}))}(e);return 1===t.length?t:t.filter(((e,n)=>{const o=t.filter(((e,t)=>t!==n));return!o.some((t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to))}))}function Hs(e,t,n){const o=[];return e===t?n.resolve(e).marks().forEach((t=>{const r=fs(n.resolve(e-1),t.type);r&&o.push({mark:t,...r})})):n.nodesBetween(e,t,((e,t)=>{o.push(...e.marks.map((n=>({from:t,to:t+e.nodeSize,mark:n}))))})),o}function qs(e){return new Yi({find:e.find,handler:({state:t,range:n,match:o})=>{const r=Ki(e.getAttributes,void 0,o);if(!1===r||null===r)return null;const{tr:i}=t,s=o[o.length-1],a=o[0];let l=n.to;if(s){const o=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(Hs(n.from,n.to,t.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>c)).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+o,c),l=n.from+o+s.length,i.addMark(n.from+o,l,e.type.create(r||{})),i.removeStoredMark(e.type)}}})}function Ks(e){return new Yi({find:e.find,handler:({state:t,range:n,match:o})=>{const r=Ki(e.getAttributes,void 0,o)||{},{tr:i}=t,s=n.from;let a=n.to;if(o[1]){let t=s+o[0].lastIndexOf(o[1]);t>a?t=a:a=t+o[1].length;const n=o[0][o[0].length-1];i.insertText(n,s+o[0].length-1),i.replaceWith(t,a,e.type.create(r))}else o[0]&&i.replaceWith(s,a,e.type.create(r))}})}function Ws(e){return new Yi({find:e.find,handler:({state:t,range:n,match:o})=>{const r=t.doc.resolve(n.from),i=Ki(e.getAttributes,void 0,o)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)}})}function Js(e){return new Yi({find:e.find,handler:({state:t,range:n,match:o})=>{const r=Ki(e.getAttributes,void 0,o)||{},i=t.tr.delete(n.from,n.to),s=i.doc.resolve(n.from).blockRange(),a=s&&bt(s,e.type,r);if(!a)return null;i.wrap(s,a);const l=i.doc.resolve(n.from-1).nodeBefore;l&&l.type===e.type&&Dt(i.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(o,l))&&i.join(n.from-1)}})}class Us{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ki(zi(this,"addOptions",{name:this.name}))),this.storage=Ki(zi(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Us(e)}configure(e={}){const t=this.extend();return t.options=ss(this.options,e),t.storage=Ki(zi(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Us(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ki(zi(t,"addOptions",{name:t.name})),t.storage=Ki(zi(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const r=o.marks();if(!!!r.find((e=>(null==e?void 0:e.type.name)===t.name)))return!1;const i=r.find((e=>(null==e?void 0:e.type.name)===t.name));return i&&n.removeStoredMark(i),n.insertText(" ",o.pos),e.view.dispatch(n),!0}return!1}}class Gs{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ki(zi(this,"addOptions",{name:this.name}))),this.storage=Ki(zi(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Gs(e)}configure(e={}){const t=this.extend();return t.options=ss(this.options,e),t.storage=Ki(zi(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Gs(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ki(zi(t,"addOptions",{name:t.name})),t.storage=Ki(zi(t,"addStorage",{name:t.name,options:t.options})),t}}function Xs(e){return new es({find:e.find,handler:({state:t,range:n,match:o})=>{const r=Ki(e.getAttributes,void 0,o);if(!1===r||null===r)return null;const{tr:i}=t,s=o[o.length-1],a=o[0];let l=n.to;if(s){const o=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(Hs(n.from,n.to,t.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>c)).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+o,c),l=n.from+o+s.length,i.addMark(n.from+o,l,e.type.create(r||{})),i.removeStoredMark(e.type)}}})}class Ys extends class extends class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach((e=>e.apply(this,t))),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter((e=>e!==t)):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))}),0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(e,t){const n=document.querySelector("style[data-tiptap-style]");if(null!==n)return n;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style",""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e}),this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=qi(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:n});this.view.updateState(o)}unregisterPlugin(e){if(this.isDestroyed)return;const t="string"==typeof e?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter((e=>!e.key.startsWith(t)))});this.view.updateState(n)}createExtensionManager(){const e=[...this.options.enableCoreExtensions?Object.values(Rs):[],...this.options.extensions].filter((e=>["extension","node","mark"].includes(null==e?void 0:e.type)));this.extensionManager=new rs(e,this)}createCommandManager(){this.commandManager=new Li({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=Ss(this.options.content,this.schema,this.options.parseOptions),t=ws(e,this.options.autofocus);this.view=new ai(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:tn.create({doc:e,selection:t||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews();this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach((e=>{var t;return null===(t=this.capturedTransaction)||void 0===t?void 0:t.step(e)})):void(this.capturedTransaction=e);const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),r=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),r&&this.emit("blur",{editor:this,event:r.event,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return $s(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,o="string"==typeof e?t:e;return function(e,t,n={}){if(!t)return Ds(e,null,n)||Ts(e,null,n);const o=xs(t,e.schema);return"node"===o?Ds(e,t,n):"mark"===o&&Ts(e,t,n)}(this.state,n,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return function(e,t){const n=et.fromSchema(t).serializeFragment(e),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return function(e,t){return ls(e,{from:0,to:e.content.size},t)}(this.state.doc,{blockSeparator:t,textSerializers:{...n,...cs(this.schema)}})}get isEmpty(){return function(e){var t;const n=null===(t=e.type.createAndFill())||void 0===t?void 0:t.toJSON(),o=e.toJSON();return JSON.stringify(n)===JSON.stringify(o)}(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(null===(e=this.view)||void 0===e?void 0:e.docView)}}{constructor(){super(...arguments),this.contentComponent=null}}const Qs={name:"EditorContent",props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(e){e&&e.options.element&&this.$nextTick((()=>{const t=this.$el;t&&e.options.element.firstChild&&(t.append(...e.options.element.childNodes),e.contentComponent=this,e.setOptions({element:t}),e.createNodeViews())}))}}},render:e=>e("div"),beforeDestroy(){const{editor:e}=this;if(!e)return;if(e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild)return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}};const Zs=/^\s*>\s$/,ea=Gs.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return["blockquote",Vi(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Js({find:Zs,type:this.type})]}}),ta=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,na=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,oa=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,ra=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,ia=Us.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],renderHTML({HTMLAttributes:e}){return["strong",Vi(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[qs({find:ta,type:this.type}),qs({find:oa,type:this.type})]},addPasteRules(){return[Xs({find:na,type:this.type}),Xs({find:ra,type:this.type})]}}),sa=/^\s*([-+*])\s$/,aa=Gs.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",Vi(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[Js({find:sa,type:this.type})]}}),la=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,ca=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,ua=Us.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",Vi(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[qs({find:la,type:this.type})]},addPasteRules(){return[Xs({find:ca,type:this.type})]}}),da=/^```([a-z]+)?[\s\n]$/,ha=/^~~~([a-z]+)?[\s\n]$/,pa=Gs.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,o=[...(null===(t=e.firstElementChild)||void 0===t?void 0:t.classList)||[]].filter((e=>e.startsWith(n))).map((e=>e.replace(n,"")))[0];return o||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",Vi(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:o,empty:r}=n;if(!r||o.parent.type!==this.type)return!1;const i=o.parentOffset===o.parent.nodeSize-2,s=o.parent.textContent.endsWith("\n\n");return!(!i||!s)&&e.chain().command((({tr:e})=>(e.delete(o.pos-2,o.pos),!0))).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:o}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;if(!(r.parentOffset===r.parent.nodeSize-2))return!1;const s=r.after();if(void 0===s)return!1;return!o.nodeAt(s)&&e.commands.exitCode()}}},addInputRules(){return[Ws({find:da,type:this.type,getAttributes:e=>({language:e[1]})}),Ws({find:ha,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new on({key:new an("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),o=t.clipboardData.getData("vscode-editor-data"),r=o?JSON.parse(o):void 0,i=null==r?void 0:r.mode;if(!n||!i)return!1;const{tr:s}=e.state;return s.replaceSelectionWith(this.type.create({language:i})),s.setSelection(Vt.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,"\n")),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),fa=Gs.create({name:"doc",topNode:!0,content:"block+"});function ma(e={}){return new on({view:t=>new ga(t,e)})}class ga{constructor(e,t){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map((t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}}))}destroy(){this.handlers.forEach((({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t)))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){let n=t.nodeBefore,o=t.nodeAfter;if(n||o){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),r=n?t.bottom:t.top;n&&o&&(r=(r+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:t.left,right:t.right,top:r-this.width/2,bottom:r+this.width/2}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos);e={left:t.left-this.width/2,right:t.left+this.width/2,top:t.top,bottom:t.bottom}}let n,o,r=this.editorView.dom.offsetParent;if(this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!r||r==document.body&&"static"==getComputedStyle(r).position)n=-pageXOffset,o=-pageYOffset;else{let e=r.getBoundingClientRect();n=e.left-r.scrollLeft,o=e.top-r.scrollTop}this.element.style.left=e.left-n+"px",this.element.style.top=e.top-o+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),o=n&&n.type.spec.disableDropCursor,r="function"==typeof o?o(this.editorView,t):o;if(t&&!r){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(e=xt(this.editorView.state.doc,e,this.editorView.dragging.slice),null==e))return this.setCursor(null);this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const wa=as.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[ma(this.options)]}});class ya extends zt{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return ya.valid(n)?new ya(n):zt.near(n)}content(){return se.empty}eq(e){return e instanceof ya&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new ya(e.resolve(t.pos))}getBookmark(){return new ba(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),o=e.node(t);if(0!=n)for(let e=o.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(o.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),o=e.node(t);if(n!=o.childCount)for(let e=o.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(o.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&ya.valid(e))return e;let o=e.pos,r=null;for(let n=e.depth;;n--){let i=e.node(n);if(t>0?e.indexAfter(n)<i.childCount:e.index(n)>0){r=i.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;o+=t;let s=e.doc.resolve(o);if(ya.valid(s))return s}for(;;){let i=t>0?r.firstChild:r.lastChild;if(!i){if(r.isAtom&&!r.isText&&!qt.isSelectable(r)){e=e.doc.resolve(o+r.nodeSize*t),n=!1;continue e}break}r=i,o+=t;let s=e.doc.resolve(o);if(ya.valid(s))return s}return null}}}ya.prototype.visible=!1,ya.findFrom=ya.findGapCursorFrom,zt.jsonID("gapcursor",ya);class ba{constructor(e){this.pos=e}map(e){return new ba(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return ya.valid(t)?new ya(t):zt.near(t)}}const va=_i({ArrowLeft:ka("horiz",-1),ArrowRight:ka("horiz",1),ArrowUp:ka("vert",-1),ArrowDown:ka("vert",1)});function ka(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,o,r){let i=e.selection,s=t>0?i.$to:i.$from,a=i.empty;if(i instanceof Vt){if(!r.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=e.doc.resolve(t>0?s.after():s.before())}let l=ya.findGapCursorFrom(s,t,a);return!!l&&(o&&o(e.tr.setSelection(new ya(l))),!0)}}function Da(e,t,n){if(!e||!e.editable)return!1;let o=e.state.doc.resolve(t);if(!ya.valid(o))return!1;let r=e.posAtCoords({left:n.clientX,top:n.clientY});return!(r&&r.inside>-1&&qt.isSelectable(e.state.doc.nodeAt(r.inside)))&&(e.dispatch(e.state.tr.setSelection(new ya(o))),!0)}function xa(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof ya))return!1;let{$from:n}=e.state.selection,o=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!o)return!1;let r=ee.empty;for(let e=o.length-1;e>=0;e--)r=ee.from(o[e].createAndFill(null,r));let i=e.state.tr.replace(n.pos,n.pos,new se(r,0,0));return i.setSelection(Vt.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function _a(e){if(!(e.selection instanceof ya))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",$r.create(e.doc,[zr.widget(e.selection.head,t,{key:"gapcursor"})])}const Sa=as.create({name:"gapCursor",addProseMirrorPlugins:()=>[new on({props:{decorations:_a,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&ya.valid(n)?new ya(n):null,handleClick:Da,handleKeyDown:va,handleDOMEvents:{beforeinput:xa}}})],extendNodeSchema(e){var t;return{allowGapCursor:null!==(t=Ki(zi(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))&&void 0!==t?t:null}}}),Ca=Gs.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",Vi(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:o})=>e.first([()=>e.exitCode(),()=>e.command((()=>{const{selection:e,storedMarks:r}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:s}=o.extensionManager,a=r||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command((({tr:e,dispatch:t})=>{if(t&&a&&i){const t=a.filter((e=>s.includes(e.type.name)));e.ensureMarks(t)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Aa=Gs.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((e=>({tag:`h${e}`,attrs:{level:e}})))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Vi(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce(((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})})),{})},addInputRules(){return this.options.levels.map((e=>Ws({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}})))}});var Ea=200,Fa=function(){};Fa.prototype.append=function(e){return e.length?(e=Fa.from(e),!this.length&&e||e.length<Ea&&this.leafAppend(e)||this.length<Ea&&e.leafPrepend(this)||this.appendInner(e)):this},Fa.prototype.prepend=function(e){return e.length?Fa.from(e).append(this):this},Fa.prototype.appendInner=function(e){return new Ma(this,e)},Fa.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?Fa.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Fa.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Fa.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},Fa.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var o=[];return this.forEach((function(t,n){return o.push(e(t,n))}),t,n),o},Fa.from=function(e){return e instanceof Fa?e:e&&e.length?new Oa(e):Fa.empty};var Oa=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,o){for(var r=t;r<n;r++)if(!1===e(this.values[r],o+r))return!1},t.prototype.forEachInvertedInner=function(e,t,n,o){for(var r=t-1;r>=n;r--)if(!1===e(this.values[r],o+r))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=Ea)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=Ea)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Fa);Fa.empty=new Oa([]);var Ma=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,o){var r=this.left.length;return!(t<r&&!1===this.left.forEachInner(e,t,Math.min(n,r),o))&&(!(n>r&&!1===this.right.forEachInner(e,Math.max(t-r,0),Math.min(this.length,n)-r,o+r))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,o){var r=this.left.length;return!(t>r&&!1===this.right.forEachInvertedInner(e,t-r,Math.max(n,r)-r,o+r))&&(!(n<r&&!1===this.left.forEachInvertedInner(e,Math.min(t,r),n,o))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Fa),Pa=Fa;class Ta{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,o,r=this.items.length;for(;;r--){if(this.items.get(r-1).selection){--r;break}}t&&(n=this.remapping(r,this.items.length),o=n.maps.length);let i,s,a=e.tr,l=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(r,t+1),o=n.maps.length),o--,void c.push(e);if(n){c.push(new Na(e.map));let t,r=e.step.map(n.slice(o));r&&a.maybeStep(r).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],l.push(new Na(t,void 0,void 0,l.length+c.length))),o--,t&&n.appendMap(t,o)}else a.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(o)):e.selection,s=new Ta(this.items.slice(0,r).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:a,selection:i}}addTransform(e,t,n,o){let r=[],i=this.eventCount,s=this.items,a=!o&&s.length?s.get(s.length-1):null;for(let n=0;n<e.steps.length;n++){let l,c=e.steps[n].invert(e.docs[n]),u=new Na(e.mapping.maps[n],c,t);(l=a&&a.merge(u))&&(u=l,n?r.pop():s=s.slice(0,s.length-1)),r.push(u),t&&(i++,t=void 0),o||(a=u)}let l=i-n.depth;return l>Ba&&(s=function(e,t){let n;return e.forEach(((e,o)=>{if(e.selection&&0==t--)return n=o,!1})),e.slice(n)}(s,l),i-=l),new Ta(s.append(r),i)}remapping(e,t){let n=new at;return this.items.forEach(((t,o)=>{let r=null!=t.mirrorOffset&&o-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,r)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new Ta(this.items.append(e.map((e=>new Na(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],o=Math.max(0,this.items.length-t),r=e.mapping,i=e.steps.length,s=this.eventCount;this.items.forEach((e=>{e.selection&&s--}),o);let a=t;this.items.forEach((t=>{let o=r.getMirror(--a);if(null==o)return;i=Math.min(i,o);let l=r.maps[o];if(t.step){let i=e.steps[o].invert(e.docs[o]),c=t.selection&&t.selection.map(r.slice(a+1,o));c&&s++,n.push(new Na(l,i,c))}else n.push(new Na(l))}),o);let l=[];for(let e=t;e<i;e++)l.push(new Na(r.maps[e]));let c=this.items.slice(0,o).append(l).append(n),u=new Ta(c,s);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,o=[],r=0;return this.items.forEach(((i,s)=>{if(s>=e)o.push(i),i.selection&&r++;else if(i.step){let e=i.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let a=i.selection&&i.selection.map(t.slice(n));a&&r++;let l,c=new Na(s.invert(),e,a),u=o.length-1;(l=o.length&&o[u].merge(c))?o[u]=l:o.push(c)}}else i.map&&n--}),this.items.length,0),new Ta(Pa.from(o.reverse()),r)}}Ta.empty=new Ta(Pa.empty,0);class Na{constructor(e,t,n,o){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Na(t.getMap().invert(),t,this.selection)}}}class ja{constructor(e,t,n,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=o}}const Ba=20;function La(e){let t=[];return e.forEach(((e,n,o,r)=>t.push(o,r))),t}function za(e,t){if(!e)return null;let n=[];for(let o=0;o<e.length;o+=2){let r=t.map(e[o],1),i=t.map(e[o+1],-1);r<=i&&n.push(r,i)}return n}function Ia(e,t,n,o){let r=Va(t),i=Ha.get(t).spec.config,s=(o?e.undone:e.done).popEvent(t,r);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(o?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),c=new ja(o?l:s.remaining,o?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(Ha,{redo:o,historyState:c}).scrollIntoView())}let Ra=!1,$a=null;function Va(e){let t=e.plugins;if($a!=t){Ra=!1,$a=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){Ra=!0;break}}return Ra}const Ha=new an("history"),qa=new an("closeHistory");function Ka(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new on({key:Ha,state:{init:()=>new ja(Ta.empty,Ta.empty,null,0),apply:(t,n,o)=>function(e,t,n,o){let r,i=n.getMeta(Ha);if(i)return i.historyState;n.getMeta(qa)&&(e=new ja(e.done,e.undone,null,0));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(Ha))return s.getMeta(Ha).redo?new ja(e.done.addTransform(n,void 0,o,Va(t)),e.undone,La(n.mapping.maps[n.steps.length-1]),e.prevTime):new ja(e.done,e.undone.addTransform(n,void 0,o,Va(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(r=n.getMeta("rebased"))?new ja(e.done.rebased(n,r),e.undone.rebased(n,r),za(e.prevRanges,n.mapping),e.prevTime):new ja(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),za(e.prevRanges,n.mapping),e.prevTime);{let r=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-o.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,o)=>{for(let r=0;r<t.length;r+=2)e<=t[r+1]&&o>=t[r]&&(n=!0)})),n}(n,e.prevRanges)),i=s?za(e.prevRanges,n.mapping):La(n.mapping.maps[n.steps.length-1]);return new ja(e.done.addTransform(n,r?t.selection.getBookmark():void 0,o,Va(t)),Ta.empty,i,n.time)}}(n,o,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,o="historyUndo"==n?Wa:"historyRedo"==n?Ja:null;return!!o&&(t.preventDefault(),o(e.state,e.dispatch))}}}})}const Wa=(e,t)=>{let n=Ha.getState(e);return!(!n||0==n.done.eventCount)&&(t&&Ia(n,e,t,!1),!0)},Ja=(e,t)=>{let n=Ha.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&Ia(n,e,t,!0),!0)},Ua=as.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>Wa(e,t),redo:()=>({state:e,dispatch:t})=>Ja(e,t)}),addProseMirrorPlugins(){return[Ka(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Ga=Gs.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",Vi(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e})=>e().insertContent({type:this.name}).command((({tr:e,dispatch:t})=>{var n;if(t){const{$to:t}=e.selection,o=t.end();if(t.nodeAfter)e.setSelection(Vt.create(e.doc,t.pos));else{const r=null===(n=t.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();r&&(e.insert(o,r),e.setSelection(Vt.create(e.doc,o)))}e.scrollIntoView()}return!0})).run()}},addInputRules(){return[Ks({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Xa=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,Ya=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,Qa=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,Za=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,el=Us.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:e}){return["em",Vi(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[qs({find:Xa,type:this.type}),qs({find:Qa,type:this.type})]},addPasteRules(){return[Xs({find:Ya,type:this.type}),Xs({find:Za,type:this.type})]}}),tl=Gs.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",Vi(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),nl=/^(\d+)\.\s$/,ol=Gs.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",Vi(this.options.HTMLAttributes,n),0]:["ol",Vi(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[Js({find:nl,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]})]}}),rl=Gs.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",Vi(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),il=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,sl=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,al=Us.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",Vi(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[qs({find:il,type:this.type})]},addPasteRules(){return[Xs({find:sl,type:this.type})]}}),ll=Gs.create({name:"text",group:"inline"}),cl=as.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new on({props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=t,r=[];return n?(e.descendants(((e,t)=>{const n=o>=t&&o<=t+e.nodeSize,i=!e.isLeaf&&!e.childCount;if((n||!this.options.showOnlyCurrent)&&i){const o=[this.options.emptyNodeClass];this.editor.isEmpty&&o.push(this.options.emptyEditorClass);const i=zr.node(t,t+e.nodeSize,{class:o.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});r.push(i)}return this.options.includeChildren})),$r.create(e,r)):null}}})]}}),ul=as.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>e.style.textAlign||this.options.defaultAlignment,renderHTML:e=>e.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${e.textAlign}`}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>!!this.options.alignments.includes(e)&&this.options.types.every((n=>t.updateAttributes(n,{textAlign:e}))),unsetTextAlign:()=>({commands:e})=>this.options.types.every((t=>e.resetAttributes(t,"textAlign")))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),dl=as.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new on({key:new an("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:o}=this.editor,{anchor:r}=t,i=[];if(!n||!o)return $r.create(e,[]);let s=0;"deepest"===this.options.mode&&e.descendants(((e,t)=>{if(e.isText)return;if(!(r>=t&&r<=t+e.nodeSize-1))return!1;s+=1}));let a=0;return e.descendants(((e,t)=>{if(e.isText)return!1;if(!(r>=t&&r<=t+e.nodeSize-1))return!1;a+=1;if("deepest"===this.options.mode&&s-a>0||"shallowest"===this.options.mode&&a>1)return"deepest"===this.options.mode;i.push(zr.node(t,t+e.nodeSize,{class:this.options.className}))})),$r.create(e,i)}}})]}}),hl=Us.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:e=>!!e.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:e}){return["span",Vi(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=Cs(e,this.type);return!!Object.entries(n).some((([,e])=>!!e))||t.unsetMark(this.name)}}}}),pl=as.create({name:"color",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return null===(t=e.style.color)||void 0===t?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands:()=>({setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()})}),fl=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,ml=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,gl=Us.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:e}){return["mark",Vi(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[qs({find:fl,type:this.type})]},addPasteRules(){return[Xs({find:ml,type:this.type})]}}),wl=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,yl=Gs.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",Vi(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[Ks({find:wl,type:this.type,getAttributes:e=>{const[,,t,n,o]=e;return{src:n,alt:t,title:o}}})]}});function bl(e){this.j={},this.jr=[],this.jd=null,this.t=e}bl.prototype={accepts:function(){return!!this.t},tt:function(e,t){if(t&&t.j)return this.j[e]=t,t;var n=t,o=this.j[e];if(o)return n&&(o.t=n),o;o=vl();var r=_l(this,e);return r?(Object.assign(o.j,r.j),o.jr.append(r.jr),o.jr=r.jd,o.t=n||r.t):o.t=n,this.j[e]=o,o}};var vl=function(){return new bl},kl=function(e){return new bl(e)},Dl=function(e,t,n){e.j[t]||(e.j[t]=n)},xl=function(e,t,n){e.jr.push([t,n])},_l=function(e,t){var n=e.j[t];if(n)return n;for(var o=0;o<e.jr.length;o++){var r=e.jr[o][0],i=e.jr[o][1];if(r.test(t))return i}return e.jd},Sl=function(e,t,n){for(var o=0;o<t.length;o++)Dl(e,t[o],n)},Cl=function(e,t){for(var n=0;n<t.length;n++){var o=t[n][0],r=t[n][1];Dl(e,o,r)}},Al=function(e,t,n,o){for(var r,i=0,s=t.length;i<s&&(r=e.j[t[i]]);)e=r,i++;if(i>=s)return[];for(;i<s-1;)r=o(),Dl(e,t[i],r),e=r,i++;Dl(e,t[s-1],n)},El="DOMAIN",Fl="LOCALHOST",Ol="TLD",Ml="NUM",Pl="PROTOCOL",Tl="MAILTO",Nl="WS",jl="NL",Bl="OPENBRACE",Ll="OPENBRACKET",zl="OPENANGLEBRACKET",Il="OPENPAREN",Rl="CLOSEBRACE",$l="CLOSEBRACKET",Vl="CLOSEANGLEBRACKET",Hl="CLOSEPAREN",ql="AMPERSAND",Kl="APOSTROPHE",Wl="ASTERISK",Jl="AT",Ul="BACKSLASH",Gl="BACKTICK",Xl="CARET",Yl="COLON",Ql="COMMA",Zl="DOLLAR",ec="DOT",tc="EQUALS",nc="EXCLAMATION",oc="HYPHEN",rc="PERCENT",ic="PIPE",sc="PLUS",ac="POUND",lc="QUERY",cc="QUOTE",uc="SEMI",dc="SLASH",hc="TILDE",pc="UNDERSCORE",fc="SYM",mc=Object.freeze({__proto__:null,DOMAIN:El,LOCALHOST:Fl,TLD:Ol,NUM:Ml,PROTOCOL:Pl,MAILTO:Tl,WS:Nl,NL:jl,OPENBRACE:Bl,OPENBRACKET:Ll,OPENANGLEBRACKET:zl,OPENPAREN:Il,CLOSEBRACE:Rl,CLOSEBRACKET:$l,CLOSEANGLEBRACKET:Vl,CLOSEPAREN:Hl,AMPERSAND:ql,APOSTROPHE:Kl,ASTERISK:Wl,AT:Jl,BACKSLASH:Ul,BACKTICK:Gl,CARET:Xl,COLON:Yl,COMMA:Ql,DOLLAR:Zl,DOT:ec,EQUALS:tc,EXCLAMATION:nc,HYPHEN:oc,PERCENT:rc,PIPE:ic,PLUS:sc,POUND:ac,QUERY:lc,QUOTE:cc,SEMI:uc,SLASH:dc,TILDE:hc,UNDERSCORE:pc,SYM:fc}),gc="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw vermgensberater-ctb vermgensberatung-pwb                                                                                                                                                        ".split(" "),wc=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,yc=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,bc=/\uFE0F/,vc=/\d/,kc=/\s/;function Dc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=vl(),n=kl(Ml),o=kl(El),r=vl(),i=kl(Nl),s=[[vc,o],[wc,o],[yc,o],[bc,o]],a=function(){var e=kl(El);return e.j={"-":r},e.jr=[].concat(s),e},l=function(e){var t=a();return t.t=e,t};Cl(t,[["'",kl(Kl)],["{",kl(Bl)],["[",kl(Ll)],["<",kl(zl)],["(",kl(Il)],["}",kl(Rl)],["]",kl($l)],[">",kl(Vl)],[")",kl(Hl)],["&",kl(ql)],["*",kl(Wl)],["@",kl(Jl)],["`",kl(Gl)],["^",kl(Xl)],[":",kl(Yl)],[",",kl(Ql)],["$",kl(Zl)],[".",kl(ec)],["=",kl(tc)],["!",kl(nc)],["-",kl(oc)],["%",kl(rc)],["|",kl(ic)],["+",kl(sc)],["#",kl(ac)],["?",kl(lc)],['"',kl(cc)],["/",kl(dc)],[";",kl(uc)],["~",kl(hc)],["_",kl(pc)],["\\",kl(Ul)]]),Dl(t,"\n",kl(jl)),xl(t,kc,i),Dl(i,"\n",vl()),xl(i,kc,i);for(var c=0;c<gc.length;c++)Al(t,gc[c],l(Ol),a);var u=a(),d=a(),h=a(),p=a();Al(t,"file",u,a),Al(t,"ftp",d,a),Al(t,"http",h,a),Al(t,"mailto",p,a);var f=a(),m=kl(Pl),g=kl(Tl);Dl(d,"s",f),Dl(d,":",m),Dl(h,"s",f),Dl(h,":",m),Dl(u,":",m),Dl(f,":",m),Dl(p,":",g);for(var w=a(),y=0;y<e.length;y++)Al(t,e[y],w,a);return Dl(w,":",m),Al(t,"localhost",l(Fl),a),xl(t,vc,n),xl(t,wc,o),xl(t,yc,o),xl(t,bc,o),xl(n,vc,n),xl(n,wc,o),xl(n,yc,o),xl(n,bc,o),Dl(n,"-",r),Dl(o,"-",r),Dl(r,"-",r),xl(o,vc,o),xl(o,wc,o),xl(o,yc,o),xl(o,bc,o),xl(r,vc,o),xl(r,wc,o),xl(r,yc,o),xl(r,bc,o),t.jd=kl(fc),t}var xc={defaultProtocol:"http",events:null,format:_c,formatHref:_c,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function _c(e){return e}function Sc(){}function Cc(e,t){function n(t,n){this.t=e,this.v=t,this.tk=n}return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.create(e.prototype);for(var r in n)o[r]=n[r];o.constructor=t,t.prototype=o}(Sc,n,t),n}Sc.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};var Ac=Cc("email",{isLink:!0}),Ec=Cc("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),Fc=Cc("text"),Oc=Cc("nl"),Mc=Cc("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc.defaultProtocol,t=this.tk,n=!1,o=!1,r=[],i=0;t[i].t===Pl;)n=!0,r.push(t[i].v),i++;for(;t[i].t===dc;)o=!0,r.push(t[i].v),i++;for(;i<t.length;i++)r.push(t[i].v);return r=r.join(""),n||o||(r="".concat(e,"://").concat(r)),r},hasProtocol:function(){return this.tk[0].t===Pl}}),Pc=Object.freeze({__proto__:null,MultiToken:Sc,Base:Sc,createTokenClass:Cc,MailtoEmail:Ac,Email:Ec,Text:Fc,Nl:Oc,Url:Mc});function Tc(){var e=vl(),t=vl(),n=vl(),o=vl(),r=vl(),i=vl(),s=vl(),a=kl(Mc),l=vl(),c=kl(Mc),u=kl(Mc),d=vl(),h=vl(),p=vl(),f=vl(),m=vl(),g=kl(Mc),w=kl(Mc),y=kl(Mc),b=kl(Mc),v=vl(),k=vl(),D=vl(),x=vl(),_=vl(),S=vl(),C=kl(Ec),A=vl(),E=kl(Ec),F=kl(Ac),O=vl(),M=vl(),P=vl(),T=vl(),N=kl(Oc);Dl(e,jl,N),Dl(e,Pl,t),Dl(e,Tl,n),Dl(t,dc,o),Dl(o,dc,r),Dl(e,Ol,i),Dl(e,El,i),Dl(e,Fl,a),Dl(e,Ml,i),Dl(r,Ol,u),Dl(r,El,u),Dl(r,Ml,u),Dl(r,Fl,u),Dl(i,ec,s),Dl(_,ec,S),Dl(s,Ol,a),Dl(s,El,i),Dl(s,Ml,i),Dl(s,Fl,i),Dl(S,Ol,C),Dl(S,El,_),Dl(S,Ml,_),Dl(S,Fl,_),Dl(a,ec,s),Dl(C,ec,S),Dl(a,Yl,l),Dl(a,dc,u),Dl(l,Ml,c),Dl(c,dc,u),Dl(C,Yl,A),Dl(A,Ml,E);var j=[ql,Wl,Jl,Ul,Gl,Xl,Zl,El,tc,oc,Fl,Ml,rc,ic,sc,ac,Pl,dc,fc,hc,Ol,pc],B=[Kl,Vl,Rl,$l,Hl,Yl,Ql,ec,nc,zl,Bl,Ll,Il,lc,cc,uc];Dl(u,Bl,h),Dl(u,Ll,p),Dl(u,zl,f),Dl(u,Il,m),Dl(d,Bl,h),Dl(d,Ll,p),Dl(d,zl,f),Dl(d,Il,m),Dl(h,Rl,u),Dl(p,$l,u),Dl(f,Vl,u),Dl(m,Hl,u),Dl(g,Rl,u),Dl(w,$l,u),Dl(y,Vl,u),Dl(b,Hl,u),Dl(v,Rl,u),Dl(k,$l,u),Dl(D,Vl,u),Dl(x,Hl,u),Sl(h,j,g),Sl(p,j,w),Sl(f,j,y),Sl(m,j,b),Sl(h,B,v),Sl(p,B,k),Sl(f,B,D),Sl(m,B,x),Sl(g,j,g),Sl(w,j,w),Sl(y,j,y),Sl(b,j,b),Sl(g,B,g),Sl(w,B,w),Sl(y,B,y),Sl(b,B,b),Sl(v,j,g),Sl(k,j,w),Sl(D,j,y),Sl(x,j,b),Sl(v,B,v),Sl(k,B,k),Sl(D,B,D),Sl(x,B,x),Sl(u,j,u),Sl(d,j,u),Sl(u,B,d),Sl(d,B,d),Dl(n,Ol,F),Dl(n,El,F),Dl(n,Ml,F),Dl(n,Fl,F),Sl(F,j,F),Sl(F,B,O),Sl(O,j,F),Sl(O,B,O);var L=[ql,Kl,Wl,Ul,Gl,Xl,Rl,Zl,El,tc,oc,Ml,Bl,rc,ic,sc,ac,lc,dc,fc,hc,Ol,pc];return Sl(i,L,M),Dl(i,Jl,P),Sl(a,L,M),Dl(a,Jl,P),Sl(s,L,M),Sl(M,L,M),Dl(M,Jl,P),Dl(M,ec,T),Sl(T,L,M),Dl(P,Ol,_),Dl(P,El,_),Dl(P,Ml,_),Dl(P,Fl,C),e}function Nc(e,t,n){var o=n[0].s,r=n[n.length-1].e;return new e(t.substr(o,r-o),n)}var jc="undefined"!=typeof console&&console&&console.warn||function(){},Bc={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function Lc(e){if(Bc.initialized&&jc('linkifyjs: already initialized - will not register custom protocol "'.concat(e,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(e))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");Bc.customProtocols.push(e)}function zc(e){return Bc.initialized||function(){Bc.scanner={start:Dc(Bc.customProtocols),tokens:mc},Bc.parser={start:Tc(),tokens:Pc};for(var e={createTokenClass:Cc},t=0;t<Bc.pluginQueue.length;t++)Bc.pluginQueue[t][1]({scanner:Bc.scanner,parser:Bc.parser,utils:e});Bc.initialized=!0}(),function(e,t,n){for(var o=n.length,r=0,i=[],s=[];r<o;){for(var a=e,l=null,c=null,u=0,d=null,h=-1;r<o&&!(l=_l(a,n[r].t));)s.push(n[r++]);for(;r<o&&(c=l||_l(a,n[r].t));)l=null,(a=c).accepts()?(h=0,d=a):h>=0&&h++,r++,u++;if(h<0)for(var p=r-u;p<r;p++)s.push(n[p]);else{s.length>0&&(i.push(Nc(Fc,t,s)),s=[]),r-=h,u-=h;var f=d.t,m=n.slice(r-u,r);i.push(Nc(f,t,m))}}return s.length>0&&i.push(Nc(Fc,t,s)),i}(Bc.parser.start,e,function(e,t){for(var n=function(e){for(var t=[],n=e.length,o=0;o<n;){var r=e.charCodeAt(o),i=void 0,s=r<55296||r>56319||o+1===n||(i=e.charCodeAt(o+1))<56320||i>57343?e[o]:e.slice(o,o+2);t.push(s),o+=s.length}return t}(t.replace(/[A-Z]/g,(function(e){return e.toLowerCase()}))),o=n.length,r=[],i=0,s=0;s<o;){for(var a=e,l=null,c=0,u=null,d=-1,h=-1;s<o&&(l=_l(a,n[s]));)(a=l).accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[s].length,h++),c+=n[s].length,i+=n[s].length,s++;i-=d,s-=h,c-=d,r.push({t:u.t,v:t.substr(i-c,c),s:i-c,e:i})}return r}(Bc.scanner.start,e))}function Ic(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=zc(e),o=[],r=0;r<n.length;r++){var i=n[r];!i.isLink||t&&i.t!==t||o.push(i.toObject())}return o}function Rc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=zc(e);return 1===n.length&&n[0].isLink&&(!t||n[0].t===t)}function $c(e){return new on({key:new an("autolink"),appendTransaction:(t,n,o)=>{const r=t.some((e=>e.docChanged))&&!n.doc.eq(o.doc),i=t.some((e=>e.getMeta("preventAutolink")));if(!r||i)return;const{tr:s}=o,a=function(e,t){const n=new Bt(e);return t.forEach((e=>{e.steps.forEach((e=>{n.step(e)}))})),n}(n.doc,[...t]),{mapping:l}=a,c=function(e){const{mapping:t,steps:n}=e,o=[];return t.maps.forEach(((e,r)=>{const i=[];if(e.ranges.length)e.forEach(((e,t)=>{i.push({from:e,to:t})}));else{const{from:e,to:t}=n[r];if(void 0===e||void 0===t)return;i.push({from:e,to:t})}i.forEach((({from:e,to:n})=>{const i=t.slice(r).map(e,-1),s=t.slice(r).map(n),a=t.invert().map(i,-1),l=t.invert().map(s);o.push({oldRange:{from:a,to:l},newRange:{from:i,to:s}})}))})),Vs(o)}(a);return c.forEach((({oldRange:t,newRange:r})=>{Hs(t.from,t.to,n.doc).filter((t=>t.mark.type===e.type)).forEach((t=>{const r=Hs(l.map(t.from),l.map(t.to),o.doc).filter((t=>t.mark.type===e.type));if(!r.length)return;const i=r[0],a=n.doc.textBetween(t.from,t.to,void 0," "),c=o.doc.textBetween(i.from,i.to,void 0," "),u=Rc(a),d=Rc(c);u&&!d&&s.removeMark(i.from,i.to,e.type)})),function(e,t,n){const o=[];return e.nodesBetween(t.from,t.to,((e,t)=>{n(e)&&o.push({node:e,pos:t})})),o}(o.doc,r,(e=>e.isTextblock)).forEach((t=>{Ic(o.doc.textBetween(t.pos,t.pos+t.node.nodeSize,void 0," ")).filter((e=>e.isLink)).filter((t=>!e.validate||e.validate(t.value))).map((e=>({...e,from:t.pos+e.start+1,to:t.pos+e.end+1}))).filter((e=>{const t=r.from>=e.from&&r.from<=e.to,n=r.to>=e.from&&r.to<=e.to;return t||n})).forEach((t=>{s.addMark(t.from,t.to,e.type.create({href:t.href}))}))}))})),s.steps.length?s:void 0}})}const Vc=Us.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(Lc)},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}),addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'}],renderHTML({HTMLAttributes:e}){return["a",Vi(this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Xs({find:e=>Ic(e).filter((e=>!this.options.validate||this.options.validate(e.value))).filter((e=>e.isLink)).map((e=>({text:e.value,index:e.start,data:e}))),type:this.type,getAttributes:e=>{var t;return{href:null===(t=e.data)||void 0===t?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];return this.options.autolink&&e.push($c({type:this.type,validate:this.options.validate})),this.options.openOnClick&&e.push(function(e){return new on({key:new an("handleClickLink"),props:{handleClick:(t,n,o)=>{var r;const i=$s(t.state,e.type.name);return!(!(null===(r=o.target)||void 0===r?void 0:r.closest("a"))||!i.href||(window.open(i.href,i.target),0))}}})}({type:this.type})),this.options.linkOnPaste&&e.push(function(e){return new on({key:new an("handlePasteLink"),props:{handlePaste:(t,n,o)=>{const{state:r}=t,{selection:i}=r,{empty:s}=i;if(s)return!1;let a="";o.content.forEach((e=>{a+=e.textContent}));const l=Ic(a).find((e=>e.isLink&&e.value===a));return!(!a||!l||(e.editor.commands.setMark(e.type,{href:l.href}),0))}}})}({editor:this.editor,type:this.type})),e}}),Hc=Gs.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",Vi(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),qc=/^\s*(\[([( |x])?\])\s$/,Kc=Gs.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{}}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:e=>"true"===e.getAttribute("data-checked"),renderHTML:e=>({"data-checked":e.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",Vi(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:o})=>{const r=document.createElement("li"),i=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div");return i.contentEditable="false",a.type="checkbox",a.addEventListener("change",(t=>{if(!o.isEditable&&!this.options.onReadOnlyChecked)return void(a.checked=!a.checked);const{checked:r}=t.target;o.isEditable&&"function"==typeof n&&o.chain().focus(void 0,{scrollIntoView:!1}).command((({tr:e})=>{const t=n(),o=e.doc.nodeAt(t);return e.setNodeMarkup(t,void 0,{...null==o?void 0:o.attrs,checked:r}),!0})).run(),!o.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,r)||(a.checked=!a.checked))})),Object.entries(this.options.HTMLAttributes).forEach((([e,t])=>{r.setAttribute(e,t)})),r.dataset.checked=e.attrs.checked,e.attrs.checked&&a.setAttribute("checked","checked"),i.append(a,s),r.append(i,l),Object.entries(t).forEach((([e,t])=>{r.setAttribute(e,t)})),{dom:r,contentDOM:l,update:e=>e.type===this.type&&(r.dataset.checked=e.attrs.checked,e.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[Js({find:qc,type:this.type,getAttributes:e=>({checked:"x"===e[e.length-1]})})]}}),Wc=Us.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",Vi(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});const Jc=new an("suggestion");function Uc({pluginKey:e=Jc,editor:t,char:n="@",allowSpaces:o=!1,allowedPrefixes:r=[" "],startOfLine:i=!1,decorationTag:s="span",decorationClass:a="suggestion",command:l=(()=>null),items:c=(()=>[]),render:u=(()=>({})),allow:d=(()=>!0)}){let h;const p=null==u?void 0:u(),f=new on({key:e,view(){return{update:async(e,n)=>{var o,r,i,s,a,u,d;const f=null===(o=this.key)||void 0===o?void 0:o.getState(n),m=null===(r=this.key)||void 0===r?void 0:r.getState(e.state),g=f.active&&m.active&&f.range.from!==m.range.from,w=!f.active&&m.active,y=f.active&&!m.active,b=w||g,v=!w&&!y&&f.query!==m.query&&!g,k=y||g;if(!b&&!v&&!k)return;const D=k&&!b?f:m,x=e.dom.querySelector(`[data-decoration-id="${D.decorationId}"]`);h={editor:t,range:D.range,query:D.query,text:D.text,items:[],command:e=>{l({editor:t,range:D.range,props:e})},decorationNode:x,clientRect:x?()=>{var n;const{decorationId:o}=null===(n=this.key)||void 0===n?void 0:n.getState(t.state),r=e.dom.querySelector(`[data-decoration-id="${o}"]`);return(null==r?void 0:r.getBoundingClientRect())||null}:null},b&&(null===(i=null==p?void 0:p.onBeforeStart)||void 0===i||i.call(p,h)),v&&(null===(s=null==p?void 0:p.onBeforeUpdate)||void 0===s||s.call(p,h)),(v||b)&&(h.items=await c({editor:t,query:D.query})),k&&(null===(a=null==p?void 0:p.onExit)||void 0===a||a.call(p,h)),v&&(null===(u=null==p?void 0:p.onUpdate)||void 0===u||u.call(p,h)),b&&(null===(d=null==p?void 0:p.onStart)||void 0===d||d.call(p,h))},destroy:()=>{var e;h&&(null===(e=null==p?void 0:p.onExit)||void 0===e||e.call(p,h))}}},state:{init:()=>({active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}),apply(e,s,a,l){const{isEditable:c}=t,{composing:u}=t.view,{selection:h}=e,{empty:p,from:f}=h,m={...s};if(m.composing=u,c&&(p||t.view.composing)){!(f<s.range.from||f>s.range.to)||u||s.composing||(m.active=!1);const e=function(e){var t;const{char:n,allowSpaces:o,allowedPrefixes:r,startOfLine:i,$position:s}=e,a=n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),l=new RegExp(`\\s${a}$`),c=i?"^":"",u=o?new RegExp(`${c}${a}.*?(?=\\s${a}|$)`,"gm"):new RegExp(`${c}(?:^)?${a}[^\\s${a}]*`,"gm"),d=(null===(t=s.nodeBefore)||void 0===t?void 0:t.isText)&&s.nodeBefore.text;if(!d)return null;const h=s.pos-d.length,p=Array.from(d.matchAll(u)).pop();if(!p||void 0===p.input||void 0===p.index)return null;const f=p.input.slice(Math.max(0,p.index-1),p.index),m=new RegExp(`^[${null==r?void 0:r.join("")}\0]?$`).test(f);if(null!==r&&!m)return null;const g=h+p.index;let w=g+p[0].length;return o&&l.test(d.slice(w-1,w+1))&&(p[0]+=" ",w+=1),g<s.pos&&w>=s.pos?{range:{from:g,to:w},query:p[0].slice(n.length),text:p[0]}:null}({char:n,allowSpaces:o,allowedPrefixes:r,startOfLine:i,$position:h.$from}),a=`id_${Math.floor(4294967295*Math.random())}`;e&&d({editor:t,state:l,range:e.range})?(m.active=!0,m.decorationId=s.decorationId?s.decorationId:a,m.range=e.range,m.query=e.query,m.text=e.text):m.active=!1}else m.active=!1;return m.active||(m.decorationId=null,m.range={from:0,to:0},m.query=null,m.text=null),m}},props:{handleKeyDown(e,t){var n;const{active:o,range:r}=f.getState(e.state);return o&&(null===(n=null==p?void 0:p.onKeyDown)||void 0===n?void 0:n.call(p,{view:e,event:t,range:r}))||!1},decorations(e){const{active:t,range:n,decorationId:o}=f.getState(e);return t?$r.create(e.doc,[zr.inline(n.from,n.to,{nodeName:s,class:a,"data-decoration-id":o})]):null}}});return f}const Gc=new an("mention"),Xc=Gs.create({name:"mention",addOptions(){return{HTMLAttributes:{},renderLabel({options:e,node:t}){var n;return`${e.suggestion.char}${null!==(n=t.attrs.label)&&void 0!==n?n:t.attrs.id}`},suggestion:{char:"@",pluginKey:Gc,command:({editor:e,range:t,props:n})=>{var o,r;const i=e.view.state.selection.$to.nodeAfter;(null===(o=null==i?void 0:i.text)||void 0===o?void 0:o.startsWith(" "))&&(t.to+=1),e.chain().focus().insertContentAt(t,[{type:this.name,attrs:n},{type:"text",text:" "}]).run(),null===(r=window.getSelection())||void 0===r||r.collapseToEnd()},allow:({state:e,range:t})=>{const n=e.doc.resolve(t.from),o=e.schema.nodes[this.name];return!!n.parent.type.contentMatch.matchType(o)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}}}),parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:e,HTMLAttributes:t}){return["span",Vi({"data-type":this.name},this.options.HTMLAttributes,t),this.options.renderLabel({options:this.options,node:e})]},renderText({node:e}){return this.options.renderLabel({options:this.options,node:e})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command((({tr:e,state:t})=>{let n=!1;const{selection:o}=t,{empty:r,anchor:i}=o;return!!r&&(t.doc.nodesBetween(i-1,i,((t,o)=>{if(t.type.name===this.name)return n=!0,e.insertText(this.options.suggestion.char||"",o,o+t.nodeSize),!1})),n)}))}},addProseMirrorPlugins(){return[Uc({editor:this.editor,...this.options.suggestion})]}});var Yc=Gs.create({name:"iframe",group:"block",atom:!0,addOptions:function(){return{allowFullscreen:!0,HTMLAttributes:{class:"iframe-wrapper"}}},addAttributes:function(){var e=this;return{src:{default:null},frameborder:{default:0},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:function(){return e.options.allowFullscreen}}}},parseHTML:function(){return[{tag:"iframe"}]},renderHTML:function(e){var t=e.HTMLAttributes;return t.src=t.src.replace("https://youtu.be/","https://www.youtube.com/watch?v=").replace("watch?v=","embed/"),t.src=t.src.replace("https://vimeo.com/","https://player.vimeo.com/video/"),t.src.includes("drive.google.com")&&(t.src=t.src.replace("/view","/preview")),["div",this.options.HTMLAttributes,["iframe",t]]},addCommands:function(){var e=this;return{setIframe:function(t){return function(n){var o=n.tr,r=n.dispatch,i=o.selection,s=e.type.create(t);return r&&o.replaceRangeWith(i.from,i.to,s),!0}}}}}),Qc=as.create({name:"tiptap-kit",addExtensions:function(){var e=[];return!1!==this.options.placeholder&&e.push(cl.configure(this.options.placeholder)),!1!==this.options.textAlign&&e.push(ul.configure(this.options.textAlign)),!1!==this.options.focus&&e.push(dl.configure(this.options.focus)),!1!==this.options.color&&e.push(pl.configure(this.options.color)),!1!==this.options.highlight&&e.push(gl.configure(this.options.highlight)),!1!==this.options.image&&e.push(yl.configure(this.options.image)),!1!==this.options.link&&e.push(Vc.configure(this.options.link)),!1!==this.options.taskList&&e.push(Hc.configure(this.options.taskList)),!1!==this.options.taskItem&&e.push(Kc.configure(this.options.taskItem)),!1!==this.options.textStyle&&e.push(hl.configure(this.options.textStyle)),!1!==this.options.underline&&e.push(Wc.configure(this.options.underline)),!1!==this.options.video&&e.push(Yc.configure(this.options.video)),!1!==this.options.blockquote&&e.push(ea.configure(this.options.blockquote)),!1!==this.options.bold&&e.push(ia.configure(this.options.bold)),!1!==this.options.bulletList&&e.push(aa.configure(this.options.bulletList)),!1!==this.options.code&&e.push(ua.configure(this.options.code)),!1!==this.options.codeBlock&&e.push(pa.configure(this.options.codeBlock)),!1!==this.options.document&&e.push(fa.configure(this.options.document)),!1!==this.options.dropcursor&&e.push(wa.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&e.push(Sa.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&e.push(Ca.configure(this.options.hardBreak)),!1!==this.options.heading&&e.push(Aa.configure(this.options.heading)),!1!==this.options.history&&e.push(Ua.configure(this.options.history)),!1!==this.options.horizontalRule&&e.push(Ga.configure(this.options.horizontalRule)),!1!==this.options.italic&&e.push(el.configure(this.options.italic)),!1!==this.options.listItem&&e.push(tl.configure(this.options.listItem)),!1!==this.options.orderedList&&e.push(ol.configure(this.options.orderedList)),!1!==this.options.paragraph&&e.push(rl.configure(this.options.paragraph)),!1!==this.options.strike&&e.push(al.configure(this.options.strike)),!1!==this.options.text&&e.push(ll.configure(this.options.text)),!1!==this.options.mention&&e.push(Xc.configure(this.options.mention)),e}}),Zc=new i.default;function eu(e,t,n){var o,r,i,s,a;function l(){var c=Date.now()-s;c<t&&c>=0?o=setTimeout(l,t-c):(o=null,n||(a=e.apply(i,r),i=r=null))}null==t&&(t=100);var c=function(){i=this,r=arguments,s=Date.now();var c=n&&!o;return o||(o=setTimeout(l,t)),c&&(a=e.apply(i,r),i=r=null),a};return c.clear=function(){o&&(clearTimeout(o),o=null)},c.flush=function(){o&&(a=e.apply(i,r),i=r=null,clearTimeout(o),o=null)},c}eu.debounce=eu;var tu,nu,ou,ru,iu,su,au,lu,cu,uu,du,hu=eu,pu=(tu=G(),nu=G({default:!1}),ou=G({default:!1}),ru=G(),iu=X("show"),H((au=function(e){m(o,e);var t,n=v(o);function o(){var e;d(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return S(y(e=n.call.apply(n,[this].concat(r))),"value",lu,y(e)),S(y(e),"show",cu,y(e)),S(y(e),"dark",uu,y(e)),S(y(e),"uploadImage",du,y(e)),f(y(e),"url",""),f(y(e),"file",null),f(y(e),"loading",!1),e}return p(o,[{key:"onFileSelected",value:(t=u(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.loading=!0,e.next=6,this.uploadImage(t);case 6:this.url=e.sent;case 7:return e.prev=7,this.loading=!1,e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[2,,7,10]])}))),function(e){return t.apply(this,arguments)})},{key:"onShow",value:function(e){e&&(this.url=this.value||"")}},{key:"apply",value:function(){this.$emit("apply",this.url),this.file=null,this.url="",this.$emit("close")}},{key:"close",value:function(){this.$emit("close")}}]),o}(r.default),lu=C(au.prototype,"value",[tu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cu=C(au.prototype,"show",[nu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uu=C(au.prototype,"dark",[ou],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),du=C(au.prototype,"uploadImage",[ru],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C(au.prototype,"onShow",[iu],Object.getOwnPropertyDescriptor(au.prototype,"onShow"),au.prototype),su=au))||su);function fu(e,t,n,o,r,i,s,a,l,c){"boolean"!=typeof s&&(l=a,a=s,s=!1);const u="function"==typeof n?n.options:n;let d;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),o&&(u._scopeId=o),i?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=d):t&&(d=s?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),d)if(u.functional){const e=u.render;u.render=function(t,n){return d.call(n),e(t,n)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,d):[d]}return n}var mu,gu,wu,yu,bu,vu,ku,Du,xu,_u,Su,Cu,Au,Eu,Fu,Ou,Mu=fu({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{dark:e.dark,value:e.show,"max-width":"500"},on:{input:function(t){return e.$emit("close",t)}}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("\n        "+e._s("Edit Image")+"\n      ")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:e.close}},[n("v-icon",[e._v("mdi-close")])],1)],1),e._v(" "),n("v-card-text",[n("v-text-field",{staticClass:"mb-2",attrs:{filled:"",name:"url",label:"Link","hide-details":"",autofocus:"","prepend-icon":"mdi-link-variant",disabled:Boolean(e.file)||e.loading},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}}),e._v(" "),e.uploadImage?n("div",{staticClass:"text-overline text-center my-2"},[e._v("OR")]):e._e(),e._v(" "),e.uploadImage?n("v-file-input",{attrs:{filled:"",label:"File",accept:"image/png, image/jpeg, image/bmp, image/gif","hide-details":"",loading:e.loading,disabled:e.loading},on:{change:e.onFileSelected,"click:clear":function(t){e.url=""}},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}):e._e()],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:"",disabled:""==e.url||e.loading},on:{click:e.apply}},[e._v("\n        "+e._s("apply")+"\n      ")])],1)],1)],1)},staticRenderFns:[]},undefined,pu,undefined,false,undefined,!1,void 0,void 0,void 0),Pu=(mu=G(),gu=G({default:!1}),wu=G({default:!1}),H((bu=function(e){m(n,e);var t=v(n);function n(){var e;d(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return S(y(e=t.call.apply(t,[this].concat(r))),"value",vu,y(e)),S(y(e),"show",ku,y(e)),S(y(e),"dark",Du,y(e)),f(y(e),"url",""),e}return p(n,[{key:"isDisabled",get:function(){return this.value===this.url||!this.value&&!this.url}},{key:"apply",value:function(){this.$emit("apply",this.url),this.$emit("close")}},{key:"close",value:function(){this.$emit("close")}}]),n}(r.default),vu=C(bu.prototype,"value",[mu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ku=C(bu.prototype,"show",[gu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Du=C(bu.prototype,"dark",[wu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yu=bu))||yu),Tu=fu({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{dark:e.dark,value:e.show,"max-width":"500"},on:{input:function(t){return e.$emit("close",t)}}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("\n        "+e._s("Edit Link")+"\n      ")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$emit("close",t)}}},[n("v-icon",[e._v("mdi-close")])],1)],1),e._v(" "),n("v-card-text",[n("v-text-field",{attrs:{value:e.value,name:"link-url",label:"URL","hide-details":""},on:{input:function(t){e.url=t}}})],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{disabled:e.isDisabled,text:""},on:{click:e.apply}},[e._v("\n        "+e._s("apply")+"\n      ")])],1)],1)],1)},staticRenderFns:[]},undefined,Pu,undefined,false,undefined,!1,void 0,void 0,void 0),Nu=(xu=G(),_u=G({default:!1}),Su=G({default:!1}),H((Au=function(e){m(n,e);var t=v(n);function n(){var e;d(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return S(y(e=t.call.apply(t,[this].concat(r))),"value",Eu,y(e)),S(y(e),"show",Fu,y(e)),S(y(e),"dark",Ou,y(e)),f(y(e),"url",""),e}return p(n,[{key:"apply",value:function(){this.$emit("apply",this.url),this.$emit("close")}},{key:"close",value:function(){this.$emit("close")}}]),n}(r.default),Eu=C(Au.prototype,"value",[xu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fu=C(Au.prototype,"show",[_u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ou=C(Au.prototype,"dark",[Su],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cu=Au))||Cu),ju=fu({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{dark:e.dark,value:e.show,"max-width":"500"},on:{input:function(t){return e.$emit("close",t)}}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s("Edit Video"))]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:e.close}},[n("v-icon",[e._v("mdi-close")])],1)],1),e._v(" "),n("v-card-text",[n("v-text-field",{attrs:{value:e.value,name:"video-url",label:"URL","hide-details":""},on:{input:function(t){e.url=t}}})],1),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:""},on:{click:e.apply}},[e._v("\n        "+e._s("Apply")+"\n      ")])],1)],1)],1)},staticRenderFns:[]},undefined,Nu,undefined,false,undefined,!1,void 0,void 0,void 0),Bu=function(e,t){return Bu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Bu(e,t)};function Lu(e,t){function n(){this.constructor=e}Bu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var zu=function(){return zu=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},zu.apply(this,arguments)};function Iu(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Ru(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))}function $u(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function Vu(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}function Hu(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vu(arguments[t]));return e}var qu={search:"Search ...",categories:{Activity:"Activity",Flags:"Flags",Foods:"Foods",Frequently:"Frequently",Objects:"Objects",Nature:"Nature",Peoples:"Peoples",Symbols:"Symbols",Places:"Places"}},Ku=qu,Wu=function(e){var t=e.split("."),n=Ku;return t.forEach((function(e){n=n[e]})),n},Ju=function(e){Ku=zu(zu({},qu),e)},Uu=function(){function e(e,t){this.name=e,this.icon=t}return Object.defineProperty(e.prototype,"label",{get:function(){return Wu("categories."+this.name)},enumerable:!1,configurable:!0}),e}(),Gu='\n    <svg style="max-height:18px" width="24" height="24"\n      xmlns="http://www.w3.org/2000/svg" viewBox="0 0 303.6 303.6" fill="gray">\n      <path d="M291.503 11.6c-10.4-10.4-37.2-11.6-48.4-11.6-50.4 0-122.4 18.4-173.6 69.6-77.2 76.8-78.4 201.6-58.4 222 10.8 10.4 35.6 12 49.2 12 49.6 0 121.2-18.4 173.2-70 76.4-76.4 80.4-199.6 58-222zm-231.2 277.2c-24.4 0-36-4.8-38.8-7.6-5.2-5.2-8.4-24.4-6.8-49.6l57.2 56.8c-4 .4-8 .4-11.6.4zm162.8-66c-38.8 38.8-90.4 57.2-132.4 63.6l-74-73.6c6-42 24-94 63.2-133.2 38-38 88-56.4 130.8-62.8l75.6 75.6c-6 40.8-24.4 91.6-63.2 130.4zm65.2-148.8l-58.8-59.2c4.8-.4 9.2-.4 13.6-.4 24.4 0 35.6 4.8 38 7.2 5.6 5.6 9.2 25.6 7.2 52.4z"/>\n      <path d="M215.103 139.6l-20.8-20.8 13.2-13.2c2.8-2.8 2.8-7.6 0-10.4s-7.6-2.8-10.4 0l-13.2 13.6-20.8-20.8c-2.8-2.8-7.6-2.8-10.4 0-2.8 2.8-2.8 7.6 0 10.4l20.8 20.8-22 22-20.8-20.8c-2.8-2.8-7.6-2.8-10.4 0s-2.8 7.6 0 10.4l20.8 20.8-22 22-20.8-20.8c-2.8-2.8-7.6-2.8-10.4 0s-2.8 7.6 0 10.4l20.8 20.8-13.2 13.2c-2.8 2.8-2.8 7.6 0 10.4 1.6 1.6 3.2 2 5.2 2s3.6-.8 5.2-2l13.2-13.2 20.8 20.8c1.6 1.6 3.2 2 5.2 2s3.6-.8 5.2-2c2.8-2.8 2.8-7.6 0-10.4l-20.8-21.2 22-22 20.8 20.8c1.6 1.6 3.2 2 5.2 2s3.6-.8 5.2-2c2.8-2.8 2.8-7.6 0-10.4l-20.8-20.8 22-22 20.8 20.8c1.6 1.6 3.2 2 5.2 2s3.6-.8 5.2-2c2.8-2.8 2.8-7.6 0-10.4zM169.103 47.6c-1.2-4-5.2-6-9.2-4.8-3.2 1.2-80.8 25.6-110.4 98-1.6 4 0 8.4 4 9.6.8.4 2 .4 2.8.4 2.8 0 5.6-1.6 6.8-4.4 27.2-66 100.4-89.6 101.2-89.6 4-1.2 6-5.2 4.8-9.2z"/>\n    </svg>\n    ',Xu='\n    <svg style="max-height:18px" width="24" height="24"\n      xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="gray">\n      <path d="M472.928 34.72c-4.384-2.944-9.984-3.52-14.912-1.568-1.088.448-106.528 42.176-195.168.384C186.752-2.4 102.944 14.4 64 25.76V16c0-8.832-7.168-16-16-16S32 7.168 32 16v480c0 8.832 7.168 16 16 16s16-7.168 16-16V315.296c28.352-9.248 112.384-31.232 185.184 3.168 34.592 16.352 70.784 21.792 103.648 21.792 63.2 0 114.016-20.128 117.184-21.408 6.016-2.464 9.984-8.32 9.984-14.848V48c0-5.312-2.656-10.272-7.072-13.28zM448 292.672c-28.512 9.248-112.512 31.136-185.184-3.168C186.752 253.6 102.944 270.4 64 281.76V59.328c28.352-9.248 112.384-31.232 185.184 3.168 76 35.872 159.872 19.104 198.816 7.712v222.464z"/>\n    </svg>\n    ',Yu='\n    <svg style="max-height:18px" width="24" height="24"\n      xmlns="http://www.w3.org/2000/svg" viewBox="0 0 511.999 511.999" fill="gray">\n      <path d="M413.949 155.583a10.153 10.153 0 0 0-3.24-2.16c-.61-.25-1.24-.44-1.87-.57-3.25-.66-6.701.41-9.03 2.73a10.093 10.093 0 0 0-2.93 7.07 10.098 10.098 0 0 0 1.69 5.56c.36.54.779 1.05 1.24 1.52 1.86 1.86 4.44 2.93 7.07 2.93.65 0 1.31-.07 1.96-.2.63-.13 1.26-.32 1.87-.57a10.146 10.146 0 0 0 3.24-2.16c.47-.47.88-.98 1.25-1.52a10.098 10.098 0 0 0 1.49-3.6 10.038 10.038 0 0 0-2.74-9.03zM115.289 385.873c-.12-.64-.32-1.27-.57-1.87-.25-.6-.55-1.18-.91-1.73-.37-.54-.79-1.06-1.25-1.52a9.57 9.57 0 0 0-1.52-1.24c-.54-.36-1.12-.67-1.72-.92-.61-.25-1.24-.44-1.88-.57a9.847 9.847 0 0 0-3.9 0c-.64.13-1.27.32-1.87.57-.61.25-1.19.56-1.73.92-.55.36-1.06.78-1.52 1.24-.46.46-.88.98-1.24 1.52-.36.55-.67 1.13-.92 1.73-.25.6-.45 1.23-.57 1.87-.13.651-.2 1.3-.2 1.96 0 .65.07 1.3.2 1.95.12.64.32 1.27.57 1.87.25.6.56 1.18.92 1.73.36.54.78 1.06 1.24 1.52.46.46.97.88 1.52 1.24.54.36 1.12.67 1.73.92.6.25 1.23.44 1.87.57s1.3.2 1.95.2c.65 0 1.31-.07 1.95-.2.64-.13 1.27-.32 1.88-.57.6-.25 1.18-.56 1.72-.92.55-.36 1.059-.78 1.52-1.24.46-.46.88-.98 1.25-1.52.36-.55.66-1.13.91-1.73.25-.6.45-1.23.57-1.87.13-.65.2-1.3.2-1.95 0-.66-.07-1.31-.2-1.96z"/>\n      <path d="M511.999 222.726c0-14.215-9.228-26.315-22.007-30.624-1.628-74.155-62.456-133.978-136.994-133.978H159.002c-74.538 0-135.366 59.823-136.994 133.978C9.228 196.411 0 208.51 0 222.726a32.076 32.076 0 0 0 3.847 15.203 44.931 44.931 0 0 0-.795 8.427v.708c0 14.06 6.519 26.625 16.693 34.833-10.178 8.275-16.693 20.891-16.693 35.001 0 15.114 7.475 28.515 18.921 36.702v26.668c0 40.588 33.021 73.608 73.608 73.608h320.836c40.588 0 73.608-33.021 73.608-73.608V353.6c11.446-8.186 18.921-21.587 18.921-36.702 0-13.852-6.354-26.385-16.361-34.702 9.983-8.212 16.361-20.656 16.361-34.562v-.708c0-2.985-.294-5.944-.877-8.845a32.082 32.082 0 0 0 3.93-15.355zM44.033 173.229h322.441c5.523 0 10-4.477 10-10s-4.477-10-10-10H49.737c16.896-43.883 59.503-75.106 109.265-75.106h193.996c62.942 0 114.438 49.953 116.934 112.295H42.068c.234-5.848.9-11.588 1.965-17.189zM23.052 316.896c0-13.837 11.257-25.094 25.094-25.094h117.298l55.346 50.188H48.146c-13.837 0-25.094-11.256-25.094-25.094zm.976-62.945c.422.111.847.215 1.275.309 7.421 1.634 14.68 8.002 22.365 14.744a576.29 576.29 0 0 0 3.206 2.799h-3.081c-11.253-.001-20.774-7.551-23.765-17.852zm308.727 89.752l57.233-51.899 49.904.57-81.871 74.24-25.266-22.911zm7.861 34.126H295.12l17.467-15.839h10.563l17.466 15.839zm19.599-86.027l-82.499 74.811-82.499-74.811h164.998zm-59.529-20c.849-.842 1.677-1.675 2.49-2.493 9.531-9.587 17.059-17.16 32.89-17.16 15.832 0 23.359 7.573 32.89 17.162.812.817 1.64 1.65 2.489 2.491h-70.759zm-160.13 0a485.82 485.82 0 0 0 2.489-2.492c9.531-9.588 17.059-17.161 32.89-17.161 15.83 0 23.358 7.573 32.888 17.16.813.818 1.641 1.651 2.49 2.493h-70.757zm275.862 162.073H95.582c-29.56 0-53.608-24.049-53.608-53.608v-18.275h200.872l17.467 15.839H145.897c-5.523 0-10 4.477-10 10s4.477 10 10 10H467.07c-7.288 20.958-27.242 36.044-50.652 36.044zm53.608-56.046h-94.6l17.467-15.839h77.133v15.839zm-6.174-35.837h-48.906l54.624-49.533c11.135 2.604 19.376 12.665 19.376 24.439 0 13.836-11.257 25.094-25.094 25.094zm-2.728-70.19l.262-.227.101-.087.342-.298c.848-.738 1.682-1.469 2.501-2.187 4.105-3.601 8.089-7.095 12.04-9.819 3.446-2.375 6.868-4.164 10.326-4.925l.359-.081.04-.01.317-.076.065-.016a22.897 22.897 0 0 0 .42-.107l.196-.052a.374.374 0 0 0 .048-.012c-2.433 9.276-10.129 16.443-19.691 18.102a9.984 9.984 0 0 0-2.016-.205h-5.31zm21.271-37.073a40.746 40.746 0 0 0-4.536 1.281c-10.109 3.489-18.327 10.602-26.283 17.58l-.434.381c-9.178 8.052-17.923 15.723-29.033 17.834h-13.146c-11.249-1.93-17.833-8.552-25.823-16.591-10.213-10.275-22.923-23.062-47.074-23.062-24.15 0-36.86 12.786-47.074 23.06-7.992 8.04-14.576 14.663-25.829 16.593h-14.327c-11.253-1.93-17.837-8.553-25.829-16.593-10.213-10.274-22.923-23.06-47.072-23.06-24.151 0-36.861 12.787-47.074 23.062-7.991 8.039-14.574 14.661-25.824 16.591h-7.065c-14.134 0-24.325-8.939-35.113-18.404-9.248-8.112-18.81-16.501-31.252-19.241a12.237 12.237 0 0 1-7.025-4.453 10.027 10.027 0 0 0-1.153-1.252 12.234 12.234 0 0 1-1.428-5.727c-.001-6.788 5.52-12.309 12.307-12.309h447.384c6.787 0 12.308 5.521 12.308 12.308 0 5.729-4.039 10.776-9.605 12.002z"/>\n    </svg>\n    ',Qu='\n    <svg style="max-height:18px"\n      xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="24" height="24" fill="gray">\n      <path d="M490.815 3.784C480.082 5.7 227.049 51.632 148.477 130.203c-39.153 39.153-64.259 87.884-70.694 137.218-5.881 45.081 4.347 85.929 28.878 116.708L.001 490.789 21.212 512l106.657-106.657c33.094 26.378 75.092 34.302 116.711 28.874 49.334-6.435 98.065-31.541 137.218-70.695C460.368 284.951 506.3 31.918 508.216 21.185L511.999 0l-21.184 3.784zm-43.303 39.493L309.407 181.383l-7.544-98.076c46.386-15.873 97.819-29.415 145.649-40.03zm-174.919 50.64l8.877 115.402-78.119 78.119-11.816-153.606c19.947-13.468 47.183-26.875 81.058-39.915zm-109.281 64.119l12.103 157.338-47.36 47.36c-39.246-52.892-24.821-139.885 35.257-204.698zm57.113 247.849c-26.548-.001-51.267-7.176-71.161-21.938l47.363-47.363 157.32 12.102c-40.432 37.475-89.488 57.201-133.522 57.199zm157.743-85.421l-153.605-11.816 78.118-78.118 115.403 8.877c-13.04 33.876-26.448 61.111-39.916 81.057zm50.526-110.326l-98.076-7.544L468.725 64.485c-10.589 47.717-24.147 99.232-40.031 145.653z"/>\n    </svg>\n    ',Zu='\n    <svg style="max-height:18px"\n      xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 792 792" fill="gray">\n      <path d="M425.512 741.214H365.58c-14.183 0-25.164 11.439-25.164 25.622S351.397 792 365.58 792h59.932c15.101 0 26.54-10.981 26.54-25.164s-11.44-25.622-26.54-25.622zM472.638 671.209H319.821c-14.183 0-26.081 10.98-26.081 25.163s11.898 25.164 26.081 25.164h152.817c14.183 0 25.164-10.981 25.164-25.164s-10.982-25.163-25.164-25.163zM639.188 138.634c-25.164-42.548-59.181-76.135-102.49-101.113C493.526 12.621 446.566 0 395.771 0 320.28 0 247.19 31.684 197.205 81.445c-49.761 49.527-81.904 121.24-81.904 196.282 0 33.861 7.779 68.629 22.879 103.866 15.1 35.228 38.565 78.614 70.005 130.396 7.448 12.269 15.764 31.205 25.623 56.271 12.104 30.757 22.87 51.713 31.566 63.602 5.027 6.872 11.899 10.063 20.596 10.063h228.766c9.605 0 16.359-4.188 21.504-11.898 6.754-10.132 13.987-27.516 22.42-51.693 8.951-25.691 16.838-43.982 23.329-55.364 30.571-53.587 54.446-99.747 70.464-137.717 16.018-37.979 24.246-74.124 24.246-107.526 0-49.878-12.347-96.545-37.511-139.093zm-35.696 232.437c-15.012 34.348-36.398 76.974-65.427 126.736-9.41 16.125-18.458 37.003-26.989 63.592-3.367 10.474-7.32 20.596-11.439 30.2H300.153c-6.862-11.439-12.26-25.837-18.761-42.089-12.718-31.801-23.338-52.621-30.2-64.061-28.824-48.043-49.868-87.39-64.051-118.957s-20.537-60.859-21.044-88.766c-2.235-121.718 106.13-228.991 229.674-226.941 41.631.693 80.527 10.063 115.765 30.659 35.227 20.586 63.134 48.043 83.729 82.812 20.586 34.768 31.108 72.748 31.108 113.47-.001 27.449-7.692 58.596-22.881 93.345z"/>\n    </svg>\n    ',ed='\n    <svg style="max-height:18px"\n      xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 106.059 106.059" fill="gray">\n      <path d="M90.544 90.542c20.687-20.684 20.685-54.341.002-75.024-20.688-20.689-54.347-20.689-75.031-.006-20.688 20.687-20.686 54.346.002 75.034 20.682 20.684 54.341 20.684 75.027-.004zM21.302 21.3c17.494-17.493 45.959-17.495 63.457.002 17.494 17.494 17.492 45.963-.002 63.455-17.494 17.494-45.96 17.496-63.455.003-17.498-17.498-17.496-45.966 0-63.46zM27 69.865s-2.958-11.438 6.705-8.874c0 0 17.144 9.295 38.651 0 9.662-2.563 6.705 8.874 6.705 8.874C73.539 86.824 53.03 85.444 53.03 85.444S32.521 86.824 27 69.865zm6.24-31.194a6.202 6.202 0 1 1 12.399.001 6.202 6.202 0 0 1-12.399-.001zm28.117 0a6.202 6.202 0 1 1 12.403.001 6.202 6.202 0 0 1-12.403-.001z"/>\n    </svg>\n    ',td='\n    <svg style="max-height:18px"\n      xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 611.999 611.998" fill="gray">\n      <path d="M596.583 15.454C586.226 5.224 573.354.523 558.423.523c-15.597 0-31.901 4.906-49.452 14.599-17.296 9.551-32.851 20.574-46.458 32.524h-.665c-2.655 2.322-10.953 10.287-25.219 24.553-14.272 14.272-26.217 26.223-35.845 36.51L112.401 26.406c-6.896-1.968-12.928.014-17.593 4.645L46.687 78.839c-4.326 4.297-5.805 9.268-4.977 15.597.829 6.287 3.979 10.627 9.629 13.607L280.32 228.839 161.514 347.978l-95.91 3.32c-4.645.164-8.637 1.643-12.276 5.311L5.872 404.397c-4.312 4.34-6.641 9.289-5.643 16.262 1.657 6.967 5.31 11.611 11.618 13.602l117.142 48.787 48.787 117.148c2.421 5.812 6.634 9.621 13.607 11.279h3.313c4.977 0 9.296-1.658 12.942-5.311l47.456-47.457c3.653-3.645 5.494-7.965 5.643-12.275l3.32-95.91 118.807-118.807 121.128 228.99c2.988 5.643 7.32 8.793 13.607 9.621 6.329.836 11.271-1.316 15.597-5.643l47.456-47.457c4.978-4.977 6.945-10.697 4.978-17.586l-82.296-288.389 59.732-59.739c10.287-10.287 21.699-24.149 33.183-45.134 5.777-10.542 10.032-20.886 12.942-31.194 5.722-20.218 3.258-44.07-12.608-59.73zm-59.4 110.176l-67.039 67.372c-5.628 5.657-6.811 11.122-4.977 17.586l81.637 288.388-22.563 22.238L403.438 292.89c-2.98-5.643-7.299-8.963-12.941-9.621-6.301-1.331-11.611.325-16.263 4.977l-141.37 141.37c-2.987 2.986-4.644 6.973-5.643 11.949l-3.32 95.904-22.896 23.236-41.48-98.566c-1.331-4.645-4.553-8.184-9.629-10.287L51.338 411.03l23.229-22.895 95.578-3.654c5.643-.99 9.622-2.654 12.276-5.309l141.37-141.371c4.651-4.645 6.308-9.954 4.984-16.262-.666-5.643-3.986-9.954-9.629-12.942L90.829 87.47l22.231-22.238 288.389 81.637c6.464 1.833 11.951.666 17.587-4.977l28.545-28.539 26.217-25.884 11.278-11.285 1.331-.666c27.873-23.895 55.088-38.16 72.016-38.16 5.969 0 9.954 1.324 11.611 3.979 18.917 18.585-21.099 72.484-32.851 84.293z"/>\n    </svg>\n    ',nd='\n    <svg style="max-height:18px"\n      xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 511.626 511.626" fill="gray">\n      <path d="M475.366 71.949c-24.175-23.606-57.575-35.404-100.215-35.404-11.8 0-23.843 2.046-36.117 6.136-12.279 4.093-23.702 9.615-34.256 16.562-10.568 6.945-19.65 13.467-27.269 19.556a263.828 263.828 0 0 0-21.696 19.414 264.184 264.184 0 0 0-21.698-19.414c-7.616-6.089-16.702-12.607-27.268-19.556-10.564-6.95-21.985-12.468-34.261-16.562-12.275-4.089-24.316-6.136-36.116-6.136-42.637 0-76.039 11.801-100.211 35.404C12.087 95.55 0 128.286 0 170.16c0 12.753 2.24 25.891 6.711 39.398 4.471 13.514 9.566 25.031 15.275 34.546 5.708 9.514 12.181 18.792 19.414 27.834 7.233 9.041 12.519 15.272 15.846 18.698 3.33 3.426 5.948 5.903 7.851 7.427L243.25 469.938c3.427 3.426 7.614 5.144 12.562 5.144s9.138-1.718 12.563-5.144l177.87-171.31c43.588-43.58 65.38-86.406 65.38-128.472.001-41.877-12.085-74.61-36.259-98.207zm-53.961 199.846L255.813 431.391 89.938 271.507C54.344 235.922 36.55 202.133 36.55 170.156c0-15.415 2.046-29.026 6.136-40.824 4.093-11.8 9.327-21.177 15.703-28.124 6.377-6.949 14.132-12.607 23.268-16.988 9.141-4.377 18.086-7.328 26.84-8.85 8.754-1.52 18.079-2.281 27.978-2.281 9.896 0 20.557 2.424 31.977 7.279 11.418 4.853 21.934 10.944 31.545 18.271 9.613 7.332 17.845 14.183 24.7 20.557 6.851 6.38 12.559 12.229 17.128 17.559 3.424 4.189 8.091 6.283 13.989 6.283 5.9 0 10.562-2.094 13.99-6.283 4.568-5.33 10.28-11.182 17.131-17.559 6.852-6.374 15.085-13.222 24.694-20.557 9.613-7.327 20.129-13.418 31.553-18.271 11.416-4.854 22.08-7.279 31.977-7.279s19.219.761 27.977 2.281c8.757 1.521 17.702 4.473 26.84 8.85 9.137 4.38 16.892 10.042 23.267 16.988 6.376 6.947 11.612 16.324 15.705 28.124 4.086 11.798 6.132 25.409 6.132 40.824-.002 31.977-17.89 65.86-53.675 101.639z"/>\n    </svg>\n    ',od=[new Uu("Frequently",'\n    <svg style="max-height:18px"\n      xmlns="http://www.w3.org/2000/svg" viewBox="0 0 219.15 219.15" width="24" height="24" fill="gray">\n      <path d="M109.575 0C49.156 0 .001 49.155.001 109.574c0 60.42 49.154 109.576 109.573 109.576 60.42 0 109.574-49.156 109.574-109.576C219.149 49.155 169.995 0 109.575 0zm0 204.15c-52.148 0-94.573-42.427-94.573-94.576C15.001 57.426 57.427 15 109.575 15c52.148 0 94.574 42.426 94.574 94.574 0 52.15-42.426 94.576-94.574 94.576z"/>\n      <path d="M166.112 108.111h-52.051V51.249a7.5 7.5 0 0 0-15 0v64.362a7.5 7.5 0 0 0 7.5 7.5h59.551a7.5 7.5 0 0 0 0-15z"/>\n    </svg>\n    '),new Uu("Peoples",ed),new Uu("Nature",Qu),new Uu("Foods",Yu),new Uu("Activity",Gu),new Uu("Objects",Zu),new Uu("Places",td),new Uu("Symbols",nd),new Uu("Flags",Xu)],rd=function(e,t,n){this.data=e,this.category=t,this.aliases=n},id=[new rd("","Peoples",["grinning"]),new rd("","Peoples",["smiley"]),new rd("","Peoples",["smile"]),new rd("","Peoples",["grin"]),new rd("","Peoples",["laughing","satisfied"]),new rd("","Peoples",["sweat_smile"]),new rd("","Peoples",["joy"]),new rd("","Peoples",["rofl"]),new rd("","Peoples",["relaxed"]),new rd("","Peoples",["blush"]),new rd("","Peoples",["innocent"]),new rd("","Peoples",["slightly_smiling_face"]),new rd("","Peoples",["upside_down_face"]),new rd("","Peoples",["wink"]),new rd("","Peoples",["relieved"]),new rd("","Peoples",["heart_eyes"]),new rd("","Peoples",["kissing_heart"]),new rd("","Peoples",["kissing"]),new rd("","Peoples",["kissing_smiling_eyes"]),new rd("","Peoples",["kissing_closed_eyes"]),new rd("","Peoples",["yum"]),new rd("","Peoples",["stuck_out_tongue_winking_eye"]),new rd("","Peoples",["stuck_out_tongue_closed_eyes"]),new rd("","Peoples",["stuck_out_tongue"]),new rd("","Peoples",["money_mouth_face"]),new rd("","Peoples",["hugs"]),new rd("","Peoples",["nerd_face"]),new rd("","Peoples",["sunglasses"]),new rd("","Peoples",["clown_face"]),new rd("","Peoples",["cowboy_hat_face"]),new rd("","Peoples",["smirk"]),new rd("","Peoples",["unamused"]),new rd("","Peoples",["disappointed"]),new rd("","Peoples",["pensive"]),new rd("","Peoples",["worried"]),new rd("","Peoples",["confused"]),new rd("","Peoples",["slightly_frowning_face"]),new rd("","Peoples",["frowning_face"]),new rd("","Peoples",["persevere"]),new rd("","Peoples",["confounded"]),new rd("","Peoples",["tired_face"]),new rd("","Peoples",["weary"]),new rd("","Peoples",["triumph"]),new rd("","Peoples",["angry"]),new rd("","Peoples",["rage","pout"]),new rd("","Peoples",["no_mouth"]),new rd("","Peoples",["neutral_face"]),new rd("","Peoples",["expressionless"]),new rd("","Peoples",["hushed"]),new rd("","Peoples",["frowning"]),new rd("","Peoples",["anguished"]),new rd("","Peoples",["open_mouth"]),new rd("","Peoples",["astonished"]),new rd("","Peoples",["dizzy_face"]),new rd("","Peoples",["flushed"]),new rd("","Peoples",["scream"]),new rd("","Peoples",["fearful"]),new rd("","Peoples",["cold_sweat"]),new rd("","Peoples",["cry"]),new rd("","Peoples",["disappointed_relieved"]),new rd("","Peoples",["drooling_face"]),new rd("","Peoples",["sob"]),new rd("","Peoples",["sweat"]),new rd("","Peoples",["sleepy"]),new rd("","Peoples",["sleeping"]),new rd("","Peoples",["roll_eyes"]),new rd("","Peoples",["thinking"]),new rd("","Peoples",["lying_face"]),new rd("","Peoples",["grimacing"]),new rd("","Peoples",["zipper_mouth_face"]),new rd("","Peoples",["nauseated_face"]),new rd("","Peoples",["sneezing_face"]),new rd("","Peoples",["mask"]),new rd("","Peoples",["face_with_thermometer"]),new rd("","Peoples",["face_with_head_bandage"]),new rd("","Peoples",["smiling_imp"]),new rd("","Peoples",["imp"]),new rd("","Peoples",["japanese_ogre"]),new rd("","Peoples",["japanese_goblin"]),new rd("","Peoples",["hankey","poop","shit"]),new rd("","Peoples",["ghost"]),new rd("","Peoples",["skull"]),new rd("","Peoples",["skull_and_crossbones"]),new rd("","Peoples",["alien"]),new rd("","Peoples",["space_invader"]),new rd("","Peoples",["robot"]),new rd("","Peoples",["jack_o_lantern"]),new rd("","Peoples",["smiley_cat"]),new rd("","Peoples",["smile_cat"]),new rd("","Peoples",["joy_cat"]),new rd("","Peoples",["heart_eyes_cat"]),new rd("","Peoples",["smirk_cat"]),new rd("","Peoples",["kissing_cat"]),new rd("","Peoples",["scream_cat"]),new rd("","Peoples",["crying_cat_face"]),new rd("","Peoples",["pouting_cat"]),new rd("","Peoples",["open_hands"]),new rd("","Peoples",["raised_hands"]),new rd("","Peoples",["clap"]),new rd("","Peoples",["pray"]),new rd("","Peoples",["handshake"]),new rd("","Peoples",["+1","thumbsup"]),new rd("","Peoples",["-1","thumbsdown"]),new rd("","Peoples",["fist_oncoming","facepunch","punch"]),new rd("","Peoples",["fist_raised","fist"]),new rd("","Peoples",["fist_left"]),new rd("","Peoples",["fist_right"]),new rd("","Peoples",["crossed_fingers"]),new rd("","Peoples",["v"]),new rd("","Peoples",["metal"]),new rd("","Peoples",["ok_hand"]),new rd("","Peoples",["point_left"]),new rd("","Peoples",["point_right"]),new rd("","Peoples",["point_up_2"]),new rd("","Peoples",["point_down"]),new rd("","Peoples",["point_up"]),new rd("","Peoples",["hand","raised_hand"]),new rd("","Peoples",["raised_back_of_hand"]),new rd("","Peoples",["raised_hand_with_fingers_splayed"]),new rd("","Peoples",["vulcan_salute"]),new rd("","Peoples",["wave"]),new rd("","Peoples",["call_me_hand"]),new rd("","Peoples",["muscle"]),new rd("","Peoples",["middle_finger","fu"]),new rd("","Peoples",["writing_hand"]),new rd("","Peoples",["selfie"]),new rd("","Peoples",["nail_care"]),new rd("","Peoples",["ring"]),new rd("","Peoples",["lipstick"]),new rd("","Peoples",["kiss"]),new rd("","Peoples",["lips"]),new rd("","Peoples",["tongue"]),new rd("","Peoples",["ear"]),new rd("","Peoples",["nose"]),new rd("","Peoples",["footprints"]),new rd("","Peoples",["eye"]),new rd("","Peoples",["eyes"]),new rd("","Peoples",["speaking_head"]),new rd("","Peoples",["bust_in_silhouette"]),new rd("","Peoples",["busts_in_silhouette"]),new rd("","Peoples",["baby"]),new rd("","Peoples",["boy"]),new rd("","Peoples",["girl"]),new rd("","Peoples",["man"]),new rd("","Peoples",["woman"]),new rd("","Peoples",["blonde_woman"]),new rd("","Peoples",["blonde_man","person_with_blond_hair"]),new rd("","Peoples",["older_man"]),new rd("","Peoples",["older_woman"]),new rd("","Peoples",["man_with_gua_pi_mao"]),new rd("","Peoples",["woman_with_turban"]),new rd("","Peoples",["man_with_turban"]),new rd("","Peoples",["policewoman"]),new rd("","Peoples",["policeman","cop"]),new rd("","Peoples",["construction_worker_woman"]),new rd("","Peoples",["construction_worker_man","construction_worker"]),new rd("","Peoples",["guardswoman"]),new rd("","Peoples",["guardsman"]),new rd("","Peoples",["woman_health_worker"]),new rd("","Peoples",["man_health_worker"]),new rd("","Peoples",["woman_farmer"]),new rd("","Peoples",["man_farmer"]),new rd("","Peoples",["woman_cook"]),new rd("","Peoples",["man_cook"]),new rd("","Peoples",["woman_student"]),new rd("","Peoples",["man_student"]),new rd("","Peoples",["woman_singer"]),new rd("","Peoples",["man_singer"]),new rd("","Peoples",["woman_teacher"]),new rd("","Peoples",["man_teacher"]),new rd("","Peoples",["woman_factory_worker"]),new rd("","Peoples",["man_factory_worker"]),new rd("","Peoples",["woman_technologist"]),new rd("","Peoples",["man_technologist"]),new rd("","Peoples",["woman_office_worker"]),new rd("","Peoples",["man_office_worker"]),new rd("","Peoples",["woman_mechanic"]),new rd("","Peoples",["man_mechanic"]),new rd("","Peoples",["woman_scientist"]),new rd("","Peoples",["man_scientist"]),new rd("","Peoples",["woman_artist"]),new rd("","Peoples",["man_artist"]),new rd("","Peoples",["woman_firefighter"]),new rd("","Peoples",["man_firefighter"]),new rd("","Peoples",["woman_astronaut"]),new rd("","Peoples",["man_astronaut"]),new rd("","Peoples",["mrs_claus"]),new rd("","Peoples",["santa"]),new rd("","Peoples",["princess"]),new rd("","Peoples",["prince"]),new rd("","Peoples",["bride_with_veil"]),new rd("","Peoples",["man_in_tuxedo"]),new rd("","Peoples",["angel"]),new rd("","Peoples",["pregnant_woman"]),new rd("","Peoples",["bowing_woman"]),new rd("","Peoples",["bowing_man","bow"]),new rd("","Peoples",["tipping_hand_woman","information_desk_person","sassy_woman"]),new rd("","Peoples",["tipping_hand_man","sassy_man"]),new rd("","Peoples",["no_good_woman","no_good","ng_woman"]),new rd("","Peoples",["no_good_man","ng_man"]),new rd("","Peoples",["ok_woman"]),new rd("","Peoples",["ok_man"]),new rd("","Peoples",["raising_hand_woman","raising_hand"]),new rd("","Peoples",["raising_hand_man"]),new rd("","Peoples",["woman_facepalming"]),new rd("","Peoples",["man_facepalming"]),new rd("","Peoples",["woman_shrugging"]),new rd("","Peoples",["man_shrugging"]),new rd("","Peoples",["pouting_woman","person_with_pouting_face"]),new rd("","Peoples",["pouting_man"]),new rd("","Peoples",["frowning_woman","person_frowning"]),new rd("","Peoples",["frowning_man"]),new rd("","Peoples",["haircut_woman","haircut"]),new rd("","Peoples",["haircut_man"]),new rd("","Peoples",["massage_woman","massage"]),new rd("","Peoples",["massage_man"]),new rd("","Peoples",["business_suit_levitating"]),new rd("","Peoples",["dancer"]),new rd("","Peoples",["man_dancing"]),new rd("","Peoples",["dancing_women","dancers"]),new rd("","Peoples",["dancing_men"]),new rd("","Peoples",["walking_woman"]),new rd("","Peoples",["walking_man","walking"]),new rd("","Peoples",["running_woman"]),new rd("","Peoples",["running_man","runner","running"]),new rd("","Peoples",["couple"]),new rd("","Peoples",["two_women_holding_hands"]),new rd("","Peoples",["two_men_holding_hands"]),new rd("","Peoples",["couple_with_heart_woman_man","couple_with_heart"]),new rd("","Peoples",["couple_with_heart_woman_woman"]),new rd("","Peoples",["couple_with_heart_man_man"]),new rd("","Peoples",["couplekiss_man_woman"]),new rd("","Peoples",["couplekiss_woman_woman"]),new rd("","Peoples",["couplekiss_man_man"]),new rd("","Peoples",["family_man_woman_boy","family"]),new rd("","Peoples",["family_man_woman_girl"]),new rd("","Peoples",["family_man_woman_girl_boy"]),new rd("","Peoples",["family_man_woman_boy_boy"]),new rd("","Peoples",["family_man_woman_girl_girl"]),new rd("","Peoples",["family_woman_woman_boy"]),new rd("","Peoples",["family_woman_woman_girl"]),new rd("","Peoples",["family_woman_woman_girl_boy"]),new rd("","Peoples",["family_woman_woman_boy_boy"]),new rd("","Peoples",["family_woman_woman_girl_girl"]),new rd("","Peoples",["family_man_man_boy"]),new rd("","Peoples",["family_man_man_girl"]),new rd("","Peoples",["family_man_man_girl_boy"]),new rd("","Peoples",["family_man_man_boy_boy"]),new rd("","Peoples",["family_man_man_girl_girl"]),new rd("","Peoples",["family_woman_boy"]),new rd("","Peoples",["family_woman_girl"]),new rd("","Peoples",["family_woman_girl_boy"]),new rd("","Peoples",["family_woman_boy_boy"]),new rd("","Peoples",["family_woman_girl_girl"]),new rd("","Peoples",["family_man_boy"]),new rd("","Peoples",["family_man_girl"]),new rd("","Peoples",["family_man_girl_boy"]),new rd("","Peoples",["family_man_boy_boy"]),new rd("","Peoples",["family_man_girl_girl"]),new rd("","Peoples",["womans_clothes"]),new rd("","Peoples",["shirt","tshirt"]),new rd("","Peoples",["jeans"]),new rd("","Peoples",["necktie"]),new rd("","Peoples",["dress"]),new rd("","Peoples",["bikini"]),new rd("","Peoples",["kimono"]),new rd("","Peoples",["high_heel"]),new rd("","Peoples",["sandal"]),new rd("","Peoples",["boot"]),new rd("","Peoples",["mans_shoe","shoe"]),new rd("","Peoples",["athletic_shoe"]),new rd("","Peoples",["womans_hat"]),new rd("","Peoples",["tophat"]),new rd("","Peoples",["mortar_board"]),new rd("","Peoples",["crown"]),new rd("","Peoples",["rescue_worker_helmet"]),new rd("","Peoples",["school_satchel"]),new rd("","Peoples",["pouch"]),new rd("","Peoples",["purse"]),new rd("","Peoples",["handbag"]),new rd("","Peoples",["briefcase"]),new rd("","Peoples",["eyeglasses"]),new rd("","Peoples",["dark_sunglasses"]),new rd("","Peoples",["closed_umbrella"]),new rd("","Peoples",["open_umbrella"]),new rd("","Nature",["dog"]),new rd("","Nature",["cat"]),new rd("","Nature",["mouse"]),new rd("","Nature",["hamster"]),new rd("","Nature",["rabbit"]),new rd("","Nature",["fox_face"]),new rd("","Nature",["bear"]),new rd("","Nature",["panda_face"]),new rd("","Nature",["koala"]),new rd("","Nature",["tiger"]),new rd("","Nature",["lion"]),new rd("","Nature",["cow"]),new rd("","Nature",["pig"]),new rd("","Nature",["pig_nose"]),new rd("","Nature",["frog"]),new rd("","Nature",["monkey_face"]),new rd("","Nature",["see_no_evil"]),new rd("","Nature",["hear_no_evil"]),new rd("","Nature",["speak_no_evil"]),new rd("","Nature",["monkey"]),new rd("","Nature",["chicken"]),new rd("","Nature",["penguin"]),new rd("","Nature",["bird"]),new rd("","Nature",["baby_chick"]),new rd("","Nature",["hatching_chick"]),new rd("","Nature",["hatched_chick"]),new rd("","Nature",["duck"]),new rd("","Nature",["eagle"]),new rd("","Nature",["owl"]),new rd("","Nature",["bat"]),new rd("","Nature",["wolf"]),new rd("","Nature",["boar"]),new rd("","Nature",["horse"]),new rd("","Nature",["unicorn"]),new rd("","Nature",["bee","honeybee"]),new rd("","Nature",["bug"]),new rd("","Nature",["butterfly"]),new rd("","Nature",["snail"]),new rd("","Nature",["shell"]),new rd("","Nature",["beetle"]),new rd("","Nature",["ant"]),new rd("","Nature",["spider"]),new rd("","Nature",["spider_web"]),new rd("","Nature",["turtle"]),new rd("","Nature",["snake"]),new rd("","Nature",["lizard"]),new rd("","Nature",["scorpion"]),new rd("","Nature",["crab"]),new rd("","Nature",["squid"]),new rd("","Nature",["octopus"]),new rd("","Nature",["shrimp"]),new rd("","Nature",["tropical_fish"]),new rd("","Nature",["fish"]),new rd("","Nature",["blowfish"]),new rd("","Nature",["dolphin","flipper"]),new rd("","Nature",["shark"]),new rd("","Nature",["whale"]),new rd("","Nature",["whale2"]),new rd("","Nature",["crocodile"]),new rd("","Nature",["leopard"]),new rd("","Nature",["tiger2"]),new rd("","Nature",["water_buffalo"]),new rd("","Nature",["ox"]),new rd("","Nature",["cow2"]),new rd("","Nature",["deer"]),new rd("","Nature",["dromedary_camel"]),new rd("","Nature",["camel"]),new rd("","Nature",["elephant"]),new rd("","Nature",["rhinoceros"]),new rd("","Nature",["gorilla"]),new rd("","Nature",["racehorse"]),new rd("","Nature",["pig2"]),new rd("","Nature",["goat"]),new rd("","Nature",["ram"]),new rd("","Nature",["sheep"]),new rd("","Nature",["dog2"]),new rd("","Nature",["poodle"]),new rd("","Nature",["cat2"]),new rd("","Nature",["rooster"]),new rd("","Nature",["turkey"]),new rd("","Nature",["dove"]),new rd("","Nature",["rabbit2"]),new rd("","Nature",["mouse2"]),new rd("","Nature",["rat"]),new rd("","Nature",["chipmunk"]),new rd("","Nature",["feet","paw_prints"]),new rd("","Nature",["dragon"]),new rd("","Nature",["dragon_face"]),new rd("","Nature",["cactus"]),new rd("","Nature",["christmas_tree"]),new rd("","Nature",["evergreen_tree"]),new rd("","Nature",["deciduous_tree"]),new rd("","Nature",["palm_tree"]),new rd("","Nature",["seedling"]),new rd("","Nature",["herb"]),new rd("","Nature",["shamrock"]),new rd("","Nature",["four_leaf_clover"]),new rd("","Nature",["bamboo"]),new rd("","Nature",["tanabata_tree"]),new rd("","Nature",["leaves"]),new rd("","Nature",["fallen_leaf"]),new rd("","Nature",["maple_leaf"]),new rd("","Nature",["mushroom"]),new rd("","Nature",["ear_of_rice"]),new rd("","Nature",["bouquet"]),new rd("","Nature",["tulip"]),new rd("","Nature",["rose"]),new rd("","Nature",["wilted_flower"]),new rd("","Nature",["sunflower"]),new rd("","Nature",["blossom"]),new rd("","Nature",["cherry_blossom"]),new rd("","Nature",["hibiscus"]),new rd("","Nature",["earth_americas"]),new rd("","Nature",["earth_africa"]),new rd("","Nature",["earth_asia"]),new rd("","Nature",["full_moon"]),new rd("","Nature",["waning_gibbous_moon"]),new rd("","Nature",["last_quarter_moon"]),new rd("","Nature",["waning_crescent_moon"]),new rd("","Nature",["new_moon"]),new rd("","Nature",["waxing_crescent_moon"]),new rd("","Nature",["first_quarter_moon"]),new rd("","Nature",["moon","waxing_gibbous_moon"]),new rd("","Nature",["new_moon_with_face"]),new rd("","Nature",["full_moon_with_face"]),new rd("","Nature",["sun_with_face"]),new rd("","Nature",["first_quarter_moon_with_face"]),new rd("","Nature",["last_quarter_moon_with_face"]),new rd("","Nature",["crescent_moon"]),new rd("","Nature",["dizzy"]),new rd("","Nature",["star"]),new rd("","Nature",["star2"]),new rd("","Nature",["sparkles"]),new rd("","Nature",["zap"]),new rd("","Nature",["fire"]),new rd("","Nature",["boom","collision"]),new rd("","Nature",["comet"]),new rd("","Nature",["sunny"]),new rd("","Nature",["sun_behind_small_cloud"]),new rd("","Nature",["partly_sunny"]),new rd("","Nature",["sun_behind_large_cloud"]),new rd("","Nature",["sun_behind_rain_cloud"]),new rd("","Nature",["rainbow"]),new rd("","Nature",["cloud"]),new rd("","Nature",["cloud_with_rain"]),new rd("","Nature",["cloud_with_lightning_and_rain"]),new rd("","Nature",["cloud_with_lightning"]),new rd("","Nature",["cloud_with_snow"]),new rd("","Nature",["snowman_with_snow"]),new rd("","Nature",["snowman"]),new rd("","Nature",["snowflake"]),new rd("","Nature",["wind_face"]),new rd("","Nature",["dash"]),new rd("","Nature",["tornado"]),new rd("","Nature",["fog"]),new rd("","Nature",["ocean"]),new rd("","Nature",["droplet"]),new rd("","Nature",["sweat_drops"]),new rd("","Nature",["umbrella"]),new rd("","Foods",["green_apple"]),new rd("","Foods",["apple"]),new rd("","Foods",["pear"]),new rd("","Foods",["tangerine","orange","mandarin"]),new rd("","Foods",["lemon"]),new rd("","Foods",["banana"]),new rd("","Foods",["watermelon"]),new rd("","Foods",["grapes"]),new rd("","Foods",["strawberry"]),new rd("","Foods",["melon"]),new rd("","Foods",["cherries"]),new rd("","Foods",["peach"]),new rd("","Foods",["pineapple"]),new rd("","Foods",["kiwi_fruit"]),new rd("","Foods",["avocado"]),new rd("","Foods",["tomato"]),new rd("","Foods",["eggplant"]),new rd("","Foods",["cucumber"]),new rd("","Foods",["carrot"]),new rd("","Foods",["corn"]),new rd("","Foods",["hot_pepper"]),new rd("","Foods",["potato"]),new rd("","Foods",["sweet_potato"]),new rd("","Foods",["chestnut"]),new rd("","Foods",["peanuts"]),new rd("","Foods",["honey_pot"]),new rd("","Foods",["croissant"]),new rd("","Foods",["bread"]),new rd("","Foods",["baguette_bread"]),new rd("","Foods",["cheese"]),new rd("","Foods",["egg"]),new rd("","Foods",["fried_egg"]),new rd("","Foods",["bacon"]),new rd("","Foods",["pancakes"]),new rd("","Foods",["fried_shrimp"]),new rd("","Foods",["poultry_leg"]),new rd("","Foods",["meat_on_bone"]),new rd("","Foods",["pizza"]),new rd("","Foods",["hotdog"]),new rd("","Foods",["hamburger"]),new rd("","Foods",["fries"]),new rd("","Foods",["stuffed_flatbread"]),new rd("","Foods",["taco"]),new rd("","Foods",["burrito"]),new rd("","Foods",["green_salad"]),new rd("","Foods",["shallow_pan_of_food"]),new rd("","Foods",["spaghetti"]),new rd("","Foods",["ramen"]),new rd("","Foods",["stew"]),new rd("","Foods",["fish_cake"]),new rd("","Foods",["sushi"]),new rd("","Foods",["bento"]),new rd("","Foods",["curry"]),new rd("","Foods",["rice"]),new rd("","Foods",["rice_ball"]),new rd("","Foods",["rice_cracker"]),new rd("","Foods",["oden"]),new rd("","Foods",["dango"]),new rd("","Foods",["shaved_ice"]),new rd("","Foods",["ice_cream"]),new rd("","Foods",["icecream"]),new rd("","Foods",["cake"]),new rd("","Foods",["birthday"]),new rd("","Foods",["custard"]),new rd("","Foods",["lollipop"]),new rd("","Foods",["candy"]),new rd("","Foods",["chocolate_bar"]),new rd("","Foods",["popcorn"]),new rd("","Foods",["doughnut"]),new rd("","Foods",["cookie"]),new rd("","Foods",["milk_glass"]),new rd("","Foods",["baby_bottle"]),new rd("","Foods",["coffee"]),new rd("","Foods",["tea"]),new rd("","Foods",["sake"]),new rd("","Foods",["beer"]),new rd("","Foods",["beers"]),new rd("","Foods",["clinking_glasses"]),new rd("","Foods",["wine_glass"]),new rd("","Foods",["tumbler_glass"]),new rd("","Foods",["cocktail"]),new rd("","Foods",["tropical_drink"]),new rd("","Foods",["champagne"]),new rd("","Foods",["spoon"]),new rd("","Foods",["fork_and_knife"]),new rd("","Foods",["plate_with_cutlery"]),new rd("","Activity",["soccer"]),new rd("","Activity",["basketball"]),new rd("","Activity",["football"]),new rd("","Activity",["baseball"]),new rd("","Activity",["tennis"]),new rd("","Activity",["volleyball"]),new rd("","Activity",["rugby_football"]),new rd("","Activity",["8ball"]),new rd("","Activity",["ping_pong"]),new rd("","Activity",["badminton"]),new rd("","Activity",["goal_net"]),new rd("","Activity",["ice_hockey"]),new rd("","Activity",["field_hockey"]),new rd("","Activity",["cricket"]),new rd("","Activity",["golf"]),new rd("","Activity",["bow_and_arrow"]),new rd("","Activity",["fishing_pole_and_fish"]),new rd("","Activity",["boxing_glove"]),new rd("","Activity",["martial_arts_uniform"]),new rd("","Activity",["ice_skate"]),new rd("","Activity",["ski"]),new rd("","Activity",["skier"]),new rd("","Activity",["snowboarder"]),new rd("","Activity",["weight_lifting_woman"]),new rd("","Activity",["weight_lifting_man"]),new rd("","Activity",["person_fencing"]),new rd("","Activity",["women_wrestling"]),new rd("","Activity",["men_wrestling"]),new rd("","Activity",["woman_cartwheeling"]),new rd("","Activity",["man_cartwheeling"]),new rd("","Activity",["basketball_woman"]),new rd("","Activity",["basketball_man"]),new rd("","Activity",["woman_playing_handball"]),new rd("","Activity",["man_playing_handball"]),new rd("","Activity",["golfing_woman"]),new rd("","Activity",["golfing_man"]),new rd("","Activity",["surfing_woman"]),new rd("","Activity",["surfing_man","surfer"]),new rd("","Activity",["swimming_woman"]),new rd("","Activity",["swimming_man","swimmer"]),new rd("","Activity",["woman_playing_water_polo"]),new rd("","Activity",["man_playing_water_polo"]),new rd("","Activity",["rowing_woman"]),new rd("","Activity",["rowing_man","rowboat"]),new rd("","Activity",["horse_racing"]),new rd("","Activity",["biking_woman"]),new rd("","Activity",["biking_man","bicyclist"]),new rd("","Activity",["mountain_biking_woman"]),new rd("","Activity",["mountain_biking_man","mountain_bicyclist"]),new rd("","Activity",["running_shirt_with_sash"]),new rd("","Activity",["medal_sports"]),new rd("","Activity",["medal_military"]),new rd("","Activity",["1st_place_medal"]),new rd("","Activity",["2nd_place_medal"]),new rd("","Activity",["3rd_place_medal"]),new rd("","Activity",["trophy"]),new rd("","Activity",["rosette"]),new rd("","Activity",["reminder_ribbon"]),new rd("","Activity",["ticket"]),new rd("","Activity",["tickets"]),new rd("","Activity",["circus_tent"]),new rd("","Activity",["woman_juggling"]),new rd("","Activity",["man_juggling"]),new rd("","Activity",["performing_arts"]),new rd("","Activity",["art"]),new rd("","Activity",["clapper"]),new rd("","Activity",["microphone"]),new rd("","Activity",["headphones"]),new rd("","Activity",["musical_score"]),new rd("","Activity",["musical_keyboard"]),new rd("","Activity",["drum"]),new rd("","Activity",["saxophone"]),new rd("","Activity",["trumpet"]),new rd("","Activity",["guitar"]),new rd("","Activity",["violin"]),new rd("","Activity",["game_die"]),new rd("","Activity",["dart"]),new rd("","Activity",["bowling"]),new rd("","Activity",["video_game"]),new rd("","Activity",["slot_machine"]),new rd("","Places",["car","red_car"]),new rd("","Places",["taxi"]),new rd("","Places",["blue_car"]),new rd("","Places",["bus"]),new rd("","Places",["trolleybus"]),new rd("","Places",["racing_car"]),new rd("","Places",["police_car"]),new rd("","Places",["ambulance"]),new rd("","Places",["fire_engine"]),new rd("","Places",["minibus"]),new rd("","Places",["truck"]),new rd("","Places",["articulated_lorry"]),new rd("","Places",["tractor"]),new rd("","Places",["kick_scooter"]),new rd("","Places",["bike"]),new rd("","Places",["motor_scooter"]),new rd("","Places",["motorcycle"]),new rd("","Places",["rotating_light"]),new rd("","Places",["oncoming_police_car"]),new rd("","Places",["oncoming_bus"]),new rd("","Places",["oncoming_automobile"]),new rd("","Places",["oncoming_taxi"]),new rd("","Places",["aerial_tramway"]),new rd("","Places",["mountain_cableway"]),new rd("","Places",["suspension_railway"]),new rd("","Places",["railway_car"]),new rd("","Places",["train"]),new rd("","Places",["mountain_railway"]),new rd("","Places",["monorail"]),new rd("","Places",["bullettrain_side"]),new rd("","Places",["bullettrain_front"]),new rd("","Places",["light_rail"]),new rd("","Places",["steam_locomotive"]),new rd("","Places",["train2"]),new rd("","Places",["metro"]),new rd("","Places",["tram"]),new rd("","Places",["station"]),new rd("","Places",["helicopter"]),new rd("","Places",["small_airplane"]),new rd("","Places",["airplane"]),new rd("","Places",["flight_departure"]),new rd("","Places",["flight_arrival"]),new rd("","Places",["rocket"]),new rd("","Places",["artificial_satellite"]),new rd("","Places",["seat"]),new rd("","Places",["canoe"]),new rd("","Places",["boat","sailboat"]),new rd("","Places",["motor_boat"]),new rd("","Places",["speedboat"]),new rd("","Places",["passenger_ship"]),new rd("","Places",["ferry"]),new rd("","Places",["ship"]),new rd("","Places",["anchor"]),new rd("","Places",["construction"]),new rd("","Places",["fuelpump"]),new rd("","Places",["busstop"]),new rd("","Places",["vertical_traffic_light"]),new rd("","Places",["traffic_light"]),new rd("","Places",["world_map"]),new rd("","Places",["moyai"]),new rd("","Places",["statue_of_liberty"]),new rd("","Places",["fountain"]),new rd("","Places",["tokyo_tower"]),new rd("","Places",["european_castle"]),new rd("","Places",["japanese_castle"]),new rd("","Places",["stadium"]),new rd("","Places",["ferris_wheel"]),new rd("","Places",["roller_coaster"]),new rd("","Places",["carousel_horse"]),new rd("","Places",["parasol_on_ground"]),new rd("","Places",["beach_umbrella"]),new rd("","Places",["desert_island"]),new rd("","Places",["mountain"]),new rd("","Places",["mountain_snow"]),new rd("","Places",["mount_fuji"]),new rd("","Places",["volcano"]),new rd("","Places",["desert"]),new rd("","Places",["camping"]),new rd("","Places",["tent"]),new rd("","Places",["railway_track"]),new rd("","Places",["motorway"]),new rd("","Places",["building_construction"]),new rd("","Places",["factory"]),new rd("","Places",["house"]),new rd("","Places",["house_with_garden"]),new rd("","Places",["houses"]),new rd("","Places",["derelict_house"]),new rd("","Places",["office"]),new rd("","Places",["department_store"]),new rd("","Places",["post_office"]),new rd("","Places",["european_post_office"]),new rd("","Places",["hospital"]),new rd("","Places",["bank"]),new rd("","Places",["hotel"]),new rd("","Places",["convenience_store"]),new rd("","Places",["school"]),new rd("","Places",["love_hotel"]),new rd("","Places",["wedding"]),new rd("","Places",["classical_building"]),new rd("","Places",["church"]),new rd("","Places",["mosque"]),new rd("","Places",["synagogue"]),new rd("","Places",["kaaba"]),new rd("","Places",["shinto_shrine"]),new rd("","Places",["japan"]),new rd("","Places",["rice_scene"]),new rd("","Places",["national_park"]),new rd("","Places",["sunrise"]),new rd("","Places",["sunrise_over_mountains"]),new rd("","Places",["stars"]),new rd("","Places",["sparkler"]),new rd("","Places",["fireworks"]),new rd("","Places",["city_sunrise"]),new rd("","Places",["city_sunset"]),new rd("","Places",["cityscape"]),new rd("","Places",["night_with_stars"]),new rd("","Places",["milky_way"]),new rd("","Places",["bridge_at_night"]),new rd("","Places",["foggy"]),new rd("","Objects",["watch"]),new rd("","Objects",["iphone"]),new rd("","Objects",["calling"]),new rd("","Objects",["computer"]),new rd("","Objects",["keyboard"]),new rd("","Objects",["desktop_computer"]),new rd("","Objects",["printer"]),new rd("","Objects",["computer_mouse"]),new rd("","Objects",["trackball"]),new rd("","Objects",["joystick"]),new rd("","Objects",["clamp"]),new rd("","Objects",["minidisc"]),new rd("","Objects",["floppy_disk"]),new rd("","Objects",["cd"]),new rd("","Objects",["dvd"]),new rd("","Objects",["vhs"]),new rd("","Objects",["camera"]),new rd("","Objects",["camera_flash"]),new rd("","Objects",["video_camera"]),new rd("","Objects",["movie_camera"]),new rd("","Objects",["film_projector"]),new rd("","Objects",["film_strip"]),new rd("","Objects",["telephone_receiver"]),new rd("","Objects",["phone","telephone"]),new rd("","Objects",["pager"]),new rd("","Objects",["fax"]),new rd("","Objects",["tv"]),new rd("","Objects",["radio"]),new rd("","Objects",["studio_microphone"]),new rd("","Objects",["level_slider"]),new rd("","Objects",["control_knobs"]),new rd("","Objects",["stopwatch"]),new rd("","Objects",["timer_clock"]),new rd("","Objects",["alarm_clock"]),new rd("","Objects",["mantelpiece_clock"]),new rd("","Objects",["hourglass"]),new rd("","Objects",["hourglass_flowing_sand"]),new rd("","Objects",["satellite"]),new rd("","Objects",["battery"]),new rd("","Objects",["electric_plug"]),new rd("","Objects",["bulb"]),new rd("","Objects",["flashlight"]),new rd("","Objects",["candle"]),new rd("","Objects",["wastebasket"]),new rd("","Objects",["oil_drum"]),new rd("","Objects",["money_with_wings"]),new rd("","Objects",["dollar"]),new rd("","Objects",["yen"]),new rd("","Objects",["euro"]),new rd("","Objects",["pound"]),new rd("","Objects",["moneybag"]),new rd("","Objects",["credit_card"]),new rd("","Objects",["gem"]),new rd("","Objects",["balance_scale"]),new rd("","Objects",["wrench"]),new rd("","Objects",["hammer"]),new rd("","Objects",["hammer_and_pick"]),new rd("","Objects",["hammer_and_wrench"]),new rd("","Objects",["pick"]),new rd("","Objects",["nut_and_bolt"]),new rd("","Objects",["gear"]),new rd("","Objects",["chains"]),new rd("","Objects",["gun"]),new rd("","Objects",["bomb"]),new rd("","Objects",["hocho","knife"]),new rd("","Objects",["dagger"]),new rd("","Objects",["crossed_swords"]),new rd("","Objects",["shield"]),new rd("","Objects",["smoking"]),new rd("","Objects",["coffin"]),new rd("","Objects",["funeral_urn"]),new rd("","Objects",["amphora"]),new rd("","Objects",["crystal_ball"]),new rd("","Objects",["prayer_beads"]),new rd("","Objects",["barber"]),new rd("","Objects",["alembic"]),new rd("","Objects",["telescope"]),new rd("","Objects",["microscope"]),new rd("","Objects",["hole"]),new rd("","Objects",["pill"]),new rd("","Objects",["syringe"]),new rd("","Objects",["thermometer"]),new rd("","Objects",["toilet"]),new rd("","Objects",["potable_water"]),new rd("","Objects",["shower"]),new rd("","Objects",["bathtub"]),new rd("","Objects",["bath"]),new rd("","Objects",["bellhop_bell"]),new rd("","Objects",["key"]),new rd("","Objects",["old_key"]),new rd("","Objects",["door"]),new rd("","Objects",["couch_and_lamp"]),new rd("","Objects",["bed"]),new rd("","Objects",["sleeping_bed"]),new rd("","Objects",["framed_picture"]),new rd("","Objects",["shopping"]),new rd("","Objects",["shopping_cart"]),new rd("","Objects",["gift"]),new rd("","Objects",["balloon"]),new rd("","Objects",["flags"]),new rd("","Objects",["ribbon"]),new rd("","Objects",["confetti_ball"]),new rd("","Objects",["tada"]),new rd("","Objects",["dolls"]),new rd("","Objects",["izakaya_lantern","lantern"]),new rd("","Objects",["wind_chime"]),new rd("","Objects",["email","envelope"]),new rd("","Objects",["envelope_with_arrow"]),new rd("","Objects",["incoming_envelope"]),new rd("","Objects",["e-mail"]),new rd("","Objects",["love_letter"]),new rd("","Objects",["inbox_tray"]),new rd("","Objects",["outbox_tray"]),new rd("","Objects",["package"]),new rd("","Objects",["label"]),new rd("","Objects",["mailbox_closed"]),new rd("","Objects",["mailbox"]),new rd("","Objects",["mailbox_with_mail"]),new rd("","Objects",["mailbox_with_no_mail"]),new rd("","Objects",["postbox"]),new rd("","Objects",["postal_horn"]),new rd("","Objects",["scroll"]),new rd("","Objects",["page_with_curl"]),new rd("","Objects",["page_facing_up"]),new rd("","Objects",["bookmark_tabs"]),new rd("","Objects",["bar_chart"]),new rd("","Objects",["chart_with_upwards_trend"]),new rd("","Objects",["chart_with_downwards_trend"]),new rd("","Objects",["spiral_notepad"]),new rd("","Objects",["spiral_calendar"]),new rd("","Objects",["calendar"]),new rd("","Objects",["date"]),new rd("","Objects",["card_index"]),new rd("","Objects",["card_file_box"]),new rd("","Objects",["ballot_box"]),new rd("","Objects",["file_cabinet"]),new rd("","Objects",["clipboard"]),new rd("","Objects",["file_folder"]),new rd("","Objects",["open_file_folder"]),new rd("","Objects",["card_index_dividers"]),new rd("","Objects",["newspaper_roll"]),new rd("","Objects",["newspaper"]),new rd("","Objects",["notebook"]),new rd("","Objects",["notebook_with_decorative_cover"]),new rd("","Objects",["ledger"]),new rd("","Objects",["closed_book"]),new rd("","Objects",["green_book"]),new rd("","Objects",["blue_book"]),new rd("","Objects",["orange_book"]),new rd("","Objects",["books"]),new rd("","Objects",["book","open_book"]),new rd("","Objects",["bookmark"]),new rd("","Objects",["link"]),new rd("","Objects",["paperclip"]),new rd("","Objects",["paperclips"]),new rd("","Objects",["triangular_ruler"]),new rd("","Objects",["straight_ruler"]),new rd("","Objects",["pushpin"]),new rd("","Objects",["round_pushpin"]),new rd("","Objects",["scissors"]),new rd("","Objects",["pen"]),new rd("","Objects",["fountain_pen"]),new rd("","Objects",["black_nib"]),new rd("","Objects",["paintbrush"]),new rd("","Objects",["crayon"]),new rd("","Objects",["memo","pencil"]),new rd("","Objects",["pencil2"]),new rd("","Objects",["mag"]),new rd("","Objects",["mag_right"]),new rd("","Objects",["lock_with_ink_pen"]),new rd("","Objects",["closed_lock_with_key"]),new rd("","Objects",["lock"]),new rd("","Objects",["unlock"]),new rd("","Symbols",["heart"]),new rd("","Symbols",["yellow_heart"]),new rd("","Symbols",["green_heart"]),new rd("","Symbols",["blue_heart"]),new rd("","Symbols",["purple_heart"]),new rd("","Symbols",["black_heart"]),new rd("","Symbols",["broken_heart"]),new rd("","Symbols",["heavy_heart_exclamation"]),new rd("","Symbols",["two_hearts"]),new rd("","Symbols",["revolving_hearts"]),new rd("","Symbols",["heartbeat"]),new rd("","Symbols",["heartpulse"]),new rd("","Symbols",["sparkling_heart"]),new rd("","Symbols",["cupid"]),new rd("","Symbols",["gift_heart"]),new rd("","Symbols",["heart_decoration"]),new rd("","Symbols",["peace_symbol"]),new rd("","Symbols",["latin_cross"]),new rd("","Symbols",["star_and_crescent"]),new rd("","Symbols",["om"]),new rd("","Symbols",["wheel_of_dharma"]),new rd("","Symbols",["star_of_david"]),new rd("","Symbols",["six_pointed_star"]),new rd("","Symbols",["menorah"]),new rd("","Symbols",["yin_yang"]),new rd("","Symbols",["orthodox_cross"]),new rd("","Symbols",["place_of_worship"]),new rd("","Symbols",["ophiuchus"]),new rd("","Symbols",["aries"]),new rd("","Symbols",["taurus"]),new rd("","Symbols",["gemini"]),new rd("","Symbols",["cancer"]),new rd("","Symbols",["leo"]),new rd("","Symbols",["virgo"]),new rd("","Symbols",["libra"]),new rd("","Symbols",["scorpius"]),new rd("","Symbols",["sagittarius"]),new rd("","Symbols",["capricorn"]),new rd("","Symbols",["aquarius"]),new rd("","Symbols",["pisces"]),new rd("","Symbols",["id"]),new rd("","Symbols",["atom_symbol"]),new rd("","Symbols",["accept"]),new rd("","Symbols",["radioactive"]),new rd("","Symbols",["biohazard"]),new rd("","Symbols",["mobile_phone_off"]),new rd("","Symbols",["vibration_mode"]),new rd("","Symbols",["u6709"]),new rd("","Symbols",["u7121"]),new rd("","Symbols",["u7533"]),new rd("","Symbols",["u55b6"]),new rd("","Symbols",["u6708"]),new rd("","Symbols",["eight_pointed_black_star"]),new rd("","Symbols",["vs"]),new rd("","Symbols",["white_flower"]),new rd("","Symbols",["ideograph_advantage"]),new rd("","Symbols",["secret"]),new rd("","Symbols",["congratulations"]),new rd("","Symbols",["u5408"]),new rd("","Symbols",["u6e80"]),new rd("","Symbols",["u5272"]),new rd("","Symbols",["u7981"]),new rd("","Symbols",["a"]),new rd("","Symbols",["b"]),new rd("","Symbols",["ab"]),new rd("","Symbols",["cl"]),new rd("","Symbols",["o2"]),new rd("","Symbols",["sos"]),new rd("","Symbols",["x"]),new rd("","Symbols",["o"]),new rd("","Symbols",["stop_sign"]),new rd("","Symbols",["no_entry"]),new rd("","Symbols",["name_badge"]),new rd("","Symbols",["no_entry_sign"]),new rd("","Symbols",["100"]),new rd("","Symbols",["anger"]),new rd("","Symbols",["hotsprings"]),new rd("","Symbols",["no_pedestrians"]),new rd("","Symbols",["do_not_litter"]),new rd("","Symbols",["no_bicycles"]),new rd("","Symbols",["non-potable_water"]),new rd("","Symbols",["underage"]),new rd("","Symbols",["no_mobile_phones"]),new rd("","Symbols",["no_smoking"]),new rd("","Symbols",["exclamation","heavy_exclamation_mark"]),new rd("","Symbols",["grey_exclamation"]),new rd("","Symbols",["question"]),new rd("","Symbols",["grey_question"]),new rd("","Symbols",["bangbang"]),new rd("","Symbols",["interrobang"]),new rd("","Symbols",["low_brightness"]),new rd("","Symbols",["high_brightness"]),new rd("","Symbols",["part_alternation_mark"]),new rd("","Symbols",["warning"]),new rd("","Symbols",["children_crossing"]),new rd("","Symbols",["trident"]),new rd("","Symbols",["fleur_de_lis"]),new rd("","Symbols",["beginner"]),new rd("","Symbols",["recycle"]),new rd("","Symbols",["white_check_mark"]),new rd("","Symbols",["u6307"]),new rd("","Symbols",["chart"]),new rd("","Symbols",["sparkle"]),new rd("","Symbols",["eight_spoked_asterisk"]),new rd("","Symbols",["negative_squared_cross_mark"]),new rd("","Symbols",["globe_with_meridians"]),new rd("","Symbols",["diamond_shape_with_a_dot_inside"]),new rd("","Symbols",["m"]),new rd("","Symbols",["cyclone"]),new rd("","Symbols",["zzz"]),new rd("","Symbols",["atm"]),new rd("","Symbols",["wc"]),new rd("","Symbols",["wheelchair"]),new rd("","Symbols",["parking"]),new rd("","Symbols",["u7a7a"]),new rd("","Symbols",["sa"]),new rd("","Symbols",["passport_control"]),new rd("","Symbols",["customs"]),new rd("","Symbols",["baggage_claim"]),new rd("","Symbols",["left_luggage"]),new rd("","Symbols",["mens"]),new rd("","Symbols",["womens"]),new rd("","Symbols",["baby_symbol"]),new rd("","Symbols",["restroom"]),new rd("","Symbols",["put_litter_in_its_place"]),new rd("","Symbols",["cinema"]),new rd("","Symbols",["signal_strength"]),new rd("","Symbols",["koko"]),new rd("","Symbols",["symbols"]),new rd("","Symbols",["information_source"]),new rd("","Symbols",["abc"]),new rd("","Symbols",["abcd"]),new rd("","Symbols",["capital_abcd"]),new rd("","Symbols",["ng"]),new rd("","Symbols",["ok"]),new rd("","Symbols",["up"]),new rd("","Symbols",["cool"]),new rd("","Symbols",["new"]),new rd("","Symbols",["free"]),new rd("0","Symbols",["zero"]),new rd("1","Symbols",["one"]),new rd("2","Symbols",["two"]),new rd("3","Symbols",["three"]),new rd("4","Symbols",["four"]),new rd("5","Symbols",["five"]),new rd("6","Symbols",["six"]),new rd("7","Symbols",["seven"]),new rd("8","Symbols",["eight"]),new rd("9","Symbols",["nine"]),new rd("","Symbols",["keycap_ten"]),new rd("","Symbols",["1234"]),new rd("#","Symbols",["hash"]),new rd("*","Symbols",["asterisk"]),new rd("","Symbols",["arrow_forward"]),new rd("","Symbols",["pause_button"]),new rd("","Symbols",["play_or_pause_button"]),new rd("","Symbols",["stop_button"]),new rd("","Symbols",["record_button"]),new rd("","Symbols",["next_track_button"]),new rd("","Symbols",["previous_track_button"]),new rd("","Symbols",["fast_forward"]),new rd("","Symbols",["rewind"]),new rd("","Symbols",["arrow_double_up"]),new rd("","Symbols",["arrow_double_down"]),new rd("","Symbols",["arrow_backward"]),new rd("","Symbols",["arrow_up_small"]),new rd("","Symbols",["arrow_down_small"]),new rd("","Symbols",["arrow_right"]),new rd("","Symbols",["arrow_left"]),new rd("","Symbols",["arrow_up"]),new rd("","Symbols",["arrow_down"]),new rd("","Symbols",["arrow_upper_right"]),new rd("","Symbols",["arrow_lower_right"]),new rd("","Symbols",["arrow_lower_left"]),new rd("","Symbols",["arrow_upper_left"]),new rd("","Symbols",["arrow_up_down"]),new rd("","Symbols",["left_right_arrow"]),new rd("","Symbols",["arrow_right_hook"]),new rd("","Symbols",["leftwards_arrow_with_hook"]),new rd("","Symbols",["arrow_heading_up"]),new rd("","Symbols",["arrow_heading_down"]),new rd("","Symbols",["twisted_rightwards_arrows"]),new rd("","Symbols",["repeat"]),new rd("","Symbols",["repeat_one"]),new rd("","Symbols",["arrows_counterclockwise"]),new rd("","Symbols",["arrows_clockwise"]),new rd("","Symbols",["musical_note"]),new rd("","Symbols",["notes"]),new rd("","Symbols",["heavy_plus_sign"]),new rd("","Symbols",["heavy_minus_sign"]),new rd("","Symbols",["heavy_division_sign"]),new rd("","Symbols",["heavy_multiplication_x"]),new rd("","Symbols",["heavy_dollar_sign"]),new rd("","Symbols",["currency_exchange"]),new rd("","Symbols",["tm"]),new rd("","Symbols",["copyright"]),new rd("","Symbols",["registered"]),new rd("","Symbols",["wavy_dash"]),new rd("","Symbols",["curly_loop"]),new rd("","Symbols",["loop"]),new rd("","Symbols",["end"]),new rd("","Symbols",["back"]),new rd("","Symbols",["on"]),new rd("","Symbols",["top"]),new rd("","Symbols",["soon"]),new rd("","Symbols",["heavy_check_mark"]),new rd("","Symbols",["ballot_box_with_check"]),new rd("","Symbols",["radio_button"]),new rd("","Symbols",["white_circle"]),new rd("","Symbols",["black_circle"]),new rd("","Symbols",["red_circle"]),new rd("","Symbols",["large_blue_circle"]),new rd("","Symbols",["small_red_triangle"]),new rd("","Symbols",["small_red_triangle_down"]),new rd("","Symbols",["small_orange_diamond"]),new rd("","Symbols",["small_blue_diamond"]),new rd("","Symbols",["large_orange_diamond"]),new rd("","Symbols",["large_blue_diamond"]),new rd("","Symbols",["white_square_button"]),new rd("","Symbols",["black_square_button"]),new rd("","Symbols",["black_small_square"]),new rd("","Symbols",["white_small_square"]),new rd("","Symbols",["black_medium_small_square"]),new rd("","Symbols",["white_medium_small_square"]),new rd("","Symbols",["black_medium_square"]),new rd("","Symbols",["white_medium_square"]),new rd("","Symbols",["black_large_square"]),new rd("","Symbols",["white_large_square"]),new rd("","Symbols",["speaker"]),new rd("","Symbols",["mute"]),new rd("","Symbols",["sound"]),new rd("","Symbols",["loud_sound"]),new rd("","Symbols",["bell"]),new rd("","Symbols",["no_bell"]),new rd("","Symbols",["mega"]),new rd("","Symbols",["loudspeaker"]),new rd("","Symbols",["eye_speech_bubble"]),new rd("","Symbols",["speech_balloon"]),new rd("","Symbols",["thought_balloon"]),new rd("","Symbols",["right_anger_bubble"]),new rd("","Symbols",["spades"]),new rd("","Symbols",["clubs"]),new rd("","Symbols",["hearts"]),new rd("","Symbols",["diamonds"]),new rd("","Symbols",["black_joker"]),new rd("","Symbols",["flower_playing_cards"]),new rd("","Symbols",["mahjong"]),new rd("","Symbols",["clock1"]),new rd("","Symbols",["clock2"]),new rd("","Symbols",["clock3"]),new rd("","Symbols",["clock4"]),new rd("","Symbols",["clock5"]),new rd("","Symbols",["clock6"]),new rd("","Symbols",["clock7"]),new rd("","Symbols",["clock8"]),new rd("","Symbols",["clock9"]),new rd("","Symbols",["clock10"]),new rd("","Symbols",["clock11"]),new rd("","Symbols",["clock12"]),new rd("","Symbols",["clock130"]),new rd("","Symbols",["clock230"]),new rd("","Symbols",["clock330"]),new rd("","Symbols",["clock430"]),new rd("","Symbols",["clock530"]),new rd("","Symbols",["clock630"]),new rd("","Symbols",["clock730"]),new rd("","Symbols",["clock830"]),new rd("","Symbols",["clock930"]),new rd("","Symbols",["clock1030"]),new rd("","Symbols",["clock1130"]),new rd("","Symbols",["clock1230"]),new rd("","Flags",["white_flag"]),new rd("","Flags",["black_flag"]),new rd("","Flags",["checkered_flag"]),new rd("","Flags",["triangular_flag_on_post"]),new rd("","Flags",["rainbow_flag"]),new rd("","Flags",["afghanistan"]),new rd("","Flags",["aland_islands"]),new rd("","Flags",["albania"]),new rd("","Flags",["algeria"]),new rd("","Flags",["american_samoa"]),new rd("","Flags",["andorra"]),new rd("","Flags",["angola"]),new rd("","Flags",["anguilla"]),new rd("","Flags",["antarctica"]),new rd("","Flags",["antigua_barbuda"]),new rd("","Flags",["argentina"]),new rd("","Flags",["armenia"]),new rd("","Flags",["aruba"]),new rd("","Flags",["australia"]),new rd("","Flags",["austria"]),new rd("","Flags",["azerbaijan"]),new rd("","Flags",["bahamas"]),new rd("","Flags",["bahrain"]),new rd("","Flags",["bangladesh"]),new rd("","Flags",["barbados"]),new rd("","Flags",["belarus"]),new rd("","Flags",["belgium"]),new rd("","Flags",["belize"]),new rd("","Flags",["benin"]),new rd("","Flags",["bermuda"]),new rd("","Flags",["bhutan"]),new rd("","Flags",["bolivia"]),new rd("","Flags",["caribbean_netherlands"]),new rd("","Flags",["bosnia_herzegovina"]),new rd("","Flags",["botswana"]),new rd("","Flags",["brazil"]),new rd("","Flags",["british_indian_ocean_territory"]),new rd("","Flags",["british_virgin_islands"]),new rd("","Flags",["brunei"]),new rd("","Flags",["bulgaria"]),new rd("","Flags",["burkina_faso"]),new rd("","Flags",["burundi"]),new rd("","Flags",["cape_verde"]),new rd("","Flags",["cambodia"]),new rd("","Flags",["cameroon"]),new rd("","Flags",["canada"]),new rd("","Flags",["canary_islands"]),new rd("","Flags",["cayman_islands"]),new rd("","Flags",["central_african_republic"]),new rd("","Flags",["chad"]),new rd("","Flags",["chile"]),new rd("","Flags",["cn"]),new rd("","Flags",["christmas_island"]),new rd("","Flags",["cocos_islands"]),new rd("","Flags",["colombia"]),new rd("","Flags",["comoros"]),new rd("","Flags",["congo_brazzaville"]),new rd("","Flags",["congo_kinshasa"]),new rd("","Flags",["cook_islands"]),new rd("","Flags",["costa_rica"]),new rd("","Flags",["cote_divoire"]),new rd("","Flags",["croatia"]),new rd("","Flags",["cuba"]),new rd("","Flags",["curacao"]),new rd("","Flags",["cyprus"]),new rd("","Flags",["czech_republic"]),new rd("","Flags",["denmark"]),new rd("","Flags",["djibouti"]),new rd("","Flags",["dominica"]),new rd("","Flags",["dominican_republic"]),new rd("","Flags",["ecuador"]),new rd("","Flags",["egypt"]),new rd("","Flags",["el_salvador"]),new rd("","Flags",["equatorial_guinea"]),new rd("","Flags",["eritrea"]),new rd("","Flags",["estonia"]),new rd("","Flags",["ethiopia"]),new rd("","Flags",["eu","european_union"]),new rd("","Flags",["falkland_islands"]),new rd("","Flags",["faroe_islands"]),new rd("","Flags",["fiji"]),new rd("","Flags",["finland"]),new rd("","Flags",["fr"]),new rd("","Flags",["french_guiana"]),new rd("","Flags",["french_polynesia"]),new rd("","Flags",["french_southern_territories"]),new rd("","Flags",["gabon"]),new rd("","Flags",["gambia"]),new rd("","Flags",["georgia"]),new rd("","Flags",["de"]),new rd("","Flags",["ghana"]),new rd("","Flags",["gibraltar"]),new rd("","Flags",["greece"]),new rd("","Flags",["greenland"]),new rd("","Flags",["grenada"]),new rd("","Flags",["guadeloupe"]),new rd("","Flags",["guam"]),new rd("","Flags",["guatemala"]),new rd("","Flags",["guernsey"]),new rd("","Flags",["guinea"]),new rd("","Flags",["guinea_bissau"]),new rd("","Flags",["guyana"]),new rd("","Flags",["haiti"]),new rd("","Flags",["honduras"]),new rd("","Flags",["hong_kong"]),new rd("","Flags",["hungary"]),new rd("","Flags",["iceland"]),new rd("","Flags",["india"]),new rd("","Flags",["indonesia"]),new rd("","Flags",["iran"]),new rd("","Flags",["iraq"]),new rd("","Flags",["ireland"]),new rd("","Flags",["isle_of_man"]),new rd("","Flags",["israel"]),new rd("","Flags",["it"]),new rd("","Flags",["jamaica"]),new rd("","Flags",["jp"]),new rd("","Flags",["crossed_flags"]),new rd("","Flags",["jersey"]),new rd("","Flags",["jordan"]),new rd("","Flags",["kazakhstan"]),new rd("","Flags",["kenya"]),new rd("","Flags",["kiribati"]),new rd("","Flags",["kosovo"]),new rd("","Flags",["kuwait"]),new rd("","Flags",["kyrgyzstan"]),new rd("","Flags",["laos"]),new rd("","Flags",["latvia"]),new rd("","Flags",["lebanon"]),new rd("","Flags",["lesotho"]),new rd("","Flags",["liberia"]),new rd("","Flags",["libya"]),new rd("","Flags",["liechtenstein"]),new rd("","Flags",["lithuania"]),new rd("","Flags",["luxembourg"]),new rd("","Flags",["macau"]),new rd("","Flags",["macedonia"]),new rd("","Flags",["madagascar"]),new rd("","Flags",["malawi"]),new rd("","Flags",["malaysia"]),new rd("","Flags",["maldives"]),new rd("","Flags",["mali"]),new rd("","Flags",["malta"]),new rd("","Flags",["marshall_islands"]),new rd("","Flags",["martinique"]),new rd("","Flags",["mauritania"]),new rd("","Flags",["mauritius"]),new rd("","Flags",["mayotte"]),new rd("","Flags",["mexico"]),new rd("","Flags",["micronesia"]),new rd("","Flags",["moldova"]),new rd("","Flags",["monaco"]),new rd("","Flags",["mongolia"]),new rd("","Flags",["montenegro"]),new rd("","Flags",["montserrat"]),new rd("","Flags",["morocco"]),new rd("","Flags",["mozambique"]),new rd("","Flags",["myanmar"]),new rd("","Flags",["namibia"]),new rd("","Flags",["nauru"]),new rd("","Flags",["nepal"]),new rd("","Flags",["netherlands"]),new rd("","Flags",["new_caledonia"]),new rd("","Flags",["new_zealand"]),new rd("","Flags",["nicaragua"]),new rd("","Flags",["niger"]),new rd("","Flags",["nigeria"]),new rd("","Flags",["niue"]),new rd("","Flags",["norfolk_island"]),new rd("","Flags",["northern_mariana_islands"]),new rd("","Flags",["north_korea"]),new rd("","Flags",["norway"]),new rd("","Flags",["oman"]),new rd("","Flags",["pakistan"]),new rd("","Flags",["palau"]),new rd("","Flags",["palestinian_territories"]),new rd("","Flags",["panama"]),new rd("","Flags",["papua_new_guinea"]),new rd("","Flags",["paraguay"]),new rd("","Flags",["peru"]),new rd("","Flags",["philippines"]),new rd("","Flags",["pitcairn_islands"]),new rd("","Flags",["poland"]),new rd("","Flags",["portugal"]),new rd("","Flags",["puerto_rico"]),new rd("","Flags",["qatar"]),new rd("","Flags",["reunion"]),new rd("","Flags",["romania"]),new rd("","Flags",["ru"]),new rd("","Flags",["rwanda"]),new rd("","Flags",["st_barthelemy"]),new rd("","Flags",["st_helena"]),new rd("","Flags",["st_kitts_nevis"]),new rd("","Flags",["st_lucia"]),new rd("","Flags",["st_pierre_miquelon"]),new rd("","Flags",["st_vincent_grenadines"]),new rd("","Flags",["samoa"]),new rd("","Flags",["san_marino"]),new rd("","Flags",["sao_tome_principe"]),new rd("","Flags",["saudi_arabia"]),new rd("","Flags",["senegal"]),new rd("","Flags",["serbia"]),new rd("","Flags",["seychelles"]),new rd("","Flags",["sierra_leone"]),new rd("","Flags",["singapore"]),new rd("","Flags",["sint_maarten"]),new rd("","Flags",["slovakia"]),new rd("","Flags",["slovenia"]),new rd("","Flags",["solomon_islands"]),new rd("","Flags",["somalia"]),new rd("","Flags",["south_africa"]),new rd("","Flags",["south_georgia_south_sandwich_islands"]),new rd("","Flags",["kr"]),new rd("","Flags",["south_sudan"]),new rd("","Flags",["es"]),new rd("","Flags",["sri_lanka"]),new rd("","Flags",["sudan"]),new rd("","Flags",["suriname"]),new rd("","Flags",["swaziland"]),new rd("","Flags",["sweden"]),new rd("","Flags",["switzerland"]),new rd("","Flags",["syria"]),new rd("","Flags",["taiwan"]),new rd("","Flags",["tajikistan"]),new rd("","Flags",["tanzania"]),new rd("","Flags",["thailand"]),new rd("","Flags",["timor_leste"]),new rd("","Flags",["togo"]),new rd("","Flags",["tokelau"]),new rd("","Flags",["tonga"]),new rd("","Flags",["trinidad_tobago"]),new rd("","Flags",["tunisia"]),new rd("","Flags",["tr"]),new rd("","Flags",["turkmenistan"]),new rd("","Flags",["turks_caicos_islands"]),new rd("","Flags",["tuvalu"]),new rd("","Flags",["uganda"]),new rd("","Flags",["ukraine"]),new rd("","Flags",["united_arab_emirates"]),new rd("","Flags",["gb","uk"]),new rd("","Flags",["us"]),new rd("","Flags",["us_virgin_islands"]),new rd("","Flags",["uruguay"]),new rd("","Flags",["uzbekistan"]),new rd("","Flags",["vanuatu"]),new rd("","Flags",["vatican_city"]),new rd("","Flags",["venezuela"]),new rd("","Flags",["vietnam"]),new rd("","Flags",["wallis_futuna"]),new rd("","Flags",["western_sahara"]),new rd("","Flags",["yemen"]),new rd("","Flags",["zambia"]),new rd("","Flags",["zimbabwe"])],sd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lu(t,e),Object.defineProperty(t.prototype,"styleSVG",{get:function(){return zu({},this.styles)},enumerable:!1,configurable:!0}),Iu([G({required:!0})],t.prototype,"label",void 0),Iu([G({required:!0})],t.prototype,"icon",void 0),Iu([G({})],t.prototype,"styles",void 0),t=Iu([H({})],t)}(r.default);function ad(e,t,n,o,r,i,s,a,l,c){"boolean"!=typeof s&&(l=a,a=s,s=!1);const u="function"==typeof n?n.options:n;let d;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),o&&(u._scopeId=o),i?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=d):t&&(d=s?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),d)if(u.functional){const e=u.render;u.render=function(t,n){return d.call(n),e(t,n)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,d):[d]}return n}const ld="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function cd(e){return(e,t)=>function(e,t){const n=ld?t.media||"default":e,o=dd[n]||(dd[n]={ids:new Set,styles:[]});if(!o.ids.has(e)){o.ids.add(e);let n=t.source;if(t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),o.element||(o.element=document.createElement("style"),o.element.type="text/css",t.media&&o.element.setAttribute("media",t.media),void 0===ud&&(ud=document.head||document.getElementsByTagName("head")[0]),ud.appendChild(o.element)),"styleSheet"in o.element)o.styles.push(n),o.element.styleSheet.cssText=o.styles.filter(Boolean).join("\n");else{const e=o.ids.size-1,t=document.createTextNode(n),r=o.element.childNodes;r[e]&&o.element.removeChild(r[e]),r.length?o.element.insertBefore(t,r[e]):o.element.appendChild(t)}}}(e,t)}let ud;const dd={};const hd=ad({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"svg",style:e.styleSVG,attrs:{title:e.label},domProps:{innerHTML:e._s(e.icon)}})},staticRenderFns:[]},(function(e){e&&e("data-v-3d397e3a_0",{source:".svg[data-v-3d397e3a]{display:inline-block;vertical-align:middle}",map:void 0,media:void 0})}),sd,"data-v-3d397e3a",false,undefined,!1,cd,void 0,void 0);var pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lu(t,e),t.prototype.onSelect=function(e){return e},Iu([G({})],t.prototype,"categories",void 0),Iu([G({})],t.prototype,"current",void 0),Iu([W("select")],t.prototype,"onSelect",null),t=Iu([H({components:{CategoryItem:hd}})],t)}(r.default);const fd=ad({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"Categories"}},e._l(e.categories,(function(t,o){return n("div",{key:o,class:["category",{active:t.name===e.current}],on:{click:function(n){return e.onSelect(t)}}},[n("CategoryItem",{attrs:{label:t.label,icon:t.icon}})],1)})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-6d975e7c_0",{source:"#Categories[data-v-6d975e7c]{display:flex;width:100%;flex-direction:row;align-items:center;border-bottom:1px solid var(--ep-color-border);background:var(--ep-color-bg);overflow-x:auto}.category[data-v-6d975e7c]{flex:1;padding:5px;text-align:center;cursor:pointer}.category.active[data-v-6d975e7c]{border-bottom:3px solid var(--ep-color-active);filter:saturate(3);padding-bottom:2px}.category>img[data-v-6d975e7c]{width:22px;height:22px}.category[data-v-6d975e7c]:hover{filter:saturate(3)}",map:void 0,media:void 0})}),pd,"data-v-6d975e7c",false,undefined,!1,cd,void 0,void 0);var md=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lu(t,e),Object.defineProperty(t.prototype,"styleSize",{get:function(){return{fontSize:this.size-5+"px",lineHeight:this.size+"px",height:this.size+"px",width:this.size+"px"}},enumerable:!1,configurable:!0}),Iu([G({})],t.prototype,"emoji",void 0),Iu([G({})],t.prototype,"size",void 0),Iu([G({})],t.prototype,"withBorder",void 0),t=Iu([H({})],t)}(r.default);const gd=ad({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{class:["emoji",{border:e.withBorder}],style:e.styleSize,domProps:{innerHTML:e._s(e.emoji.data)}})},staticRenderFns:[]},(function(e){e&&e("data-v-5a35c3ac_0",{source:".emoji[data-v-5a35c3ac]{display:inline-block;text-align:center;padding:3px;box-sizing:content-box;overflow:hidden;transition:transform .2s;cursor:pointer}.emoji[data-v-5a35c3ac]:hover{transform:scale(1.05)}.border[data-v-5a35c3ac]:hover{background:#00000010;border-radius:8px}",map:void 0,media:void 0})}),md,"data-v-5a35c3ac",false,undefined,!1,cd,void 0,void 0);var wd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lu(t,e),Iu([G({required:!0})],t.prototype,"name",void 0),t=Iu([H({})],t)}(r.default);const yd=ad({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"category-title"},[e._v(e._s(e.name))])},staticRenderFns:[]},(function(e){e&&e("data-v-b863a738_0",{source:".category-title[data-v-b863a738]{text-transform:uppercase;font-size:.8em;padding:5px 0 0 16px;color:#676666}.category-title[data-v-b863a738]:not(:first-of-type){padding:10px 0 0 16px}",map:void 0,media:void 0})}),wd,"data-v-b863a738",false,undefined,!1,cd,void 0,void 0);var bd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lu(t,e),t.prototype.searchByAlias=function(e,t){return t.aliases.some((function(t){return function(t){return t.toLowerCase().includes(e)}(t)}))},t.prototype.calcScrollTop=function(){return this.hasSearch?88:44},Object.defineProperty(t.prototype,"gridDynamic",{get:function(){var e=100/this.emojisByRow;return{gridTemplateColumns:"repeat("+this.emojisByRow+", "+e+"%)"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataFiltered",{get:function(){var e=this,t=this.data[this.category],n=this.filter.trim().toLowerCase();return n&&(t=t.filter((function(t){return e.searchByAlias(n,t)}))),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataFilteredByCategory",{get:function(){var e=this,t=Object.assign({},this.data),n=this.filter.trim().toLowerCase();return n&&this.categories.forEach((function(o){t[o]=e.data[o].filter((function(t){return e.searchByAlias(n,t)}))})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"categories",{get:function(){return Object.keys(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerEmoji",{get:function(){return this.$refs["container-emoji"]},enumerable:!1,configurable:!0}),t.prototype.onSelect=function(e){return e},t.prototype.onDataChanged=function(){this.containerEmoji.scrollTop=0},t.prototype.onCategoryChanged=function(e){if(this.continuousList){var t=this.$refs[e][0].$el;this.containerEmoji.scrollTop=t.offsetTop-this.calcScrollTop()}},Iu([G({required:!0})],t.prototype,"data",void 0),Iu([G({required:!0})],t.prototype,"emojisByRow",void 0),Iu([G({})],t.prototype,"emojiWithBorder",void 0),Iu([G({})],t.prototype,"emojiSize",void 0),Iu([G({})],t.prototype,"filter",void 0),Iu([G({})],t.prototype,"continuousList",void 0),Iu([G({})],t.prototype,"category",void 0),Iu([G({})],t.prototype,"hasSearch",void 0),Iu([W("select")],t.prototype,"onSelect",null),Iu([X("data")],t.prototype,"onDataChanged",null),Iu([X("category")],t.prototype,"onCategoryChanged",null),t=Iu([H({components:{EmojiItem:gd,CategoryLabel:yd}})],t)}(r.default);const vd=ad({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"Emojis"}},[n("div",{ref:"container-emoji",staticClass:"container-emoji"},[e.continuousList?e._l(e.dataFilteredByCategory,(function(t,o){return n("div",{key:o},[n("CategoryLabel",{directives:[{name:"show",rawName:"v-show",value:t.length,expression:"category.length"}],ref:o,refInFor:!0,attrs:{name:o}}),e._v(" "),t.length?n("div",{staticClass:"grid-emojis",style:e.gridDynamic},e._l(t,(function(t,r){return n("EmojiItem",{key:o+"-"+r,attrs:{emoji:t,size:e.emojiSize,withBorder:e.emojiWithBorder},nativeOn:{click:function(n){return e.onSelect(t)}}})})),1):e._e()],1)})):[n("div",{staticClass:"grid-emojis",style:e.gridDynamic},e._l(e.dataFiltered,(function(t,o){return n("EmojiItem",{key:o,attrs:{emoji:t,size:e.emojiSize,withBorder:e.emojiWithBorder},nativeOn:{click:function(n){return e.onSelect(t)}}})})),1)]],2)])},staticRenderFns:[]},(function(e){e&&e("data-v-5c988bee_0",{source:"#Emojis[data-v-5c988bee]{font-family:Twemoji,NotomojiColor,Notomoji,EmojiOne Color,Symbola,Noto,Segoe UI Emoji,OpenSansEmoji,monospace;display:block;width:100%;max-width:100%;color:var(--ep-color-text)}#Emojis[data-v-5c988bee] ::-webkit-scrollbar{border-radius:4px;width:4px;overflow:hidden}.container-emoji[data-v-5c988bee]{overflow-x:hidden;overflow-y:scroll;height:350px}.grid-emojis[data-v-5c988bee]{display:grid;margin:5px 0;justify-items:center}",map:void 0,media:void 0})}),bd,"data-v-5c988bee",false,undefined,!1,cd,void 0,void 0);var kd,Dd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputSearch="",t}return Lu(t,e),t.prototype.onInputChanged=function(e,t){var n=this;clearTimeout(kd),kd=setTimeout((function(){return n.$emit("update",e)}),500)},Object.defineProperty(t.prototype,"placeholder",{get:function(){return Wu("search")},enumerable:!1,configurable:!0}),Iu([X("inputSearch")],t.prototype,"onInputChanged",null),t=Iu([H({})],t)}(r.default);const xd=ad({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"InputSearch"}},[n("div",{staticClass:"container-search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputSearch,expression:"inputSearch"}],attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.inputSearch},on:{input:function(t){t.target.composing||(e.inputSearch=t.target.value)}}})])])},staticRenderFns:[]},(function(e){e&&e("data-v-839ecda0_0",{source:"#InputSearch[data-v-839ecda0]{display:block;width:100%;max-width:100%}.container-search[data-v-839ecda0]{display:block;justify-content:center;box-sizing:border-box;width:100%;margin:5px 0;padding:0 5%}.container-search input[data-v-839ecda0]{width:100%;font-size:14px;padding:6px 8px;box-sizing:border-box;border-radius:8px;background:var(--ep-color-sbg);color:var(--ep-color-text);border:1px solid var(--ep-color-border)}",map:void 0,media:void 0})}),Dd,"data-v-839ecda0",false,undefined,!1,cd,void 0,void 0);var _d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mapEmojis={},t.currentCategory=t.initialCategory,t.filterEmoji="",t}return Lu(t,e),t.prototype.created=function(){var e=this.customCategories.map((function(e){return e.name}));e.includes(this.initialCategory)||(this.initialCategory=e[0]),this.mapperEmojisCategory(this.customEmojis),this.restoreFrequentlyEmojis(),this.i18n&&Ju(this.i18n)},t.prototype.beforeDestroy=function(){this.mapEmojis={}},t.prototype.onSearch=function(e){return Ru(this,void 0,void 0,(function(){return $u(this,(function(t){return this.filterEmoji=e,[2]}))}))},t.prototype.changeCategory=function(e){return Ru(this,void 0,void 0,(function(){var t;return $u(this,(function(n){switch(n.label){case 0:return t=this.mapEmojis[e.name].length,this.currentCategory=e.name,t?[4,this.onChangeCategory(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.updateFrequently=function(e){return Ru(this,void 0,void 0,(function(){var t,n;return $u(this,(function(o){switch(o.label){case 0:return t=this.mapEmojis.Frequently,n=Hu(new Set(Hu([e],t))),this.mapEmojis.Frequently=n.slice(0,this.limitFrequently),[4,this.saveFrequentlyEmojis(n)];case 1:return o.sent(),[2]}}))}))},t.prototype.mapperEmojisCategory=function(e){return Ru(this,void 0,void 0,(function(){var t=this;return $u(this,(function(n){return this.$set(this.mapEmojis,"Frequently",[]),e.filter((function(e){return!t.exceptEmojis.includes(e)})).forEach((function(e){var n=e.category;t.mapEmojis[n]||t.$set(t.mapEmojis,n,[]),t.mapEmojis[n].push(e)})),[2]}))}))},t.prototype.restoreFrequentlyEmojis=function(){return Ru(this,void 0,void 0,(function(){var e,t,n=this;return $u(this,(function(o){return e=localStorage.getItem("frequentlyEmojis"),t=JSON.parse(e)||[],this.mapEmojis.Frequently=t.map((function(e){return n.customEmojis[e]})),[2]}))}))},t.prototype.saveFrequentlyEmojis=function(e){return Ru(this,void 0,void 0,(function(){var t,n=this;return $u(this,(function(o){return t=e.map((function(e){return n.customEmojis.indexOf(e)})),localStorage.setItem("frequentlyEmojis",JSON.stringify(t)),[2]}))}))},Object.defineProperty(t.prototype,"categoriesFiltered",{get:function(){var e=this;return this.customCategories.filter((function(t){return!e.exceptCategories.includes(t)}))},enumerable:!1,configurable:!0}),t.prototype.onSelectEmoji=function(e){return Ru(this,void 0,void 0,(function(){return $u(this,(function(t){switch(t.label){case 0:return[4,this.updateFrequently(e)];case 1:return t.sent(),[2,e]}}))}))},t.prototype.onChangeCategory=function(e){return Ru(this,void 0,void 0,(function(){return $u(this,(function(t){return[2,e]}))}))},t.prototype.onChangeCustomEmojis=function(e){e&&e.length&&(this.mapEmojis={},this.mapperEmojisCategory(e))},Iu([G({default:function(){return id}})],t.prototype,"customEmojis",void 0),Iu([G({default:function(){return od}})],t.prototype,"customCategories",void 0),Iu([G({default:15})],t.prototype,"limitFrequently",void 0),Iu([G({default:5})],t.prototype,"emojisByRow",void 0),Iu([G({default:!1})],t.prototype,"continuousList",void 0),Iu([G({default:32})],t.prototype,"emojiSize",void 0),Iu([G({default:!0})],t.prototype,"emojiWithBorder",void 0),Iu([G({default:!0})],t.prototype,"showSearch",void 0),Iu([G({default:!0})],t.prototype,"showCategories",void 0),Iu([G({default:!1})],t.prototype,"dark",void 0),Iu([G({default:"Peoples"})],t.prototype,"initialCategory",void 0),Iu([G({default:function(){return[]}})],t.prototype,"exceptCategories",void 0),Iu([G({default:function(){return[]}})],t.prototype,"exceptEmojis",void 0),Iu([G({})],t.prototype,"i18n",void 0),Iu([W("select")],t.prototype,"onSelectEmoji",null),Iu([W("changeCategory")],t.prototype,"onChangeCategory",null),Iu([X("customEmojis")],t.prototype,"onChangeCustomEmojis",null),t=Iu([H({components:{Categories:fd,EmojiList:vd,InputSearch:xd}})],t)}(r.default);var Sd,Cd,Ad,Ed,Fd,Od,Md,Pd,Td=(Sd=H({components:{VEmojiPicker:ad({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["emoji-picker",{dark:e.dark}],attrs:{id:"EmojiPicker"}},[e.showCategories?n("Categories",{attrs:{categories:e.categoriesFiltered,current:e.currentCategory},on:{select:e.changeCategory}}):e._e(),e._v(" "),e.showSearch?n("InputSearch",{on:{update:e.onSearch}}):e._e(),e._v(" "),n("EmojiList",{attrs:{data:e.mapEmojis,category:e.currentCategory,filter:e.filterEmoji,emojiWithBorder:e.emojiWithBorder,emojiSize:e.emojiSize,emojisByRow:e.emojisByRow,continuousList:e.continuousList,hasSearch:e.showSearch},on:{select:e.onSelectEmoji}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-f1d527bc_0",{source:".emoji-picker[data-v-f1d527bc]{--ep-color-bg:#f0f0f0;--ep-color-sbg:#f6f6f6;--ep-color-border:#e4e4e4;--ep-color-text:#4a4a4a;--ep-color-active:#009688;display:inline-flex;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeSpeed;flex-direction:column;align-items:center;background-color:var(--ep-color-bg);border-radius:4px;border:1px solid var(--ep-color-border);overflow:hidden;width:325px;user-select:none}@media screen and (max-width:325px){.emoji-picker[data-v-f1d527bc]{width:100%}}.dark[data-v-f1d527bc]{--ep-color-bg:#191B1A;--ep-color-sbg:#212221;--ep-color-border:#3E3D42;--ep-color-text:#f0f0f0;--ep-color-active:#009688}",map:void 0,media:void 0})}),_d,"data-v-f1d527bc",false,undefined,!1,cd,void 0,void 0)}}),Cd=G(),Ad=G({default:!1}),Ed=X("value"),Sd((Od=function(e){m(o,e);var t,n=v(o);function o(){var e;d(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return f(y(e=n.call.apply(n,[this].concat(r))),"value",!1),S(y(e),"activator",Md,y(e)),S(y(e),"dark",Pd,y(e)),f(y(e),"absoluteX",0),f(y(e),"absoluteY",0),e}return p(o,[{key:"apply",value:function(e){this.$emit("emojiSelected",e.data)}},{key:"onValueChange",value:(t=u(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.value||(this.$destroy(),this.$el.parentNode.removeChild(this.$el));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),o}(r.default),Md=C(Od.prototype,"activator",[Cd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pd=C(Od.prototype,"dark",[Ad],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C(Od.prototype,"onValueChange",[Ed],Object.getOwnPropertyDescriptor(Od.prototype,"onValueChange"),Od.prototype),Fd=Od))||Fd);const Nd="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function jd(e){return(e,t)=>function(e,t){const n=Nd?t.media||"default":e,o=Ld[n]||(Ld[n]={ids:new Set,styles:[]});if(!o.ids.has(e)){o.ids.add(e);let n=t.source;if(t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),o.element||(o.element=document.createElement("style"),o.element.type="text/css",t.media&&o.element.setAttribute("media",t.media),void 0===Bd&&(Bd=document.head||document.getElementsByTagName("head")[0]),Bd.appendChild(o.element)),"styleSheet"in o.element)o.styles.push(n),o.element.styleSheet.cssText=o.styles.filter(Boolean).join("\n");else{const e=o.ids.size-1,t=document.createTextNode(n),r=o.element.childNodes;r[e]&&o.element.removeChild(r[e]),r.length?o.element.insertBefore(t,r[e]):o.element.appendChild(t)}}}(e,t)}let Bd;const Ld={};var zd,Id,Rd,$d,Vd,Hd,qd,Kd,Wd,Jd,Ud,Gd,Xd=fu({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{top:"",center:"","nudge-top":18,"nudge-left":160,absolute:"","close-on-content-click":!1,dark:e.dark},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("VEmojiPicker",{attrs:{labelSearch:"search",dark:e.dark,emojisByRow:"10",emojiSize:"25",lang:"pt-BR"},on:{select:e.apply}})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-94b39444_0",{source:'.emoji-picker .container-emoji{height:150px!important}.emoji-picker .container-emoji::after{content:" ";background:linear-gradient(rgba(240,240,240,0),rgba(240,240,240,.75),#f0f0f0);position:absolute;bottom:0;height:24px;left:0;right:0}.emoji-picker .container-emoji::-webkit-scrollbar{width:8px!important}.emoji-picker .container-emoji::-webkit-scrollbar-thumb{background:#ccc;border-radius:4px}.emoji-picker .container-emoji::-webkit-scrollbar-thumb:hover{background:#888}.emoji-picker .container-search{padding:0 4px!important}.dark .container-emoji::after{background:linear-gradient(rgba(0,0,0,0),rgba(0,0,0,.75),#000)}',map:void 0,media:void 0})}),Td,undefined,false,undefined,!1,jd,void 0,void 0),Yd=(zd=G(),Id=G({default:0}),Rd=G({default:0}),$d=G({default:!0}),Vd=G({default:!1}),H((qd=function(e){m(n,e);var t=v(n);function n(){var e;d(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return S(y(e=t.call.apply(t,[this].concat(r))),"value",Kd,y(e)),S(y(e),"nudgeLeft",Wd,y(e)),S(y(e),"nudgeTop",Jd,y(e)),S(y(e),"more",Ud,y(e)),S(y(e),"dark",Gd,y(e)),f(y(e),"menu",!1),f(y(e),"colors",["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#000000","#333333","#666666","#999999","#CCCCCC","#D5D5D4","#E8E8E8","#EEEEEE"]),f(y(e),"picker",!1),e}return p(n,[{key:"setColor",value:function(e){this.$emit("input",e),this.menu=!1}}]),n}(r.default),Kd=C(qd.prototype,"value",[zd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wd=C(qd.prototype,"nudgeLeft",[Id],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jd=C(qd.prototype,"nudgeTop",[Rd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ud=C(qd.prototype,"more",[$d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gd=C(qd.prototype,"dark",[Vd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hd=qd))||Hd),Qd=fu({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"offset-y":"",dark:e.dark,"nudge-left":e.nudgeLeft||255,"nudge-top":e.nudgeTop||42,"close-on-content-click":!1,transition:"scale-transition",origin:e.nudgeLeft?"top left":"top right"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[e._t("button",(function(){return[n("v-btn",e._g({staticStyle:{border:"1px solid rgba(0, 0, 0, 0.25) !important",top:"-2px"},attrs:{color:e.value,icon:"",small:""}},o),[n("v-icon",[e._v("mdi-circle")])],1)]}),null,{on:o})]}}],null,!0),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),n("v-list",{staticClass:"pb-0 pl-2"},[n("v-container",{staticStyle:{"padding-bottom":"0"},attrs:{fluid:""}},[n("div",{staticClass:"d-flex flex-wrap",staticStyle:{"max-width":"230px"}},e._l(e.colors,(function(t){return n("div",{key:t,staticClass:"text-center"},[n("v-btn",{attrs:{icon:"",small:""},on:{click:function(n){return e.setColor(t)}}},[n("v-icon",{attrs:{color:t}},[e._v("mdi-circle")])],1)],1)})),0)]),e._v(" "),n("v-divider",{staticClass:"mt-2",attrs:{horizontal:""}}),e._v(" "),e.more?[e.picker?n("v-btn",{staticClass:"ma-0 py-3",staticStyle:{margin:"1rem 0 0 0",height:"auto"},attrs:{"x-small":"",block:"",text:""},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.picker=!1}}},[e._v("\n        "+e._s(e.__("words.show-less"))+"\n      ")]):n("v-btn",{staticClass:"ma-0 py-3",staticStyle:{margin:"1rem 0 0 0",height:"auto"},attrs:{"x-small":"",block:"",text:""},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.picker=!0}}},[e._v("\n        "+e._s(e.__("words.show-more"))+"\n      ")]),e._v(" "),n("v-expand-transition",[e.picker?n("div",{staticClass:"text-center"},[n("v-divider"),e._v(" "),n("v-color-picker",{attrs:{value:e.value,width:"300"},on:{input:function(t){return e.$emit("input",t)}}})],1):e._e()])]:e._e()],2)],1)},staticRenderFns:[]},undefined,Yd,undefined,false,undefined,!1,void 0,void 0,void 0),Zd=Object.freeze({__proto__:null,ImageDialog:Mu,LinkDialog:Tu,VideoDialog:ju,EmojiPicker:Xd,ColorPicker:Qd,VAvatar:n.VAvatar,VInput:n.VInput,VCard:n.VCard,VBtn:n.VBtn,VImg:n.VImg,VIcon:n.VIcon,VFileInput:n.VFileInput,VList:n.VList,VListItem:n.VListItem,VListItemContent:n.VListItemContent,VListItemAvatar:n.VListItemAvatar,VListItemTitle:n.VListItemTitle,VMenu:n.VMenu,VProgressLinear:n.VProgressLinear,VSelect:n.VSelect,VSpacer:n.VSpacer,VToolbar:n.VToolbar,VTooltip:n.VTooltip}),eh=["bold","italic","underline","strike","color","|","headings","|","left","center","right","justify","|","bulletList","orderedList","|","link","image","video","emoji","|","clear"],th={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pack||"mdi";return this.packs[t][e]},packs:{md:{bold:"format_bold",italic:"format_italic",underline:"format_underlined",strike:"format_strikethrough",color:"format_color_text",highlight:"format_color_fill",h1:"mdi-format-header-1",h2:"mdi-format-header-2",h3:"mdi-format-header-3",p:"mdi-format-paragraph",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",bulletList:"format_list_bulleted",orderedList:"format_list_numbered",checkbox:"ballot",link:"link",image:"image",video:"videocam",emoji:"tag_faces",blockquote:"format_quote",rule:"horizontal_rule",code:"code",codeBlock:"terminal",clear:"format_clear"},mdi:{bold:"mdi-format-bold",italic:"mdi-format-italic",underline:"mdi-format-underline",strike:"mdi-format-strikethrough",color:"mdi-palette",highlight:"mdi-grease-pencil",h1:"mdi-format-header-1",h2:"mdi-format-header-2",h3:"mdi-format-header-3",p:"mdi-format-paragraph",left:"mdi-format-align-left",center:"mdi-format-align-center",right:"mdi-format-align-right",justify:"mdi-format-align-justify",bulletList:"mdi-format-list-bulleted",orderedList:"mdi-format-list-numbered",checkbox:"mdi-format-list-checkbox",link:"mdi-link",image:"mdi-image",video:"mdi-video",emoji:"mdi-emoticon-outline",blockquote:"mdi-format-quote-open",rule:"mdi-minus",code:"mdi-code-tags",codeBlock:"mdi-code-braces-box",clear:"mdi-format-clear"},fa:{bold:"fa-bold",italic:"fa-italic",underline:"fa-underline",strike:"fa-strikethrough",color:"fa-paint-brush",highlight:"fa-highlighter",h1:"mdi-format-header-1",h2:"mdi-format-header-2",h3:"mdi-format-header-3",p:"mdi-format-paragraph",left:"fa-align-left",center:"fa-align-center",right:"fa-align-right",justify:"fa-align-justify",bulletList:"fa-list-ul",orderedList:"fa-list-ol",checkbox:"fa-check",link:"fa-link",image:"fa-image",video:"fa-video",emoji:"fa-regular fa-face-grin",blockquote:"fa-quote-left",rule:"fa-minus",code:"fa-code",codeBlock:"fa-code",clear:"fa-text-slash"}}};function nh(e){var t,n={"|":{type:"divider"},divider:{type:"divider"},">":{type:"spacer"},spacer:{type:"spacer"},bold:{title:"Bold",icon:"bold",action:function(){return e.editor.chain().focus().toggleBold().run()},isActive:function(){return e.editor.isActive("bold")}},italic:{title:"Italic",icon:"italic",action:function(){return e.editor.chain().focus().toggleItalic().run()},isActive:function(){return e.editor.isActive("italic")}},underline:{title:"Underline",icon:"underline",action:function(){return e.editor.chain().focus().toggleUnderline().run()},isActive:function(){return e.editor.isActive("underline")}},strike:{title:"Strike",icon:"strike",action:function(){return e.editor.chain().focus().toggleStrike().run()},isActive:function(){return e.editor.isActive("strike")}},color:{title:"Color",icon:"color",action:function(t){return e.editor.chain().focus().setColor(t).run()},isActive:function(){return e.editor.isActive("textStyle")}},highlight:{title:"Highlight",icon:"highlight",action:function(){return e.editor.chain().focus().toggleHighlight().run()},isActive:function(){return e.editor.isActive("highlight")}},headings:{type:"headings"},h1:{title:"Heading 1",icon:"h1",action:function(){return e.editor.chain().focus().toggleHeading({level:1}).run()},isActive:function(){return e.editor.isActive("heading",{level:1})}},h2:{title:"Heading 2",icon:"h2",action:function(){return e.editor.chain().focus().toggleHeading({level:2}).run()},isActive:function(){return e.editor.isActive("heading",{level:2})}},h3:{title:"Heading 3",icon:"h3",action:function(){return e.editor.chain().focus().toggleHeading({level:3}).run()},isActive:function(){return e.editor.isActive("heading",{level:3})}},p:{title:"Paragraph",icon:"p",action:function(){return e.editor.chain().focus().setParagraph().run()},isActive:function(){return e.editor.isActive("paragraph")}},left:{title:"left",icon:"left",action:function(){return e.editor.chain().focus().setTextAlign("left").run()},isActive:function(){return e.editor.isActive({textAlign:"left"})}},center:{title:"center",icon:"center",action:function(){return e.editor.chain().focus().setTextAlign("center").run()},isActive:function(){return e.editor.isActive({textAlign:"center"})}},right:{title:"right",icon:"right",action:function(){return e.editor.chain().focus().setTextAlign("right").run()},isActive:function(){return e.editor.isActive({textAlign:"right"})}},justify:{title:"justify",icon:"justify",action:function(){return e.editor.chain().focus().setTextAlign("justify").run()},isActive:function(){return e.editor.isActive({textAlign:"justify"})}},bulletList:{title:"Bullet List",icon:"bulletList",action:function(){return e.editor.chain().focus().toggleBulletList().run()},isActive:function(){return e.editor.isActive("bulletList")}},orderedList:{title:"Ordered List",icon:"orderedList",action:function(){return e.editor.chain().focus().toggleOrderedList().run()},isActive:function(){return e.editor.isActive("orderedList")}},checkbox:{title:"Task List",icon:"checkbox",action:function(){return e.editor.chain().focus().toggleTaskList().run()},isActive:function(){return e.editor.isActive("taskList")}},link:{title:"Link",icon:"link",action:function(){return e.linkDialog=!0},isActive:function(){return e.editor.isActive("link")}},image:{title:"Image",icon:"image",action:function(){return e.imageDialog=!0},isActive:function(){return e.editor.isActive("image")}},video:{title:"Video",icon:"video",action:function(){return e.videoDialog=!0},isActive:function(){return e.editor.isActive("iframe")}},emoji:{title:"Emoji",icon:"emoji",action:e.setEmoji},blockquote:{title:"Blockquote",icon:"blockquote",action:function(){return e.editor.chain().focus().toggleBlockquote().run()},isActive:function(){return e.editor.isActive("blockquote")}},rule:{title:"Horizontal Rule",icon:"rule",action:function(){return e.editor.chain().focus().setHorizontalRule().run()}},code:{title:"Code",icon:"code",action:function(){return e.editor.chain().focus().toggleCode().run()},isActive:function(){return e.editor.isActive("code")}},codeBlock:{title:"Code Block",icon:"codeBlock",action:function(){return e.editor.chain().focus().toggleCodeBlock().run()},isActive:function(){return e.editor.isActive("codeBlock")}},clear:{title:"Clear Format",icon:"clear",action:function(){return e.editor.chain().focus().clearNodes().unsetAllMarks().run()}}},o=[],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}(e.toolbar.concat(e.append));try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i]?(n[i].icon=th.get(n[i].icon,e.$vuetify.icons.iconfont),n[i].type=n[i].type||i,o.push(n[i])):"#"===i[0]&&o.push({type:"slot",slot:i.substring(1)})}}catch(e){r.e(e)}finally{r.f()}return o}function oh(e,t,n){return n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},e(n,n.exports),n.exports}function rh(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var ih=/javascript\s*\:/gim;var sh={whiteList:rh(),getDefaultWhiteList:rh,onAttr:function(e,t,n){},onIgnoreAttr:function(e,t,n){},safeAttrValue:function(e,t){return ih.test(t)?"":t}},ah=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},lh=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")};var ch=function(e,t){";"!==(e=lh(e))[e.length-1]&&(e+=";");var n=e.length,o=!1,r=0,i=0,s="";function a(){if(!o){var n=ah(e.slice(r,i)),a=n.indexOf(":");if(-1!==a){var l=ah(n.slice(0,a)),c=ah(n.slice(a+1));if(l){var u=t(r,s.length,l,c,n);u&&(s+=u+"; ")}}}r=i+1}for(;i<n;i++){var l=e[i];if("/"===l&&"*"===e[i+1]){var c=e.indexOf("*/",i+2);if(-1===c)break;r=(i=c+1)+1,o=!1}else"("===l?o=!0:")"===l?o=!1:";"===l?o||a():"\n"===l&&a()}return ah(s)};function uh(e){return null==e}function dh(e){e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{}),e.whiteList=e.whiteList||sh.whiteList,e.onAttr=e.onAttr||sh.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||sh.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||sh.safeAttrValue,this.options=e}dh.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,o=t.onAttr,r=t.onIgnoreAttr,i=t.safeAttrValue;return ch(e,(function(e,t,s,a,l){var c=n[s],u=!1;if(!0===c?u=c:"function"==typeof c?u=c(a):c instanceof RegExp&&(u=c.test(a)),!0!==u&&(u=!1),a=i(s,a)){var d,h={position:t,sourcePosition:e,source:l,isWhite:u};return u?uh(d=o(s,a,h))?s+":"+a:d:uh(d=r(s,a,h))?void 0:d}}))};var hh=dh,ph=oh((function(e,t){for(var n in t=e.exports=function(e,t){return new hh(t).process(e)},t.FilterCSS=hh,sh)t[n]=sh[n];"undefined"!=typeof window&&(window.filterCSS=e.exports)})),fh=function(e,t){var n,o;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},mh=function(e,t,n){var o,r;if(Array.prototype.forEach)return e.forEach(t,n);for(o=0,r=e.length;o<r;o++)t.call(n,e[o],o,e)},gh=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},wh=function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},yh=ph.FilterCSS,bh=ph.getDefaultWhiteList;function vh(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var kh=new yh;function Dh(e){return e.replace(xh,"&lt;").replace(_h,"&gt;")}var xh=/</g,_h=/>/g,Sh=/"/g,Ch=/&quot;/g,Ah=/&#([a-zA-Z0-9]*);?/gim,Eh=/&colon;?/gim,Fh=/&newline;?/gim,Oh=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Mh=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Ph=/u\s*r\s*l\s*\(.*/gi;function Th(e){return e.replace(Sh,"&quot;")}function Nh(e){return e.replace(Ch,'"')}function jh(e){return e.replace(Ah,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function Bh(e){return e.replace(Eh,":").replace(Fh," ")}function Lh(e){for(var t="",n=0,o=e.length;n<o;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return gh(t)}function zh(e){return e=Lh(e=Bh(e=jh(e=Nh(e))))}function Ih(e){return e=Dh(e=Th(e))}var Rh=function(e,t,n,o){if(n=zh(n),"href"===t||"src"===t){if("#"===(n=gh(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(Oh.lastIndex=0,Oh.test(n))return""}else if("style"===t){if(Mh.lastIndex=0,Mh.test(n))return"";if(Ph.lastIndex=0,Ph.test(n)&&(Oh.lastIndex=0,Oh.test(n)))return"";!1!==o&&(n=(o=o||kh).process(n))}return n=Ih(n)},$h=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),o=[],r=!1;return{onIgnoreTag:function(i,s,a){if(function(t){return!!n||-1!==fh(e,t)}(i)){if(a.isClosing){var l="[/removed]",c=a.position+l.length;return o.push([!1!==r?r:a.position,c]),r=!1,l}return r||(r=a.position),"[removed]"}return t(i,s,a)},remove:function(e){var t="",n=0;return mh(o,(function(o){t+=e.slice(n,o[0]),n=o[1]})),t+=e.slice(n)}}},Vh=function(e){for(var t="",n=0;n<e.length;){var o=e.indexOf("\x3c!--",n);if(-1===o){t+=e.slice(n);break}t+=e.slice(n,o);var r=e.indexOf("--\x3e",o);if(-1===r)break;n=r+3}return t},Hh={whiteList:{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},getDefaultWhiteList:vh,onTag:function(e,t,n){},onIgnoreTag:function(e,t,n){},onTagAttr:function(e,t,n){},onIgnoreTagAttr:function(e,t,n){},safeAttrValue:Rh,escapeHtml:Dh,escapeQuote:Th,unescapeQuote:Nh,escapeHtmlEntities:jh,escapeDangerHtml5Entities:Bh,clearNonPrintableCharacter:Lh,friendlyAttrValue:zh,escapeAttrValue:Ih,onIgnoreTagStripAll:function(){return""},StripTagBody:$h,stripCommentTag:Vh,stripBlankChar:function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},cssFilter:kh,getDefaultCSSWhiteList:bh};function qh(e){var t,n=wh(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=gh(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function Kh(e){return"</"===e.slice(0,2)}var Wh=/[^a-zA-Z0-9\\_:.-]/gim;function Jh(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function Uh(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}}function Gh(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function Xh(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}var Yh=function(e,t,n){var o="",r=0,i=!1,s=!1,a=0,l=e.length,c="",u="";e:for(a=0;a<l;a++){var d=e.charAt(a);if(!1===i){if("<"===d){i=a;continue}}else if(!1===s){if("<"===d){o+=n(e.slice(r,a)),i=a,r=a;continue}if(">"===d||a===l-1){o+=n(e.slice(r,i)),c=qh(u=e.slice(i,a+1)),o+=t(i,o.length,c,u,Kh(u)),r=a+1,i=!1;continue}if('"'===d||"'"===d)for(var h=1,p=e.charAt(a-h);""===p.trim()||"="===p;){if("="===p){s=d;continue e}p=e.charAt(a-++h)}}else if(d===s){s=!1;continue}}return r<l&&(o+=n(e.substr(r))),o},Qh=function(e,t){var n=0,o=0,r=[],i=!1,s=e.length;function a(e,n){if(!((e=(e=gh(e)).replace(Wh,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&r.push(o)}}for(var l=0;l<s;l++){var c,u=e.charAt(l);if(!1!==i||"="!==u)if(!1===i||l!==o)if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(c=Jh(e,l))){a(gh(e.slice(n,l))),i=!1,n=l+1;continue}l=c-1;continue}if(-1===(c=Gh(e,l-1))){a(i,Xh(gh(e.slice(n,l)))),i=!1,n=l+1;continue}}else;else{if(-1===(c=e.indexOf(u,l+1)))break;a(i,gh(e.slice(o+1,c))),i=!1,n=(l=c)+1}else i=e.slice(n,l),n=l+1,o='"'===e.charAt(n)||"'"===e.charAt(n)?n:Uh(e,l+1)}return n<e.length&&(!1===i?a(e.slice(n)):a(i,Xh(gh(e.slice(n))))),gh(r.join(" "))},Zh={parseTag:Yh,parseAttr:Qh},ep=ph.FilterCSS,tp=Zh.parseTag,np=Zh.parseAttr;function op(e){return null==e}function rp(e){e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Hh.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map((function(e){return e.toLowerCase()})):t[n.toLowerCase()]=e[n];return t}(e.whiteList||e.allowList):e.whiteList=Hh.whiteList,e.onTag=e.onTag||Hh.onTag,e.onTagAttr=e.onTagAttr||Hh.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Hh.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Hh.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Hh.safeAttrValue,e.escapeHtml=e.escapeHtml||Hh.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new ep(e.css))}rp.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,o=t.onTag,r=t.onIgnoreTag,i=t.onTagAttr,s=t.onIgnoreTagAttr,a=t.safeAttrValue,l=t.escapeHtml,c=this.cssFilter;t.stripBlankChar&&(e=Hh.stripBlankChar(e)),t.allowCommentTag||(e=Hh.stripCommentTag(e));var u=!1;t.stripIgnoreTagBody&&(u=Hh.StripTagBody(t.stripIgnoreTagBody,r),r=u.onIgnoreTag);var d=tp(e,(function(e,t,u,d,h){var p={sourcePosition:e,position:t,isClosing:h,isWhite:Object.prototype.hasOwnProperty.call(n,u)},f=o(u,d,p);if(!op(f))return f;if(p.isWhite){if(p.isClosing)return"</"+u+">";var m=function(e){var t=wh(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=gh(e.slice(t+1,-1)))[e.length-1];return n&&(e=gh(e.slice(0,-1))),{html:e,closing:n}}(d),g=n[u],w=np(m.html,(function(e,t){var n=-1!==fh(g,e),o=i(u,e,t,n);return op(o)?n?(t=a(u,e,t,c))?e+'="'+t+'"':e:op(o=s(u,e,t,n))?void 0:o:o}));return d="<"+u,w&&(d+=" "+w),m.closing&&(d+=" /"),d+=">"}return op(f=r(u,d,p))?l(d):f}),l);return u&&(d=u.remove(d)),d};var ip,sp,ap,lp,cp,up,dp,hp,pp,fp,mp,gp,wp,yp,bp,vp,kp,Dp,xp,_p,Sp,Cp,Ap,Ep,Fp,Op,Mp,Pp,Tp,Np,jp,Bp,Lp,zp,Ip,Rp,$p,Vp,Hp,qp,Kp,Wp,Jp,Up,Gp,Xp=rp,Yp=oh((function(e,t){function n(e,t){return new Xp(t).process(e)}(t=e.exports=n).filterXSS=n,t.FilterXSS=Xp,function(){for(var e in Hh)t[e]=Hh[e];for(var n in Zh)t[n]=Zh[n]}(),"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)})),Qp={a:["href","title","target"],span:["style","data-type","class","data-label","data-id"],blockquote:["style"],p:["style"],hr:[],pre:[],code:[],strong:[],img:["src","alt","title"],label:["contenteditable"],input:["type","value"],div:["class"],iframe:["src","allowfullscreen"],em:[],s:[],mark:[],h1:[],h2:[],h3:[],ul:["class","data-type"],li:["data-checked"],ol:[],u:[],tr:["class","style"],td:["class","style"],th:["class","style"],tbody:["class","style"],table:["class","style"],br:[]},Zp=(ip=H({components:a({EditorContent:Qs},Zd)}),sp=G({default:""}),ap=G({default:!1}),lp=G({default:!1}),cp=G({default:!1}),up=G({default:!0}),dp=G({default:!1}),hp=G(),pp=G(),fp=G({default:function(){return eh}}),mp=G({default:function(){return[]}}),gp=G({default:!1}),wp=G({default:!1}),yp=G({default:!0}),bp=G({default:function(){return Qp}}),vp=G({default:function(){return[]}}),kp=G(),Dp=X("value"),xp=X("disabled"),_p=X("selectedAlignment"),Sp=X("selectedHeading"),Cp=G(),Ap=G(),Ep=G({default:!1}),ip((Op=function(e){m(n,e);var t=v(n);function n(){var e;d(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return S(y(e=t.call.apply(t,[this].concat(r))),"value",Mp,y(e)),S(y(e),"view",Pp,y(e)),S(y(e),"dark",Tp,y(e)),S(y(e),"dense",Np,y(e)),S(y(e),"outlined",jp,y(e)),S(y(e),"disabled",Bp,y(e)),S(y(e),"label",Lp,y(e)),S(y(e),"placeholder",zp,y(e)),S(y(e),"toolbar",Ip,y(e)),S(y(e),"append",Rp,y(e)),S(y(e),"hideToolbar",$p,y(e)),S(y(e),"disableToolbar",Vp,y(e)),S(y(e),"xss",Hp,y(e)),S(y(e),"xssOptions",qp,y(e)),S(y(e),"extensions",Kp,y(e)),S(y(e),"editorClass",Wp,y(e)),f(y(e),"editor",null),f(y(e),"selectedAlignment","left"),f(y(e),"selectedColor",null),f(y(e),"headingsItems",[{text:"Heading 1",value:1},{text:"Heading 2",value:2},{text:"Heading 3",value:3},{text:"Text",value:0}]),f(y(e),"selectedHeading",0),S(y(e),"uploadImage",Jp,y(e)),f(y(e),"imageDialog",!1),f(y(e),"linkDialog",!1),f(y(e),"videoDialog",!1),S(y(e),"mentionItems",Up,y(e)),S(y(e),"mention",Gp,y(e)),f(y(e),"mentionConfig",{loading:!1,items:[],selected:0,show:!1,query:"",x:0,y:0,command:function(e){return 0},fetchMentions:null}),e}return p(n,[{key:"cleanValue",get:function(){if(!1===this.xss)return this.value;var e=this.value.replace("https://youtu.be/","https://www.youtube.com/watch?v=").replace("watch?v=","embed/").replace("https://vimeo.com/","https://player.vimeo.com/video/"),t=this.xssOptions;return Array.isArray(this.xssOptions)&&(t=this.xssOptions.reduce((function(e,t){return e[t]=Qp[t],e}),{})),Yp(e,{whiteList:t})}},{key:"items",get:function(){return nh(this)}},{key:"created",value:function(){var e,t,n=this;this.editor=new Ys({content:this.value,editorProps:{handleKeyDown:this.handleKeyDown},onSelectionUpdate:this.onSelectionUpdate,onUpdate:this.onUpdate,extensions:[Qc.configure({bold:{},blockquote:{HTMLAttributes:{class:"blockquote"}},history:{depth:10},heading:{levels:[1,2,3]},placeholder:{placeholder:function(){return n.placeholder||""}},textAlign:{types:["heading","paragraph"]},focus:{className:"focus"},color:{},highlight:{multicolor:!0},image:{},link:{openOnClick:!1},taskList:{HTMLAttributes:{class:"task-list"}},taskItem:{HTMLAttributes:{itemTypeName:"task-list"}},textStyle:{},underline:{},video:{},mention:!!this.mention&&{HTMLAttributes:{class:"mention"},suggestion:{items:(t=u(l().mark((function e(t){var o,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.query,"function"!=typeof n.defaultMentionItems){e.next=7;break}return(i=n.mentionConfig).loading=!0,i.fetchMentions=null!==(r=i.fetchMentions)&&void 0!==r?r:hu(function(){var e=u(l().mark((function e(t){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.defaultMentionItems(t);case 2:o=e.sent,i.items=o,i.loading=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1e3),i.fetchMentions(o),e.abrupt("return",i.items);case 7:return e.abrupt("return",n.defaultMentionItems.filter((function(e){return e.text.toLowerCase().startsWith(o.toLowerCase())})).slice(0,5));case 8:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),render:(e=this,function(){var t=e.mentionConfig;return{onStart:function(e){t.show=!0,t.items=e.items,t.command=e.command,t.selected=0;var n=e.clientRect(),o=n.x,r=n.y;t.x=o,t.y=r+24},onUpdate:function(e){t.items=e.items},onKeyDown:function(n){var o=n.event;return"Escape"===o.key?(t.show=!1,!0):"ArrowUp"===o.key?(t.selected=(t.selected+t.items.length-1)%t.items.length,!0):"ArrowDown"===o.key?(t.selected=(t.selected+1)%t.items.length,!0):"Enter"===o.key&&(e.selectMention(t.selected),!0)},onExit:function(){t.show=!1}}})}}})].concat(D(this.extensions)),autofocus:!1,editable:!0,injectCSS:!0})}},{key:"onValueChanged",value:function(e){this.editor.getHTML()!==e&&this.editor.commands.setContent(e)}},{key:"onDisabledChanged",value:function(e){this.editor.setEditable(!e)}},{key:"beforeDestroy",value:function(){this.editor.destroy()}},{key:"handleKeyDown",value:function(e,t){return!("Enter"!==t.key||!this.$listeners.enter||t.shiftKey||this.mentionConfig.show)&&(this.$emit("enter"),!0)}},{key:"onSelectionUpdate",value:function(e){var t=e.editor.getAttributes("textStyle").color;this.selectedColor=t,this.selectedHeading=this.getHeading()}},{key:"onUpdate",value:function(e){var t=e.editor;this.$emit("input",t.getHTML())}},{key:"onAlignmentChanged",value:function(e,t){e!==t&&e!==this.getAlignment()&&this.editor.chain().focus().setTextAlign(e).run()}},{key:"getAlignment",value:function(){return this.editor.isActive({textAlign:"left"})?"left":this.editor.isActive({textAlign:"center"})?"center":this.editor.isActive({textAlign:"right"})?"right":this.editor.isActive({textAlign:"justify"})?"justify":"left"}},{key:"selectedColorBorder",get:function(){var e=this.disableToolbar?"0.2":"0.67";if(this.selectedColor){var t="".concat(this.selectedColor);return"r"===t[0]?(e=this.disableToolbar?"0.25":"0.75","3px solid ".concat(t.replace(")",", ".concat(e,")")))):(e=this.disableToolbar?"30":"C0","3px solid ".concat(t.concat(e)))}return"3px solid rgba(0, 0, 0, ".concat(e,")")}},{key:"setEmoji",value:function(e){var t=this,n=e.target,o=new(r.default.extend(Xd))({vuetify:Zc,propsData:{dark:this.dark}});o.$mount(),o.$on("emojiSelected",(function(e){t.editor.commands.insertContent(e)})),document.querySelector("body").appendChild(o.$el);var i=n.getBoundingClientRect();o.$children[0].absoluteX=i.x+14,o.$children[0].absoluteY=i.y+14,o.value=!0}},{key:"onHeadingChanged",value:function(e,t){e!==t&&e!==this.getHeading()&&(e>0?this.editor.chain().focus().toggleHeading({level:e}).run():this.editor.chain().focus().setParagraph().run())}},{key:"getHeading",value:function(){return this.editor.isActive("heading",{level:1})?1:this.editor.isActive("heading",{level:2})?2:this.editor.isActive("heading",{level:3})?3:0}},{key:"defaultUploadImage",get:function(){return this.uploadImage||F("uploadImage")}},{key:"selectedImage",get:function(){var e,t;return null===(e=this.editor.view.state.selection.node)||void 0===e||null===(t=e.attrs)||void 0===t?void 0:t.src}},{key:"selectedLink",get:function(){return this.editor.getAttributes("link").href}},{key:"selectedVideo",get:function(){return this.editor.getAttributes("iframe").src}},{key:"defaultMentionItems",get:function(){return this.mentionItems||F("mentionItems")}},{key:"selectMention",value:function(e){var t=this.mentionConfig.items[e];this.mentionConfig.command({id:t.value,label:t.text}),this.mentionConfig.show=!1,this.$emit("mention",t)}}]),n}(r.default),Mp=C(Op.prototype,"value",[sp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pp=C(Op.prototype,"view",[ap],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tp=C(Op.prototype,"dark",[lp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Np=C(Op.prototype,"dense",[cp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jp=C(Op.prototype,"outlined",[up],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bp=C(Op.prototype,"disabled",[dp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lp=C(Op.prototype,"label",[hp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zp=C(Op.prototype,"placeholder",[pp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ip=C(Op.prototype,"toolbar",[fp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rp=C(Op.prototype,"append",[mp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$p=C(Op.prototype,"hideToolbar",[gp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vp=C(Op.prototype,"disableToolbar",[wp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hp=C(Op.prototype,"xss",[yp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qp=C(Op.prototype,"xssOptions",[bp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kp=C(Op.prototype,"extensions",[vp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wp=C(Op.prototype,"editorClass",[kp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C(Op.prototype,"onValueChanged",[Dp],Object.getOwnPropertyDescriptor(Op.prototype,"onValueChanged"),Op.prototype),C(Op.prototype,"onDisabledChanged",[xp],Object.getOwnPropertyDescriptor(Op.prototype,"onDisabledChanged"),Op.prototype),C(Op.prototype,"onAlignmentChanged",[_p],Object.getOwnPropertyDescriptor(Op.prototype,"onAlignmentChanged"),Op.prototype),C(Op.prototype,"onHeadingChanged",[Sp],Object.getOwnPropertyDescriptor(Op.prototype,"onHeadingChanged"),Op.prototype),Jp=C(Op.prototype,"uploadImage",[Cp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Up=C(Op.prototype,"mentionItems",[Ap],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gp=C(Op.prototype,"mention",[Ep],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fp=Op))||Fp),ef=fu({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-tiptap",class:{dense:e.dense,view:e.view}},[!1!==e.view?n("div",{staticStyle:{width:"100%"},domProps:{innerHTML:e._s(e.cleanValue)}}):[e.label?n("label",{staticClass:"v-label"},[e._v(e._s(e.label))]):e._e(),e._v(" "),n("v-input",e._b({staticClass:"simple outside-label",staticStyle:{"padding-top":"0px !important"},attrs:{"hide-details":"auto"}},"v-input",e.$attrs,!1),[n("v-card",e._b({staticStyle:{width:"100%"},style:{borderColor:e.$attrs["error-messages"]?"#ff5252":void 0},attrs:{flat:"",outlined:e.outlined,dark:e.dark}},"v-card",e.$attrs,!1),[!e.hideToolbar&&e.toolbar&&e.toolbar.length?n("v-toolbar",{staticClass:"py-1",attrs:{dense:"",flat:"",color:e.dark?void 0:"grey lighten-4",height:"auto"}},[e._l(e.items,(function(t,o){return["spacer"===t.type?n("v-spacer",{key:"spacer-"+o}):"divider"===t.type?n("div",{key:"divider-"+o,staticClass:"divider"}):"slot"===t.type?n("div",{key:"slot-"+o},[e._t(t.slot,null,null,{editor:e.editor,disabled:e.disableToolbar})],2):n("div",{key:"button-"+o},[n("v-tooltip",{attrs:{"open-delay":500,top:""},scopedSlots:e._u([{key:"activator",fn:function(o){var r=o.on,i=o.attrs;return["headings"===t.type?n("div",{staticClass:"ml-n1"},[n("v-select",{staticStyle:{width:"104px"},attrs:{disabled:e.disableToolbar,items:e.headingsItems,"menu-props":{dark:e.dark},dark:e.dark,dense:"","hide-details":"auto","data-testid":t.type},model:{value:e.selectedHeading,callback:function(t){e.selectedHeading=t},expression:"selectedHeading"}})],1):"Color"===t.title?n("div",{staticClass:"mr-1"},[n("ColorPicker",e._g(e._b({attrs:{dark:e.dark,more:!1,"nudge-top":-4,"nudge-left":8},on:{input:function(n){return t.action(e.selectedColor)}},scopedSlots:e._u([{key:"button",fn:function(o){var r=o.on;return[n("v-btn",e._g({attrs:{disabled:e.disableToolbar,icon:"",small:"","data-testid":t.type}},r),[n("v-icon",{style:{"border-bottom":e.selectedColorBorder,height:"18px",top:"2px",width:"20px"}},[e._v("\n                            mdi-format-color-text\n                          ")])],1)]}}],null,!0),model:{value:e.selectedColor,callback:function(t){e.selectedColor=t},expression:"selectedColor"}},"ColorPicker",i,!1),r))],1):n("v-btn",e._g(e._b({staticClass:"mr-1",class:{"v-btn--active":t.isActive&&t.isActive()},attrs:{disabled:e.disableToolbar,color:t.isActive&&t.isActive()?"primary":void 0,icon:"",small:"","data-testid":t.type},on:{click:t.action}},"v-btn",i,!1),r),[n("v-icon",[e._v(e._s(t.icon))])],1)]}}],null,!0)},[n("span",[e._v(e._s(t.title))])])],1)]}))],2):e._e(),e._v(" "),n("div",{staticClass:"d-flex"},[e._t("prepend",null,null,{editor:e.editor}),e._v(" "),e._t("editor",(function(){return[n("editor-content",{staticClass:"flex-grow-1",class:e.editorClass,attrs:{editor:e.editor,"data-testid":"value"}})]}),null,{editor:e.editor}),e._v(" "),e._t("append",null,null,{editor:e.editor})],2),e._v(" "),e._t("bottom",null,null,{editor:e.editor})],2),e._v(" "),n("ImageDialog",{attrs:{value:e.selectedImage,show:e.imageDialog,dark:e.dark,uploadImage:e.defaultUploadImage},on:{close:function(t){e.imageDialog=!1},apply:function(t){e.editor.chain().focus().setImage({src:t}).run()}}}),e._v(" "),n("LinkDialog",{attrs:{value:e.selectedLink,show:e.linkDialog,dark:e.dark},on:{close:function(t){e.linkDialog=!1},apply:function(t){e.editor.chain().focus().extendMarkRange("link").setLink({href:t}).run()}}}),e._v(" "),n("VideoDialog",{attrs:{value:e.selectedVideo,show:e.videoDialog,dark:e.dark},on:{close:function(t){e.videoDialog=!1},apply:function(t){e.editor.chain().focus().setIframe({src:t}).run()}}}),e._v(" "),n("v-menu",{attrs:{value:e.mentionConfig.show&&(e.mentionConfig.loading||e.mentionConfig.items.length),dense:"",absolute:"","position-x":e.mentionConfig.x,"position-y":e.mentionConfig.y,"offset-y":"","max-height":"230px"}},[e.mentionConfig.loading?n("v-progress-linear",{staticStyle:{"min-width":"120px"},style:{marginBottom:0!=e.mentionConfig.items.length?"-6px":"0px",zIndex:9},attrs:{color:"primary",indeterminate:"",height:"6"}}):e._e(),e._v(" "),e.mentionConfig.items.length>0?n("v-list",{staticClass:"py-0 v-tiptap-mentions",attrs:{dense:""}},e._l(e.mentionConfig.items,(function(t,o){return n("v-list-item",{key:t.text,staticClass:"item",style:{background:o===e.mentionConfig.selected?"#EEE":void 0},on:{click:function(t){return e.selectMention(o)}}},[t.avatar?n("v-list-item-avatar",{attrs:{size:"20"}},[n("v-img",{attrs:{alt:t.text+" avatar",src:t.avatar}})],1):e._e(),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.text))])],1)],1)})),1):e._e()],1)],1)]],2)},staticRenderFns:[]},(function(e){e&&e("data-v-6c81bd73_0",{source:".v-tiptap{overflow-wrap:anywhere}.v-tiptap .v-btn>.v-btn__content .v-icon.fa{font-size:18px!important}.v-tiptap .ProseMirror{padding:8px 18px;min-height:180px;overflow-wrap:anywhere}.v-tiptap.dense .ProseMirror{padding:6px 12px;min-height:32px}.v-tiptap.dense p{padding:0 0;line-height:1.2rem}.v-tiptap .ProseMirror p.is-editor-empty:first-child::before{content:attr(data-placeholder);float:left;color:#adb5bd;pointer-events:none;height:0;font-style:italic}.v-tiptap .v-select__selection--disabled{color:rgba(0,0,0,.26)!important}.v-tiptap .theme--dark .v-select__selection{color:#fcfcfc!important}.v-tiptap .theme--dark .v-input__slot:hover{background:#1e1e1e!important}.v-tiptap .theme--dark .v-select__selection--disabled{color:#fcfcfc71!important}.v-tiptap .v-toolbar__content{flex-wrap:wrap;padding:4px 12px}.v-tiptap .v-toolbar__content .v-select{width:min-content;margin-bottom:0!important}.v-tiptap .v-toolbar__content .v-select .v-input__slot:hover{background:#fcfcfc;border-radius:4px}.v-tiptap .v-toolbar__content .v-select .v-input__slot::after,.v-tiptap .v-toolbar__content .v-select .v-input__slot::before{display:none}.v-tiptap .v-toolbar__content .v-select .v-input__control>div{height:28px;min-height:24px!important;padding:6px!important}.v-tiptap .v-toolbar__content .v-select .v-input__icon{min-width:auto;width:auto;margin-left:-4px;margin-right:-4px}.v-tiptap .v-toolbar__content .v-select .v-input__append-inner{padding:0}.v-tiptap .v-toolbar__content .v-select .v-select__selection{margin-top:0;font-size:14px;margin-right:8px;font-weight:500;color:rgba(0,0,0,.7)}.v-tiptap .v-toolbar__content .v-btn.v-btn--icon{border-radius:4px}.v-tiptap .divider{width:2px;height:1.25rem;background-color:rgba(0,0,0,.1);margin-left:.25rem;margin-right:.5rem}.v-tiptap :focus-visible{outline:-webkit-focus-ring-color auto 0}.v-tiptap p{padding:.35em 0;margin:2px 0;margin-bottom:0;line-height:1.5rem}.v-tiptap h1{font-size:2.125rem!important;line-height:2.5rem;letter-spacing:.0073529412em!important;font-weight:400;font-family:Roboto,sans-serif!important;margin:.75em 0 .5em 0}.v-tiptap h1:first-child{margin-top:.25em}.v-tiptap h2{line-height:2rem;font-family:Roboto,sans-serif!important;font-size:1.5rem!important;font-weight:400;letter-spacing:normal!important;margin:.75em 0 .5em 0}.v-tiptap h3{font-size:1.25rem!important;font-weight:500;letter-spacing:.0125em!important;line-height:2rem;font-family:Roboto,sans-serif!important;margin:.75em 0 .5em 0}.v-tiptap blockquote{margin-left:1rem;padding-left:.75em;font-weight:300;border-left:3px solid rgba(13,13,13,.2)}.v-tiptap img{max-width:min(640px,100%);height:auto}.v-tiptap img.focus{outline:4px solid #50adf8}.v-tiptap .iframe-wrapper iframe{width:640px;height:360px}.v-tiptap .iframe-wrapper.focus iframe{outline:4px solid #50adf8}.v-tiptap ol,.v-tiptap ul{padding-left:20px}.v-tiptap ul[data-type=taskList]{list-style:none;padding:0}.v-tiptap ul[data-type=taskList] p{margin:0}.v-tiptap ul[data-type=taskList] li{display:flex}.v-tiptap ul[data-type=taskList] li>label{flex:0 0 auto;margin-right:.5rem;margin-top:.4rem;user-select:none}.v-tiptap ul[data-type=taskList] li>div{flex:1 1 auto}.v-tiptap .mention{color:#08c}.v-tiptap .v-label{color:rgba(0,0,0,.7)!important;font-weight:500;line-height:2rem}.v-tiptap .v-list{padding:0 0}.v-tiptap-mentions .v-list-item__avatar:first-child{margin-right:8px!important;margin-left:-8px!important}.v-tiptap-mentions .v-list--dense .v-list-item,.v-tiptap-mentions .v-list-item--dense{min-height:36px}",map:void 0,media:void 0})}),Zp,undefined,false,undefined,!1,jd,void 0,void 0),tf=function(e,t){E(t||{}),e.component("VTiptap",ef)},nf=Object.freeze({__proto__:null,VTiptap:ef,default:tf});return Object.entries(nf).forEach((function(e){var t=k(e,2),n=t[0],o=t[1];"default"!==n&&(tf[n]=o)})),tf}(Vue,Vuetify,lib$2);